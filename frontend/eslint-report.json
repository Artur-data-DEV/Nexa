[{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\fixtures\\test-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\authentication.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\campaign-approval.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\campaign-crud.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\chat.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\contract-delivery.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\contract-lifecycle.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\flows\\payment.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\e2e\\helpers\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\jest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\jest.setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\forgot-password\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\reset-password\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\signup\\brand\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":183,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6332,6335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6332,6335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport React, { Suspense, useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Check, Loader2, ArrowRight, Smartphone, Mail } from \"lucide-react\"\nimport { toast } from \"sonner\"\n\nimport { Button } from \"@/presentation/components/ui/button\"\nimport { Input } from \"@/presentation/components/ui/input\"\nimport { Checkbox } from \"@/presentation/components/ui/checkbox\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/presentation/components/ui/card\"\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/presentation/components/ui/form\"\nimport { PhoneInput } from \"@/presentation/components/ui/phone-input\"\nimport { Alert, AlertDescription } from \"@/presentation/components/ui/alert\"\nimport { Logo } from \"@/presentation/components/logo\"\nimport { GoogleOAuthButton } from \"@/presentation/components/auth/google-oauth-button\"\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\n\nimport { RegisterBrandUseCase } from \"@/application/use-cases/register-brand.use-case\"\nimport { ApiAuthRepository } from \"@/infrastructure/repositories/auth-repository\"\nimport { api } from \"@/infrastructure/api/axios-adapter\"\n\nconst authRepository = new ApiAuthRepository(api)\nconst registerBrandUseCase = new RegisterBrandUseCase(authRepository)\n\n// Schema Validation\nconst signUpSchema = z.object({\n  companyName: z.string().min(3, \"Nome da empresa deve ter no mínimo 3 caracteres\"),\n  email: z.email(\"Email corporativo inválido\"),\n  whatsapp: z.string().min(10, \"WhatsApp inválido\"),\n  password: z.string()\n    .min(8, \"Senha deve ter no mínimo 8 caracteres\")\n    .regex(/[A-Z]/, \"A senha deve conter ao menos uma letra maiúscula.\")\n    .regex(/[^A-Za-z0-9]/, \"A senha deve conter ao menos um caractere especial.\"),\n  confirmPassword: z.string(),\n  terms: z.boolean().refine((val) => val === true, \"Você deve aceitar os termos\"),\n  verificationCode: z.string().optional(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"As senhas não conferem\",\n  path: [\"confirmPassword\"],\n})\n\ntype SignUpFormValues = z.infer<typeof signUpSchema>\n\nexport default function BrandSignUpPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-[#171717]\">\n          Carregando...\n        </div>\n      }\n    >\n      <BrandSignUpInner />\n    </Suspense>\n  )\n}\n\nfunction BrandSignUpInner() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const { login } = useAuth()\n  const [step, setStep] = useState<1 | 2 | 3>(1)\n  const [loading, setLoading] = useState(false)\n  const [serverError, setServerError] = useState<string | null>(null)\n\n  // Verification State\n  const [verificationSent, setVerificationSent] = useState(false)\n  const [isVerified, setIsVerified] = useState(false)\n  const [code, setCode] = useState(\"\")\n\n  const form = useForm<SignUpFormValues>({\n    resolver: zodResolver(signUpSchema),\n    defaultValues: {\n      companyName: \"\",\n      email: \"\",\n      whatsapp: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      terms: false,\n      verificationCode: \"\",\n    },\n    mode: \"onChange\",\n  })\n\n  const onSubmit = async (data: SignUpFormValues) => {\n    if (!isVerified) {\n      toast.error(\"Por favor, verifique seu contato antes de continuar.\")\n      return\n    }\n\n    setLoading(true)\n    setServerError(null)\n\n    try {\n      const { companyName, email, whatsapp, password } = data\n\n      const auth = await registerBrandUseCase.execute({\n        name: companyName,\n        email,\n        whatsapp,\n        password,\n        password_confirmation: password,\n      })\n      login(auth.token, auth.user)\n      toast.success(\"Conta empresarial criada com sucesso!\")\n      const redirectTo = searchParams.get(\"redirectTo\")\n      router.replace(redirectTo || \"/dashboard\")\n    } catch (error) {\n      type ApiErrorData = { message?: string; errors?: Record<string, string[]> }\n      type ApiError = { response?: { data?: ApiErrorData } }\n      const err = error as ApiError\n      const apiErrors = err?.response?.data?.errors\n      if (apiErrors && typeof apiErrors === \"object\") {\n        if (Array.isArray(apiErrors.password) && apiErrors.password.length > 0) {\n          form.setError(\"password\", { message: apiErrors.password[0] })\n        }\n        if (Array.isArray(apiErrors.confirmPassword) && apiErrors.confirmPassword.length > 0) {\n          form.setError(\"confirmPassword\", { message: apiErrors.confirmPassword[0] })\n        }\n        if (Array.isArray(apiErrors.email) && apiErrors.email.length > 0) {\n          form.setError(\"email\", { message: apiErrors.email[0] })\n        }\n        if (Array.isArray(apiErrors.whatsapp) && apiErrors.whatsapp.length > 0) {\n          form.setError(\"whatsapp\", { message: apiErrors.whatsapp[0] })\n        }\n        if (Array.isArray(apiErrors.companyName) && apiErrors.companyName.length > 0) {\n          form.setError(\"companyName\", { message: apiErrors.companyName[0] })\n        }\n        const firstMsg = Object.values(apiErrors).flat().at(0)\n        if (firstMsg) {\n          setServerError(String(firstMsg))\n          toast.error(String(firstMsg))\n        }\n      } else {\n        const message = err?.response?.data?.message || \"Ocorreu um erro ao criar sua conta. Tente novamente.\"\n        setServerError(message)\n        toast.error(message)\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const sendVerificationCode = async () => {\n    const email = form.getValues(\"email\")\n    const whatsapp = form.getValues(\"whatsapp\")\n\n    if (!email || !whatsapp) {\n      toast.error(\"Preencha email e WhatsApp para receber o código.\")\n      return\n    }\n\n    setLoading(true)\n    try {\n      setCode(\"\")\n      const devCode = await authRepository.sendOtp(email, 'email')\n      setVerificationSent(true)\n      if (devCode) {\n          toast.success(`Código de verificação enviado: ${devCode}`)\n          console.log(\"DEV CODE:\", devCode)\n      } else {\n          toast.success(`Código de verificação enviado para ${email}`)\n      }\n    } catch (error: any) {\n      const message = error?.response?.data?.message || \"Erro ao enviar código. Tente novamente.\"\n      toast.error(message)\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const verifyCode = async () => {\n    if (!code || code.length !== 6) {\n      toast.error(\"Código inválido.\")\n      return\n    }\n\n    const email = form.getValues(\"email\")\n    setLoading(true)\n    try {\n      const isValid = await authRepository.verifyOtp(email, 'email', code)\n      if (isValid) {\n        setIsVerified(true)\n        toast.success(\"Contato verificado com sucesso!\")\n        setStep(3)\n      } else {\n        toast.error(\"Código inválido ou expirado.\")\n      }\n    } catch (error) {\n      toast.error(\"Erro ao verificar código.\")\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const goToStep = async (target: 1 | 2 | 3) => {\n    if (target <= step) {\n      setStep(target)\n      return\n    }\n    if (target === 2) {\n      const isValid = await form.trigger([\"companyName\", \"email\", \"whatsapp\"])\n      if (isValid) {\n        setStep(2)\n      } else {\n        toast.error(\"Preencha corretamente os dados para avançar.\")\n      }\n      return\n    }\n    if (target === 3) {\n      if (isVerified) {\n        setStep(3)\n      } else {\n        toast.error(\"Verifique seu contato para avançar.\")\n      }\n    }\n  }\n\n  const nextStep = async () => {\n    if (step === 1) {\n      const isValid = await form.trigger([\"companyName\", \"email\", \"whatsapp\"])\n      if (isValid) {\n        setStep(2)\n      }\n    } else if (step === 2) {\n      if (isVerified) {\n        setStep(3)\n      } else {\n        toast.error(\"Verifique seu código para continuar.\")\n      }\n    }\n  }\n\n  return (\n    <div className=\"relative flex min-h-screen items-center justify-center overflow-hidden p-4\">\n      {/* Premium Background Blobs */}\n      <div className=\"absolute top-0 right-0 -mr-20 -mt-20 h-96 w-96 rounded-full bg-purple-600/10 blur-3xl\" />\n      <div className=\"absolute bottom-0 left-0 -ml-20 -mb-20 h-96 w-96 rounded-full bg-pink-500/10 blur-3xl\" />\n\n      <Card className=\"relative w-full max-w-md bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.1)] rounded-[2.5rem] overflow-hidden\">\n        <CardHeader className=\"space-y-2 text-center pb-2\">\n          <div className=\"flex items-center justify-between \">\n            <CardTitle className=\"text-xl font-bold tracking-tight\">\n              Nexa para Marcas\n            </CardTitle>\n            <Logo width={100} height={100} />\n          </div>\n          <CardDescription className=\"mb-1  text-xs text-left text-zinc-600 dark:text-zinc-400 font-medium leading-none\">\n            Encontre os melhores criadores para suas campanhas.\n          </CardDescription>\n        </CardHeader>\n        <div className=\"relative\">\n          {/* Scroll Shadow Indicator - Top */}\n          <div className=\"absolute top-0 left-0 right-0 h-8 bg-linear-to-b from-white dark:from-zinc-900 to-transparent pointer-events-none z-10 opacity-0 transition-opacity duration-300\" id=\"scroll-shadow-top\" />\n\n          {/* Scroll Shadow Indicator - Bottom */}\n          <div className=\"absolute bottom-0 left-0 right-0 h-12 bg-linear-to-t from-white dark:from-zinc-900 via-white/80 dark:via-zinc-900/80 to-transparent pointer-events-none z-10 transition-opacity duration-300\" id=\"scroll-shadow-bottom\" />\n\n          <CardContent className=\"max-h-[calc(100vh-280px)] overflow-y-auto scroll-smooth\" onScroll={(e) => {\n            const target = e.currentTarget;\n            const scrollTop = target.scrollTop;\n            const scrollHeight = target.scrollHeight;\n            const clientHeight = target.clientHeight;\n\n            const topShadow = document.getElementById('scroll-shadow-top');\n            const bottomShadow = document.getElementById('scroll-shadow-bottom');\n\n            if (topShadow) {\n              topShadow.style.opacity = scrollTop > 20 ? '1' : '0';\n            }\n\n            if (bottomShadow) {\n              bottomShadow.style.opacity = scrollTop < scrollHeight - clientHeight - 20 ? '1' : '0';\n            }\n          }}>\n            {/* Progress Indicator */}\n            <div className=\"flex items-center gap-2 mb-5 px-2\">\n              {[1, 2, 3].map((s) => (\n                <button\n                  key={s}\n                  type=\"button\"\n                  className={`h-1.5 flex-1 rounded-full transition-all duration-500 ${step >= s ? \"bg-purple-600 shadow-[0_0_10px_rgba(147,51,234,0.3)]\" : \"bg-zinc-200 dark:bg-white/10\"}`}\n                  onClick={() => goToStep(s as 1 | 2 | 3)}\n                  aria-label={`Etapa ${s}`}\n                />\n              ))}\n            </div>\n\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n\n                {/* Step 1: Company Info */}\n                <div className={step === 1 ? \"space-y-3\" : \"hidden\"}>\n                  <FormField\n                    control={form.control}\n                    name=\"companyName\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-black uppercase tracking-widest text-zinc-900 dark:text-zinc-100\">Nome da Empresa</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"Sua Marca Ltda\"\n                            className=\"text-xs bg-zinc-100/50 dark:bg-white/5 border-2 border-zinc-200 dark:border-white/10 focus-visible:ring-purple-600/50 placeholder:text-zinc-400 dark:placeholder:text-zinc-600 rounded-xl\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-black uppercase tracking-widest text-zinc-900 dark:text-zinc-100\">Email Corporativo</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"contato@empresa.com\"\n                            type=\"email\"\n                            className=\"text-xs bg-zinc-100/50 dark:bg-white/5 border-2 border-zinc-200 dark:border-white/10 focus-visible:ring-purple-600/50 placeholder:text-zinc-400 dark:placeholder:text-zinc-600 rounded-xl\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"whatsapp\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70\">WhatsApp Comercial</FormLabel>\n                        <FormControl>\n                          <PhoneInput\n                            placeholder=\"(11) 99999-9999\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <Button\n                    type=\"button\"\n                    className=\"w-full bg-purple-600 hover:bg-purple-700 text-white shadow-lg shadow-purple-600/25 h-11 font-bold rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98]\"\n                    onClick={nextStep}\n                  >\n                    Próxima etapa <ArrowRight className=\"ml-2 h-4 w-4\" />\n                  </Button>\n                </div>\n\n                {/* Step 2: Verification */}\n                <div className={step === 2 ? \"space-y-6\" : \"hidden\"}>\n                  <div className=\"text-center space-y-3 mb-6\">\n                    <div className=\"bg-purple-600/10 p-3 rounded-full w-fit mx-auto ring-1 ring-purple-600/20\">\n                      <Smartphone className=\"h-6 w-6 text-purple-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-bold text-lg text-foreground\">Verifique seu contato</h3>\n                      <p className=\"text-sm text-muted-foreground px-4\">\n                        Enviamos um código para seu email para garantir a autenticidade da sua marca.\n                      </p>\n                    </div>\n                  </div>\n\n                  {!verificationSent ? (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-white/5 border border-white/10 p-4 rounded-xl text-sm space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <Mail className=\"h-4 w-4 text-purple-600\" />\n                          <span className=\"text-foreground/80\">{form.getValues(\"email\")}</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Smartphone className=\"h-4 w-4 text-purple-600\" />\n                          <span className=\"text-foreground/80\">{form.getValues(\"whatsapp\")}</span>\n                        </div>\n                      </div>\n                      <Button type=\"button\" onClick={sendVerificationCode} className=\"w-full bg-purple-600 hover:bg-purple-700 text-white shadow-lg shadow-purple-600/25 h-11 font-bold rounded-xl transition-all\" disabled={loading}>\n                        {loading ? <Loader2 className=\"animate-spin h-4 w-4\" /> : \"Enviar Código\"}\n                      </Button>\n                      <Button variant=\"ghost\" type=\"button\" onClick={() => setStep(1)} className=\"w-full text-muted-foreground hover:text-foreground\">\n                        Alterar dados de contato\n                      </Button>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 text-center block w-full mb-4\">Código de 6 dígitos</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"000000\"\n                            value={code}\n                            onChange={(e) => setCode(e.target.value)}\n                            maxLength={6}\n                            className=\"text-center text-3xl tracking-[1em] h-16 bg-background/40 border-purple-600/20 focus-visible:ring-purple-600 font-black pl-[1em]\"\n                          />\n                        </FormControl>\n                      </FormItem>\n                      <Button type=\"button\" onClick={verifyCode} className=\"w-full bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-600/25 h-11 font-bold rounded-xl transition-all\" disabled={loading}>\n                        {loading ? <Loader2 className=\"animate-spin h-4 w-4\" /> : \"Confirmar Código\"}\n                      </Button>\n                      <div className=\"text-center\">\n                        <button type=\"button\" onClick={() => setVerificationSent(false)} className=\"text-xs text-muted-foreground hover:text-purple-600 transition-colors\">\n                          Não recebeu o código? Reenviar\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Step 3: Security & Terms */}\n                <div className={step === 3 ? \"space-y-6\" : \"hidden\"}>\n                  <div className=\"bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 px-4 py-3 rounded-xl flex items-center gap-3 mb-6\">\n                    <div className=\"bg-emerald-500 rounded-full p-1\">\n                      <Check className=\"h-3 w-3 text-white\" />\n                    </div>\n                    <span className=\"text-sm font-semibold tracking-tight\">Contato verificado</span>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"password\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70\">Sua Senha</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"password\"\n                              placeholder=\"******\"\n                              className=\"bg-background/40 border-white/5 focus-visible:ring-purple-600/50\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <FormField\n                      control={form.control}\n                      name=\"confirmPassword\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70\">Confirme a Senha</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"password\"\n                              placeholder=\"******\"\n                              className=\"bg-background/40 border-white/5 focus-visible:ring-purple-600/50\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n\n                  <FormField\n                    control={form.control}\n                    name=\"terms\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-xl border border-white/5 p-4 bg-white/5\">\n                        <FormControl>\n                          <Checkbox\n                            checked={field.value}\n                            onCheckedChange={field.onChange}\n                            className=\"mt-1 border-white/20 data-[state=checked]:bg-purple-600 data-[state=checked]:border-purple-600\"\n                          />\n                        </FormControl>\n                        <div className=\"space-y-1 leading-none\">\n                          <FormLabel className=\"text-xs font-medium text-foreground\">\n                            Aceito os termos e condições\n                          </FormLabel>\n                          <FormDescription className=\"text-[10px] leading-tight opacity-70\">\n                            Ao continuar, você concorda com nossa{\" \"}\n                            <Link href=\"/privacy-policy\" className=\"underline text-purple-600\">Política de Privacidade</Link>\n                            {\" \"}e{\" \"}\n                            <Link href=\"/terms-of-use\" className=\"underline text-purple-600\">Termos de Uso</Link>.\n                          </FormDescription>\n                        </div>\n                      </FormItem>\n                    )}\n                  />\n\n                  {serverError && (\n                    <Alert variant=\"destructive\" className=\"bg-destructive/10 border-destructive/20 text-destructive\">\n                      <AlertDescription>{serverError}</AlertDescription>\n                    </Alert>\n                  )}\n\n                  <div className=\"flex gap-3 pt-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      className=\"flex-1 h-11 border border-white/5 bg-background/20 rounded-xl font-bold\"\n                      onClick={() => setStep(2)}\n                    >\n                      Voltar\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      className=\"flex-2 bg-purple-600 hover:bg-purple-700 text-white shadow-lg shadow-purple-600/25 h-11 font-bold rounded-xl transition-all transform hover:scale-[1.02]\"\n                      disabled={loading}\n                    >\n                      {loading ? (\n                        <>\n                          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                          Processando...\n                        </>\n                      ) : (\n                        \"Finalizar Cadastro\"\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </Form>\n\n            <div>\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t border-white/5\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-transparent px-4 text-muted-foreground/40 font-semibold tracking-widest\">ou</span>\n                </div>\n              </div>\n\n              <GoogleOAuthButton role=\"brand\" className=\"rounded-xl border-white/5 bg-background/40 hover:bg-background/60 transition-all font-semibold h-11\" />\n\n              <div className=\"pt-4 text-center\">\n                <p className=\"text-sm text-muted-foreground\">\n                  Já tem uma conta?{\" \"}\n                  <Link href=\"/login\" className=\"text-purple-700 dark:text-purple-400 font-bold hover:underline ml-1\">\n                    Entrar agora\n                  </Link>\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </div>\n      </Card>\n    </div>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\signup\\creator\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":186,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":186,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6515,6518],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6515,6518],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport React, { Suspense, useEffect, useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Check, Loader2, ArrowRight, Smartphone, Mail } from \"lucide-react\"\nimport { toast } from \"sonner\"\n\nimport { Button } from \"@/presentation/components/ui/button\"\nimport { Input } from \"@/presentation/components/ui/input\"\nimport { Checkbox } from \"@/presentation/components/ui/checkbox\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/presentation/components/ui/card\"\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/presentation/components/ui/form\"\nimport { PhoneInput } from \"@/presentation/components/ui/phone-input\"\nimport { Alert, AlertDescription } from \"@/presentation/components/ui/alert\"\nimport { Logo } from \"@/presentation/components/logo\"\nimport { GoogleOAuthButton } from \"@/presentation/components/auth/google-oauth-button\"\n\nimport { RegisterCreatorUseCase } from \"@/application/use-cases/register-creator.use-case\"\nimport { ApiAuthRepository } from \"@/infrastructure/repositories/auth-repository\"\nimport { api } from \"@/infrastructure/api/axios-adapter\"\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\n\nconst authRepository = new ApiAuthRepository(api)\nconst registerCreatorUseCase = new RegisterCreatorUseCase(authRepository)\n\n// Schema Validation\nconst signUpSchema = z.object({\n  nome: z.string().min(3, \"Nome deve ter no mínimo 3 caracteres\"),\n  email: z.email(\"Email inválido\"),\n  whatsapp: z.string().min(10, \"WhatsApp inválido\"),\n  password: z.string()\n    .min(8, \"Senha deve ter no mínimo 8 caracteres\")\n    .regex(/[A-Z]/, \"A senha deve conter ao menos uma letra maiúscula.\")\n    .regex(/[^A-Za-z0-9]/, \"A senha deve conter ao menos um caractere especial.\"),\n  confirmPassword: z.string(),\n  terms: z.boolean().refine((val) => val === true, \"Você deve aceitar os termos\"),\n  verificationCode: z.string().optional(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"As senhas não conferem\",\n  path: [\"confirmPassword\"],\n})\n\ntype SignUpFormValues = z.infer<typeof signUpSchema>\n\nexport default function CreatorSignUpPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-[#171717]\">\n          Carregando...\n        </div>\n      }\n    >\n      <CreatorSignUpInner />\n    </Suspense>\n  )\n}\n\nfunction CreatorSignUpInner() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const { isAuthenticated, loading: authLoading, login } = useAuth()\n  const [step, setStep] = useState<1 | 2 | 3>(1)\n  const [formLoading, setFormLoading] = useState(false)\n  const [serverError, setServerError] = useState<string | null>(null)\n\n  // Verification State\n  const [verificationSent, setVerificationSent] = useState(false)\n  const [isVerified, setIsVerified] = useState(false)\n  const [code, setCode] = useState(\"\")\n\n  useEffect(() => {\n    if (!authLoading && isAuthenticated) {\n      const redirectTo = searchParams.get(\"redirectTo\")\n      router.replace(redirectTo || \"/dashboard\")\n    }\n  }, [isAuthenticated, authLoading, router, searchParams])\n\n  const form = useForm<SignUpFormValues>({\n    resolver: zodResolver(signUpSchema),\n    defaultValues: {\n      nome: \"\",\n      email: \"\",\n      whatsapp: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      terms: false,\n      verificationCode: \"\",\n    },\n    mode: \"onChange\",\n  })\n\n  const onSubmit = async (data: SignUpFormValues) => {\n    if (!isVerified) {\n      toast.error(\"Por favor, verifique seu contato antes de continuar.\")\n      return\n    }\n\n    setFormLoading(true)\n    setServerError(null)\n\n    try {\n      const { nome, email, whatsapp, password } = data\n\n      const auth = await registerCreatorUseCase.execute({\n        name: nome,\n        email,\n        whatsapp,\n        password,\n        password_confirmation: password, // Laravel expectation\n      })\n      login(auth.token, auth.user)\n      toast.success(\"Conta criada com sucesso!\")\n      const redirectTo = searchParams.get(\"redirectTo\")\n      router.replace(redirectTo || \"/dashboard\")\n    } catch (error) {\n      type ApiErrorData = { message?: string; errors?: Record<string, string[]> }\n      type ApiError = { response?: { data?: ApiErrorData } }\n      const err = error as ApiError\n      const apiErrors = err?.response?.data?.errors\n      if (apiErrors && typeof apiErrors === \"object\") {\n        if (Array.isArray(apiErrors.password) && apiErrors.password.length > 0) {\n          form.setError(\"password\", { message: apiErrors.password[0] })\n        }\n        if (Array.isArray(apiErrors.confirmPassword) && apiErrors.confirmPassword.length > 0) {\n          form.setError(\"confirmPassword\", { message: apiErrors.confirmPassword[0] })\n        }\n        if (Array.isArray(apiErrors.email) && apiErrors.email.length > 0) {\n          form.setError(\"email\", { message: apiErrors.email[0] })\n        }\n        if (Array.isArray(apiErrors.whatsapp) && apiErrors.whatsapp.length > 0) {\n          form.setError(\"whatsapp\", { message: apiErrors.whatsapp[0] })\n        }\n        if (Array.isArray(apiErrors.nome) && apiErrors.nome.length > 0) {\n          form.setError(\"nome\", { message: apiErrors.nome[0] })\n        }\n        const firstMsg = Object.values(apiErrors).flat().at(0)\n        if (firstMsg) {\n          setServerError(String(firstMsg))\n          toast.error(String(firstMsg))\n        }\n      } else {\n        const message = err?.response?.data?.message || \"Ocorreu um erro ao criar sua conta. Tente novamente.\"\n        setServerError(message)\n        toast.error(message)\n      }\n    } finally {\n      setFormLoading(false)\n    }\n  }\n\n  const sendVerificationCode = async () => {\n    const email = form.getValues(\"email\")\n    const whatsapp = form.getValues(\"whatsapp\")\n\n    if (!email || !whatsapp) {\n      toast.error(\"Preencha email e WhatsApp para receber o código.\")\n      return\n    }\n\n    setFormLoading(true)\n    try {\n      setCode(\"\")\n      await authRepository.sendOtp(email, 'email')\n      // await authRepository.sendOtp(whatsapp, 'whatsapp') // Uncomment to send via WhatsApp too if needed\n      setVerificationSent(true)\n      toast.success(`Código de verificação enviado para ${email}`)\n    } catch (error: any) {\n      const message = error?.response?.data?.message || \"Erro ao enviar código. Tente novamente.\"\n      toast.error(message)\n      console.error(error)\n    } finally {\n      setFormLoading(false)\n    }\n  }\n\n  const verifyCode = async () => {\n    if (!code || code.length !== 6) {\n      toast.error(\"Código inválido.\")\n      return\n    }\n\n    const email = form.getValues(\"email\")\n    setFormLoading(true)\n    try {\n      const isValid = await authRepository.verifyOtp(email, 'email', code)\n      if (isValid) {\n        setIsVerified(true)\n        toast.success(\"Contato verificado com sucesso!\")\n        setStep(3)\n      } else {\n        toast.error(\"Código inválido ou expirado.\")\n      }\n    } catch (error) {\n      toast.error(\"Erro ao verificar código.\")\n      console.error(error)\n    } finally {\n      setFormLoading(false)\n    }\n  }\n\n  const goToStep = async (target: 1 | 2 | 3) => {\n    if (target <= step) {\n      setStep(target)\n      return\n    }\n    if (target === 2) {\n      const isValid = await form.trigger([\"nome\", \"email\", \"whatsapp\"])\n      if (isValid) {\n        setStep(2)\n      } else {\n        toast.error(\"Preencha corretamente os dados para avançar.\")\n      }\n      return\n    }\n    if (target === 3) {\n      if (isVerified) {\n        setStep(3)\n      } else {\n        toast.error(\"Verifique seu contato para avançar.\")\n      }\n    }\n  }\n\n  const nextStep = async () => {\n    if (step === 1) {\n      const isValid = await form.trigger([\"nome\", \"email\", \"whatsapp\"])\n      if (isValid) {\n        setStep(2)\n      }\n    } else if (step === 2) {\n      if (isVerified) {\n        setStep(3)\n      } else {\n        toast.error(\"Verifique seu código para continuar.\")\n      }\n    }\n  }\n\n  return (\n    <div className=\"relative flex min-h-screen items-center justify-center overflow-hidden p-4\">\n      {/* Premium Background Blobs */}\n      <div className=\"absolute top-0 left-0 -ml-20 -mt-20 h-96 w-96 rounded-full bg-pink-500/10 blur-3xl\" />\n      <div className=\"absolute bottom-0 right-0 -mr-20 -mb-20 h-96 w-96 rounded-full bg-purple-600/10 blur-3xl\" />\n\n      <Card className=\"relative w-full max-w-md mx-auto bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.1)] rounded-[2.5rem] overflow-hidden\">\n        <CardHeader className=\"space-y-2 text-center pb-2\">\n          <div className=\"flex items-center justify-between \">\n            <CardTitle className=\"text-xl font-bold tracking-tight\">\n              Crie sua conta Nexa\n            </CardTitle>\n            <Logo width={100} height={100} />\n          </div>\n          <CardDescription className=\"mb-1 text-[11px] text-left text-zinc-600 dark:text-zinc-400 font-medium leading-none\">\n            Junte-se à maior comunidade de creators do Brasil.\n          </CardDescription>\n        </CardHeader>\n\n        <div className=\"relative\">\n          {/* Scroll Shadow Indicator - Top */}\n            <div className=\"absolute top-0 left-0 right-0 h-8 bg-linear-to-b from-white dark:from-zinc-900 to-transparent pointer-events-none z-10 opacity-0 transition-opacity duration-300\" id=\"scroll-shadow-top\" />\n\n          {/* Scroll Shadow Indicator - Bottom */}\n          <div className=\"absolute bottom-0 left-0 right-0 h-12 bg-linear-to-t from-white dark:from-zinc-900 via-white/80 dark:via-zinc-900/80 to-transparent pointer-events-none z-10 transition-opacity duration-300\" id=\"scroll-shadow-bottom\" />\n\n          <CardContent className=\"max-h-[calc(100vh-280px)] overflow-y-auto scroll-smooth\" onScroll={(e) => {\n            const target = e.currentTarget;\n            const scrollTop = target.scrollTop;\n            const scrollHeight = target.scrollHeight;\n            const clientHeight = target.clientHeight;\n\n            const topShadow = document.getElementById('scroll-shadow-top');\n            const bottomShadow = document.getElementById('scroll-shadow-bottom');\n\n            if (topShadow) {\n              topShadow.style.opacity = scrollTop > 20 ? '1' : '0';\n            }\n\n            if (bottomShadow) {\n              bottomShadow.style.opacity = scrollTop < scrollHeight - clientHeight - 20 ? '1' : '0';\n            }\n          }}>\n\n            {/* Progress Indicator */}\n            <div className=\"flex items-center gap-2 mb-5 px-2\">\n              {[1, 2, 3].map((s) => (\n                <button\n                  key={s}\n                  type=\"button\"\n                  className={`h-1.5 flex-1 rounded-full transition-all duration-500 ${step >= s ? \"bg-pink-500 shadow-[0_0_10px_rgba(236,72,153,0.3)]\" : \"bg-zinc-200 dark:bg-white/10\"}`}\n                  onClick={() => goToStep(s as 1 | 2 | 3)}\n                  aria-label={`Etapa ${s}`}\n                />\n              ))}\n            </div>\n\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n\n                {/* Step 1: Personal Info */}\n                <div className={step === 1 ? \"space-y-3\" : \"hidden\"}>\n                  <FormField\n                    control={form.control}\n                    name=\"nome\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-black uppercase tracking-widest text-zinc-900 dark:text-zinc-100\">Nome Completo</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"Seu nome\"\n                            className=\"text-xs bg-zinc-100/50 dark:bg-white/5 border-2 border-zinc-200 dark:border-white/10 focus-visible:ring-pink-500/50 placeholder:text-zinc-400 dark:placeholder:text-zinc-600 rounded-xl\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-black uppercase tracking-widest text-zinc-900 dark:text-zinc-100\">Seu Melhor Email</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"seu@email.com\"\n                            type=\"email\"\n                            className=\"text-xs bg-zinc-100/50 dark:bg-white/5 border-2 border-zinc-200 dark:border-white/10 focus-visible:ring-pink-500/50 placeholder:text-zinc-400 dark:placeholder:text-zinc-600 rounded-xl\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"whatsapp\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-black uppercase tracking-widest text-zinc-900 dark:text-zinc-100\">WhatsApp</FormLabel>\n                        <FormControl>\n                          <PhoneInput\n                            placeholder=\"(11) 99999-9999\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <Button\n                    type=\"button\"\n                    className=\"w-full bg-pink-500 hover:bg-pink-600 text-white shadow-lg shadow-pink-500/25 h-11 font-bold rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98]\"\n                    onClick={nextStep}\n                  >\n                    Próxima etapa <ArrowRight className=\"ml-2 h-4 w-4\" />\n                  </Button>\n                </div>\n\n                {/* Step 2: Verification */}\n                <div className={step === 2 ? \"space-y-6\" : \"hidden\"}>\n                  <div className=\"text-center space-y-3 mb-6\">\n                    <div className=\"bg-pink-500/10 p-3 rounded-full w-fit mx-auto ring-1 ring-pink-500/20\">\n                      <Smartphone className=\"h-6 w-6 text-pink-500\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-bold text-lg text-foreground\">Verifique seu contato</h3>\n                      <p className=\"text-sm text-muted-foreground px-4\">\n                        Enviamos um código de segurança para seu email para confirmar seu cadastro.\n                      </p>\n                    </div>\n                  </div>\n\n                  {!verificationSent ? (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-white/5 border border-white/10 p-4 rounded-xl text-sm space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <Mail className=\"h-4 w-4 text-pink-500\" />\n                          <span className=\"text-foreground/80\">{form.getValues(\"email\")}</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Smartphone className=\"h-4 w-4 text-pink-500\" />\n                          <span className=\"text-foreground/80\">{form.getValues(\"whatsapp\")}</span>\n                        </div>\n                      </div>\n                      <Button type=\"button\" onClick={sendVerificationCode} className=\"w-full bg-pink-500 hover:bg-pink-600 text-white shadow-lg shadow-pink-500/25 h-11 font-bold rounded-xl transition-all\" disabled={formLoading}>\n                        {formLoading ? <Loader2 className=\"animate-spin h-4 w-4\" /> : \"Enviar Código\"}\n                      </Button>\n                      <Button variant=\"ghost\" type=\"button\" onClick={() => setStep(1)} className=\"w-full text-muted-foreground hover:text-foreground\">\n                        Corrigir dados de contato\n                      </Button>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      <FormItem>\n                        <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 text-center block w-full mb-4\">Código de 6 dígitos</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"000000\"\n                            value={code}\n                            onChange={(e) => setCode(e.target.value)}\n                            maxLength={6}\n                            className=\"text-center text-3xl tracking-[1em] h-16 bg-background/40 border-pink-500/20 focus-visible:ring-pink-500 font-black pl-[1em]\"\n                          />\n                        </FormControl>\n                      </FormItem>\n                      <Button type=\"button\" onClick={verifyCode} className=\"w-full bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-600/25 h-11 font-bold rounded-xl transition-all\" disabled={formLoading}>\n                        {formLoading ? <Loader2 className=\"animate-spin h-4 w-4\" /> : \"Verificar Código\"}\n                      </Button>\n                      <div className=\"text-center\">\n                        <button type=\"button\" onClick={() => setVerificationSent(false)} className=\"text-xs text-muted-foreground hover:text-pink-600 transition-colors\">\n                          Reenviar código de segurança\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Step 3: Security & Terms */}\n                <div className={step === 3 ? \"space-y-6\" : \"hidden\"}>\n                  <div className=\"bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 px-4 py-3 rounded-xl flex items-center gap-3 mb-6\">\n                    <div className=\"bg-emerald-500 rounded-full p-1\">\n                      <Check className=\"h-3 w-3 text-white\" />\n                    </div>\n                    <span className=\"text-sm font-semibold tracking-tight\">Verificação concluída</span>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"password\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70\">Senha de Acesso</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"password\"\n                              placeholder=\"******\"\n                              className=\"bg-background/40 border-white/5 focus-visible:ring-pink-500/50\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <FormField\n                      control={form.control}\n                      name=\"confirmPassword\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground/70\">Confirmar Senha</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"password\"\n                              placeholder=\"******\"\n                              className=\"bg-background/40 border-white/5 focus-visible:ring-pink-500/50\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n\n                  <FormField\n                    control={form.control}\n                    name=\"terms\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-xl border border-white/5 p-4 bg-white/5\">\n                        <FormControl>\n                          <Checkbox\n                            checked={field.value}\n                            onCheckedChange={field.onChange}\n                            className=\"mt-1 border-white/20 data-[state=checked]:bg-pink-500 data-[state=checked]:border-pink-500\"\n                          />\n                        </FormControl>\n                        <div className=\"space-y-1 leading-none\">\n                          <FormLabel className=\"text-xs font-medium text-foreground\">\n                            Aceito os termos e condições\n                          </FormLabel>\n                          <FormDescription className=\"text-[10px] leading-tight opacity-70\">\n                            Ao criar sua conta, você aceita nossa{\" \"}\n                            <Link href=\"/privacy-policy\" className=\"underline text-pink-500\">Política de Privacidade</Link>\n                            {\" \"}e{\" \"}\n                            <Link href=\"/terms-of-use\" className=\"underline text-pink-500\">Termos de Uso</Link>.\n                          </FormDescription>\n                        </div>\n                      </FormItem>\n                    )}\n                  />\n\n                  {serverError && (\n                    <Alert variant=\"destructive\" className=\"bg-destructive/10 border-destructive/20 text-destructive\">\n                      <AlertDescription>{serverError}</AlertDescription>\n                    </Alert>\n                  )}\n\n                  <div className=\"flex gap-3 pt-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      className=\"flex-1 h-11 border border-white/5 bg-background/20 rounded-xl font-bold\"\n                      onClick={() => setStep(2)}\n                    >\n                      Voltar\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      className=\"flex-2 bg-pink-500 hover:bg-pink-600 text-white shadow-lg shadow-pink-500/25 h-11 font-bold rounded-xl transition-all transform hover:scale-[1.02]\"\n                      disabled={formLoading}\n                    >\n                      {formLoading ? (\n                        <>\n                          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                          Criando...\n                        </>\n                      ) : (\n                        \"Finalizar Cadastro\"\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </Form>\n\n            <div>\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t border-white/5\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-transparent px-4 text-muted-foreground/40 font-semibold tracking-widest\">ou</span>\n                </div>\n              </div>\n\n              <GoogleOAuthButton role=\"creator\" className=\"rounded-xl border-white/5 bg-background/40 hover:bg-background/60 transition-all font-semibold h-11\" />\n\n              <div className=\"pt-4 text-center\">\n                <p className=\"text-sm text-muted-foreground\">\n                  Já tem sua conta?{\" \"}\n                  <Link href=\"/login\" className=\"text-pink-500 font-bold hover:underline ml-1\">\n                    Fazer login\n                  </Link>\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </div>\n      </Card>\n    </div>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(auth)\\student-verify\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\applications\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\archived-chats\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Briefcase' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":22,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { format } from \"date-fns\"\r\nimport { ptBR } from \"date-fns/locale\"\r\nimport {\r\n    Briefcase,\r\n    Calendar,\r\n    MessageCircle,\r\n    DollarSign,\r\n    ChevronRight,\r\n    Search,\r\n    Archive\r\n} from \"lucide-react\"\r\n\r\nimport { ApiChatRepository } from \"@/infrastructure/repositories/chat-repository\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { ArchivedChat } from \"@/domain/entities/chat\"\r\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\r\n\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport { Card, CardContent } from \"@/presentation/components/ui/card\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/presentation/components/ui/avatar\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\n\r\nconst chatRepository = new ApiChatRepository(api)\r\n\r\nexport default function ArchivedChatsPage() {\r\n    const router = useRouter()\r\n    const { user } = useAuth()\r\n    const [chats, setChats] = useState<ArchivedChat[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        const fetchArchivedChats = async () => {\r\n            try {\r\n                const data = await chatRepository.getArchivedChats(50)\r\n                setChats(data)\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch archived chats\", error)\r\n            } finally {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n\r\n        if (user) {\r\n            fetchArchivedChats()\r\n        }\r\n    }, [user])\r\n\r\n    const filteredChats = chats.filter(chat =>\r\n        chat.campaign_title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        chat.other_user.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n\r\n    const getClosureReasonText = (reason: string) => {\r\n        switch (reason) {\r\n            case 'campaign_completed': return 'Campanha Concluída'\r\n            case 'payment_completed': return 'Pagamento Finalizado'\r\n            case 'contract_completed': return 'Contrato Finalizado'\r\n            case 'manual_archive': return 'Arquivamento Manual'\r\n            default: return 'Finalizado'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto py-8 max-w-5xl space-y-6\">\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Histórico de Campanhas</h1>\r\n                    <p className=\"text-muted-foreground mt-1\">\r\n                        Acesse o histórico completo de campanhas finalizadas e relatórios.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                    placeholder=\"Buscar por campanha ou usuário...\"\r\n                    className=\"pl-10 max-w-md\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"space-y-4\">\r\n                    {[1, 2, 3].map((i) => (\r\n                        <Card key={i}>\r\n                            <CardContent className=\"p-6\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <Skeleton className=\"h-12 w-12 rounded-full\" />\r\n                                    <div className=\"space-y-2 flex-1\">\r\n                                        <Skeleton className=\"h-4 w-1/3\" />\r\n                                        <Skeleton className=\"h-4 w-1/4\" />\r\n                                    </div>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            ) : filteredChats.length === 0 ? (\r\n                <div className=\"text-center py-12 bg-muted/30 rounded-lg border border-dashed\">\r\n                    <Archive className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-medium\">Nenhum histórico encontrado</h3>\r\n                    <p className=\"text-muted-foreground mt-1\">\r\n                        {searchTerm ? \"Nenhum resultado para sua busca.\" : \"Você ainda não possui campanhas arquivadas.\"}\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-4\">\r\n                    {filteredChats.map((chat) => (\r\n                        <Card\r\n                            key={chat.id}\r\n                            className=\"hover:bg-accent/50 transition-colors cursor-pointer group\"\r\n                            onClick={() => router.push(`/dashboard/archived-chats/${chat.room_id}`)}\r\n                        >\r\n                            <CardContent className=\"p-6\">\r\n                                <div className=\"flex flex-col md:flex-row items-start md:items-center gap-6\">\r\n                                    <div className=\"flex items-center gap-4 flex-1\">\r\n                                        <Avatar className=\"h-12 w-12 border\">\r\n                                            <AvatarImage src={chat.other_user.avatar || undefined} />\r\n                                            <AvatarFallback>{chat.other_user.name.substring(0, 2).toUpperCase()}</AvatarFallback>\r\n                                        </Avatar>\r\n\r\n                                        <div className=\"space-y-1\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <h3 className=\"font-semibold text-lg\">{chat.campaign_title}</h3>\r\n                                                <Badge variant=\"secondary\" className=\"text-xs font-normal\">\r\n                                                    {getClosureReasonText(chat.closure_reason)}\r\n                                                </Badge>\r\n                                            </div>\r\n                                            <p className=\"text-muted-foreground text-sm flex items-center gap-1\">\r\n                                                com <span className=\"font-medium text-foreground\">{chat.other_user.name}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-6 text-sm text-muted-foreground w-full md:w-auto justify-between md:justify-start\">\r\n                                        <div className=\"flex flex-col items-center md:items-end gap-1\">\r\n                                            <div className=\"flex items-center gap-1.5\" title=\"Total Pago\">\r\n                                                <DollarSign className=\"h-4 w-4 text-green-600\" />\r\n                                                <span>{new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(chat.summary.total_paid / 100)}</span>\r\n                                            </div>\r\n                                            <span className=\"text-xs\">Pago</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"bg-border w-px h-8 hidden md:block\" />\r\n\r\n                                        <div className=\"flex flex-col items-center md:items-end gap-1\">\r\n                                            <div className=\"flex items-center gap-1.5\" title=\"Mensagens Trocadas\">\r\n                                                <MessageCircle className=\"h-4 w-4 text-blue-500\" />\r\n                                                <span>{chat.summary.total_messages}</span>\r\n                                            </div>\r\n                                            <span className=\"text-xs\">Mensagens</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"bg-border w-px h-8 hidden md:block\" />\r\n\r\n                                        <div className=\"flex flex-col items-center md:items-end gap-1\">\r\n                                            <div className=\"flex items-center gap-1.5\" title=\"Data de Arquivamento\">\r\n                                                <Calendar className=\"h-4 w-4 text-orange-500\" />\r\n                                                <span>{format(new Date(chat.archived_at), \"dd/MM/yyyy\", { locale: ptBR })}</span>\r\n                                            </div>\r\n                                            <span className=\"text-xs\">Arquivado em</span>\r\n                                        </div>\r\n\r\n                                        <ChevronRight className=\"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors ml-2 hidden md:block\" />\r\n                                    </div>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\campaigns\\[id]\\manage\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'contractRepository' is assigned a value but never used.","line":28,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams, useRouter } from \"next/navigation\"\r\nimport { ArrowLeft, CheckCircle, XCircle, Clock, MessageCircle } from \"lucide-react\"\r\nimport Link from \"next/link\"\r\nimport type { AxiosError } from \"axios\"\r\n\r\nimport { ApiApplicationRepository } from \"@/infrastructure/repositories/application-repository\"\r\nimport { ApiCampaignRepository } from \"@/infrastructure/repositories/campaign-repository\"\r\nimport { ApiContractRepository } from \"@/infrastructure/repositories/contract-repository\"\r\nimport { ApiTermsRepository } from \"@/infrastructure/repositories/terms-repository\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { Application } from \"@/domain/entities/application\"\r\nimport { Campaign } from \"@/domain/entities/campaign\"\r\n\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/presentation/components/ui/avatar\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardFooter } from \"@/presentation/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/presentation/components/ui/tabs\"\r\nimport { toast } from \"sonner\"\r\nimport { TermsModal } from \"@/presentation/components/terms/terms-modal\"\r\nimport { TERMS_CONTENT } from \"@/presentation/components/terms/terms-content\"\r\n\r\nconst applicationRepository = new ApiApplicationRepository(api)\r\nconst campaignRepository = new ApiCampaignRepository(api)\r\nconst contractRepository = new ApiContractRepository(api)\r\nconst termsRepository = new ApiTermsRepository(api)\r\n\r\ninterface ExtendedApplication extends Application {\r\n    creator?: {\r\n        id: number\r\n        name: string\r\n        avatar?: string\r\n        instagram_handle?: string\r\n        tiktok_handle?: string\r\n    }\r\n}\r\n\r\nexport default function ManageCandidatesPage() {\r\n    const params = useParams()\r\n    const router = useRouter()\r\n    const campaignId = Number(params.id)\r\n\r\n    const [campaign, setCampaign] = useState<Campaign | null>(null)\r\n    const [applications, setApplications] = useState<ExtendedApplication[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [processingId, setProcessingId] = useState<number | null>(null)\r\n    const [showTerms, setShowTerms] = useState(false)\r\n    const [pendingApprovalId, setPendingApprovalId] = useState<number | null>(null)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true)\r\n            try {\r\n                const [campaignData, applicationsData] = await Promise.all([\r\n                    campaignRepository.findById(campaignId),\r\n                    applicationRepository.getCampaignApplications(campaignId)\r\n                ])\r\n                setCampaign(campaignData)\r\n                setApplications(applicationsData as ExtendedApplication[])\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch data\", error)\r\n                toast.error(\"Erro ao carregar dados\")\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        if (campaignId) {\r\n            fetchData()\r\n        }\r\n    }, [campaignId])\r\n\r\n    const handleApproveClick = async (applicationId: number) => {\r\n        try {\r\n            const status = await termsRepository.check(['brand_approval'])\r\n            if (!status.brand_approval) {\r\n                setPendingApprovalId(applicationId)\r\n                setShowTerms(true)\r\n            } else {\r\n                handleStatusUpdate(applicationId, 'approved')\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error checking terms\", error)\r\n            // Fallback to direct approval if check fails, or show error\r\n            handleStatusUpdate(applicationId, 'approved')\r\n        }\r\n    }\r\n\r\n    const handleTermsAccept = async () => {\r\n        await termsRepository.accept('brand_approval')\r\n        setShowTerms(false)\r\n        if (pendingApprovalId) {\r\n            handleStatusUpdate(pendingApprovalId, 'approved')\r\n            setPendingApprovalId(null)\r\n        }\r\n    }\r\n\r\n    const handleStatusUpdate = async (applicationId: number, status: 'approved' | 'rejected') => {\r\n        setProcessingId(applicationId)\r\n        try {\r\n            await applicationRepository.updateStatus(applicationId, status)\r\n            \r\n            setApplications(prev => prev.map(app => \r\n                app.id === applicationId ? { ...app, status } : app\r\n            ))\r\n            \r\n            if (status === 'approved') {\r\n                toast.success(\"Candidato aprovado! O chat foi iniciado automaticamente.\")\r\n            } else {\r\n                toast.success(`Candidato ${status === 'rejected' ? 'rejeitado' : 'atualizado'} com sucesso!`)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to update status\", error)\r\n            const axiosError = error as AxiosError<{\r\n                message?: string\r\n                requires_stripe_account?: boolean\r\n                requires_funding?: boolean\r\n                redirect_url?: string\r\n            }>\r\n            const statusCode = axiosError.response?.status\r\n            const data = axiosError.response?.data\r\n\r\n            if (statusCode === 402 && data) {\r\n                const message =\r\n                    data.message ||\r\n                    (data.requires_stripe_account\r\n                        ? \"Você precisa configurar sua conta Stripe antes de aprovar propostas.\"\r\n                        : data.requires_funding\r\n                        ? \"Você precisa configurar um método de pagamento antes de aprovar propostas.\"\r\n                        : \"Não foi possível aprovar a candidatura. Verifique suas configurações de pagamento.\")\r\n\r\n                toast.error(message)\r\n\r\n                if (data.requires_stripe_account) {\r\n                    router.push(\"/dashboard/payment-methods\")\r\n                } else if (data.requires_funding && typeof data.redirect_url === \"string\" && typeof window !== \"undefined\") {\r\n                    window.location.href = data.redirect_url\r\n                }\r\n            } else {\r\n                toast.error(\"Erro ao atualizar status\")\r\n            }\r\n        } finally {\r\n            setProcessingId(null)\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex flex-col gap-6 p-6\">\r\n                <Skeleton className=\"h-8 w-1/3\" />\r\n                <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                    {[1, 2, 3].map(i => <Skeleton key={i} className=\"h-64 w-full\" />)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!campaign) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center h-[50vh] gap-4\">\r\n                <h2 className=\"text-2xl font-bold\">Campanha não encontrada</h2>\r\n                <Button variant=\"outline\" onClick={() => router.back()}>Voltar</Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const pendingApplications = applications.filter(app => app.status === 'pending')\r\n    const approvedApplications = applications.filter(app => app.status === 'approved')\r\n    const rejectedApplications = applications.filter(app => app.status === 'rejected')\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6 p-4 sm:p-6 lg:p-8 min-h-[92vh]\">\r\n            <TermsModal \r\n                open={showTerms} \r\n                onOpenChange={setShowTerms}\r\n                title={TERMS_CONTENT.brand_approval.title}\r\n                content={TERMS_CONTENT.brand_approval.content}\r\n                onAccept={handleTermsAccept}\r\n            />\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n                <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()}>\r\n                    <ArrowLeft className=\"h-4 w-4\" />\r\n                </Button>\r\n                <div>\r\n                    <h1 className=\"text-xl font-semibold\">Gerenciar Candidatos</h1>\r\n                    <p className=\"text-sm text-muted-foreground\">{campaign.title}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <Tabs defaultValue=\"pending\" className=\"w-full\">\r\n                <TabsList className=\"grid w-full grid-cols-3 max-w-xl\">\r\n                    <TabsTrigger value=\"pending\" className=\"flex items-center gap-2\">\r\n                        <Clock className=\"h-4 w-4\" />\r\n                        Pendentes ({pendingApplications.length})\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"approved\" className=\"flex items-center gap-2\">\r\n                        <CheckCircle className=\"h-4 w-4\" />\r\n                        Aprovados ({approvedApplications.length})\r\n                    </TabsTrigger>\r\n                    <TabsTrigger value=\"rejected\" className=\"flex items-center gap-2\">\r\n                        <XCircle className=\"h-4 w-4\" />\r\n                        Rejeitados ({rejectedApplications.length})\r\n                    </TabsTrigger>\r\n                </TabsList>\r\n\r\n                <div className=\"mt-6\">\r\n                    <TabsContent value=\"pending\">\r\n                        {pendingApplications.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-muted-foreground\">\r\n                                Nenhuma candidatura pendente no momento.\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                                {pendingApplications.map(app => (\r\n                                    <CandidateCard \r\n                                        key={app.id} \r\n                                        application={app} \r\n                                        onApprove={() => handleApproveClick(app.id)}\r\n                                        onReject={() => handleStatusUpdate(app.id, 'rejected')}\r\n                                        isProcessing={processingId === app.id}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"approved\">\r\n                        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {approvedApplications.map(app => (\r\n                                <CandidateCard key={app.id} application={app} readonly />\r\n                            ))}\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"rejected\">\r\n                         <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {rejectedApplications.map(app => (\r\n                                <CandidateCard key={app.id} application={app} readonly />\r\n                            ))}\r\n                        </div>\r\n                    </TabsContent>\r\n                </div>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CandidateCard({ \r\n    application, \r\n    onApprove, \r\n    onReject, \r\n    isProcessing,\r\n    readonly = false \r\n}: { \r\n    application: ExtendedApplication, \r\n    onApprove?: () => void, \r\n    onReject?: () => void,\r\n    isProcessing?: boolean,\r\n    readonly?: boolean\r\n}) {\r\n    return (\r\n        <Card>\r\n            <CardHeader className=\"flex flex-row items-center gap-4\">\r\n                <Avatar className=\"h-12 w-12\">\r\n                    <AvatarImage src={application.creator?.avatar} />\r\n                    <AvatarFallback>{application.creator?.name?.substring(0, 2).toUpperCase()}</AvatarFallback>\r\n                </Avatar>\r\n                <div>\r\n                    <CardTitle className=\"text-base\">{application.creator?.name}</CardTitle>\r\n                    <div className=\"flex items-center gap-2 text-xs text-muted-foreground mt-1\">\r\n                        {application.creator?.instagram_handle && (\r\n                            <span className=\"bg-pink-100 text-pink-700 px-2 py-0.5 rounded-full\">\r\n                                {application.creator.instagram_handle}\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                    <h4 className=\"text-sm font-medium\">Proposta do criador</h4>\r\n                    <p className=\"text-sm text-muted-foreground whitespace-pre-line\">\r\n                        {application.proposal}\r\n                    </p>\r\n                </div>\r\n                <div className=\"grid gap-2 text-sm\">\r\n                    {typeof application.proposed_budget === \"number\" || application.proposed_budget ? (\r\n                        <div className=\"flex justify-between items-center bg-muted p-2 rounded\">\r\n                            <span>Orçamento proposto</span>\r\n                            <span className=\"font-semibold\">\r\n                                {new Intl.NumberFormat(\"pt-BR\", { style: \"currency\", currency: \"BRL\" }).format(\r\n                                    Number(application.proposed_budget ?? application.budget ?? 0)\r\n                                )}\r\n                            </span>\r\n                        </div>\r\n                    ) : application.budget ? (\r\n                        <div className=\"flex justify-between items-center bg-muted p-2 rounded\">\r\n                            <span>Orçamento proposto</span>\r\n                            <span className=\"font-semibold\">\r\n                                {new Intl.NumberFormat(\"pt-BR\", { style: \"currency\", currency: \"BRL\" }).format(application.budget)}\r\n                            </span>\r\n                        </div>\r\n                    ) : null}\r\n                    {(application.estimated_delivery_days || application.delivery_days) && (\r\n                        <div className=\"flex justify-between items-center bg-muted p-2 rounded\">\r\n                            <span>Prazo estimado</span>\r\n                            <span className=\"font-semibold\">\r\n                                {((application.estimated_delivery_days ?? application.delivery_days) ?? 0) + \" dias\"}\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                {Array.isArray(application.portfolio_links) && application.portfolio_links.length > 0 && (\r\n                    <div className=\"space-y-1\">\r\n                        <h4 className=\"text-sm font-medium\">Portfólio</h4>\r\n                        <ul className=\"space-y-1\">\r\n                            {application.portfolio_links.map((link: string, index: number) => (\r\n                                <li key={index}>\r\n                                    <a\r\n                                        href={link}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"text-xs text-primary underline break-all\"\r\n                                    >\r\n                                        {link}\r\n                                    </a>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                )}\r\n            </CardContent>\r\n            <CardFooter className=\"flex gap-2\">\r\n                {readonly ? (\r\n                    <Button variant=\"outline\" className=\"w-full\" asChild>\r\n                        <Link href={`/dashboard/messages?chat=${application.creator_id}`}>\r\n                            <MessageCircle className=\"mr-2 h-4 w-4\" />\r\n                            Mensagem\r\n                        </Link>\r\n                    </Button>\r\n                ) : (\r\n                    <>\r\n                        <Button \r\n                            variant=\"outline\" \r\n                            className=\"flex-1 border-red-200 hover:bg-red-50 text-red-600 hover:text-red-700\"\r\n                            onClick={onReject}\r\n                            disabled={isProcessing}\r\n                        >\r\n                            Rejeitar\r\n                        </Button>\r\n                        <Button \r\n                            className=\"flex-1 bg-green-600 hover:bg-green-700 text-white\"\r\n                            onClick={onApprove}\r\n                            disabled={isProcessing}\r\n                        >\r\n                            Aprovar\r\n                        </Button>\r\n                    </>\r\n                )}\r\n            </CardFooter>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\campaigns\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\campaigns\\create\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Stars' is defined but never used.","line":10,"column":147,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":152},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'index' is defined but never used.","line":466,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":466,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport React, { useRef, useState, useCallback, useEffect } from \"react\"\nimport { Input } from \"@/presentation/components/ui/input\"\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\nimport { Button } from \"@/presentation/components/ui/button\"\nimport { Card } from \"@/presentation/components/ui/card\"\nimport { toast } from \"sonner\"\nimport { cn } from \"@/lib/utils\"\nimport { UploadCloud, X, PlusCircle, ArrowRight, ArrowLeft, Check, Play, List, Image as ImageIcon, Filter, DollarSign, Calendar, Wand2, FileText, Stars, User } from \"lucide-react\"\nimport { ptBR } from \"date-fns/locale\"\nimport { CreateCampaignUseCase } from \"@/application/use-cases/create-campaign.use-case\"\nimport { ApiCampaignRepository } from \"@/infrastructure/repositories/campaign-repository\"\nimport { ApiTermsRepository } from \"@/infrastructure/repositories/terms-repository\"\nimport { api } from \"@/infrastructure/api/axios-adapter\"\nimport NICHES from \"@/lib/niches\"\nimport Image from \"next/image\"\nimport DatePicker, { registerLocale } from \"react-datepicker\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport { TermsModal } from \"@/presentation/components/terms/terms-modal\"\nimport { TERMS_CONTENT } from \"@/presentation/components/terms/terms-content\"\nimport { ApiBrandProfileRepository } from \"@/infrastructure/repositories/brand-profile-repository\"\nimport Link from \"next/link\"\n\nif (typeof registerLocale === \"function\") {\n  registerLocale(\"pt-BR\", ptBR)\n}\n\nconst campaignRepository = new ApiCampaignRepository(api)\nconst createCampaignUseCase = new CreateCampaignUseCase(campaignRepository)\nconst termsRepository = new ApiTermsRepository(api)\nconst brandProfileRepository = new ApiBrandProfileRepository(api)\n\nconst BRAZILIAN_STATES = [\n  \"Acre\", \"Alagoas\", \"Amapá\", \"Amazonas\", \"Bahia\", \"Ceará\", \"Distrito Federal\",\n  \"Espírito Santo\", \"Goiás\", \"Maranhão\", \"Mato Grosso\", \"Mato Grosso do Sul\",\n  \"Minas Gerais\", \"Pará\", \"Paraíba\", \"Paraná\", \"Pernambuco\", \"Piauí\",\n  \"Rio de Janeiro\", \"Rio Grande do Norte\", \"Rio Grande do Sul\", \"Rondônia\",\n  \"Roraima\", \"Santa Catarina\", \"São Paulo\", \"Sergipe\", \"Tocantins\"\n]\n\nconst CAMPAIGN_TYPES = NICHES\n\nconst STEPS = [\n    { id: 1, label: \"Início\", icon: Play },\n    { id: 2, label: \"Nome & Tipo\", icon: List },\n    { id: 3, label: \"Branding\", icon: ImageIcon },\n    { id: 4, label: \"Restrições\", icon: Filter },\n    { id: 5, label: \"Valores\", icon: DollarSign },\n    { id: 6, label: \"Datas\", icon: Calendar },\n    { id: 7, label: \"Revisar\", icon: FileText },\n]\n\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\n\nexport default function CreateCampaignPage() {\n  const { user } = useAuth()\n  \n  // Profile State\n  const [checkingProfile, setCheckingProfile] = useState(true)\n  const [profileComplete, setProfileComplete] = useState(true)\n  const [missingProfileFields, setMissingProfileFields] = useState<string[]>([])\n\n  // Terms State\n  const [showTerms, setShowTerms] = useState(false)\n  const [termsAccepted, setTermsAccepted] = useState(false)\n  const [checkingTerms, setCheckingTerms] = useState(true)\n\n  // Stepper State\n  const [currentStep, setCurrentStep] = useState(1)\n\n  // Form State\n  const [title, setTitle] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [objective, setObjective] = useState(\"\") // New field to match UI\n  const [budget, setBudget] = useState(\"\")\n  const [remunerationType, setRemunerationType] = useState<'paga' | 'permuta'>('paga')\n  const [deadline, setDeadline] = useState<Date | undefined>()\n  const [selectedStates, setSelectedStates] = useState<string[]>([])\n  const [file, setFile] = useState<File | null>(null)\n  const [imagePreview, setImagePreview] = useState<string | null>(null)\n  const [dragActive, setDragActive] = useState(false)\n  const [campaignType, setCampaignType] = useState(\"\")\n  const [isSubmitted, setIsSubmitted] = useState(false)\n  const [attachments, setAttachments] = useState<File[]>([])\n  const [isCreating, setIsCreating] = useState(false)\n\n  // Filter State\n  const [minAge, setMinAge] = useState<number | undefined>()\n  const [maxAge, setMaxAge] = useState<number | undefined>()\n  const [targetGenders, setTargetGenders] = useState<string[]>([])\n  const [targetCreatorTypes, setTargetCreatorTypes] = useState<string[]>([])\n\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const attachmentInputRef = useRef<HTMLInputElement>(null)\n\n  // Check Profile on Mount\n  useEffect(() => {\n      const checkProfile = async () => {\n          if (!user || user.role !== 'brand') {\n              setCheckingProfile(false)\n              return\n          }\n          try {\n              const profile = await brandProfileRepository.getProfile()\n              const requiredFieldLabels: Record<string, string> = {\n                  company_name: \"Nome da Empresa\",\n                  cnpj: \"CNPJ\",\n                  description: \"Sobre a Empresa\",\n                  niche: \"Nicho\",\n                  address: \"Endereço\",\n                  city: \"Cidade\",\n                  state: \"Estado\",\n              }\n              const missingFields = Object.keys(requiredFieldLabels).filter((field) => {\n                  const value = (profile as unknown as Record<string, unknown>)[field]\n                  if (typeof value === \"string\") return value.trim() === \"\"\n                  return !value\n              })\n              const isComplete = missingFields.length === 0\n              \n              setProfileComplete(isComplete)\n              setMissingProfileFields(missingFields.map((field) => requiredFieldLabels[field]))\n          } catch (e) {\n              console.error(\"Error checking profile\", e)\n          } finally {\n              setCheckingProfile(false)\n          }\n      }\n      checkProfile()\n  }, [user])\n\n  // Check Terms on Mount\n  useEffect(() => {\n      const checkTerms = async () => {\n          if (!user || user.role !== 'brand') {\n              setCheckingTerms(false)\n              return\n          }\n          try {\n              const status = await termsRepository.check(['brand_campaign_creation'])\n              if (!status.brand_campaign_creation) {\n                  setShowTerms(true)\n              } else {\n                  setTermsAccepted(true)\n              }\n          } catch (e) {\n              console.error(e)\n          } finally {\n              setCheckingTerms(false)\n          }\n      }\n      checkTerms()\n  }, [user])\n\n  const handleTermsAccept = async () => {\n      await termsRepository.accept('brand_campaign_creation')\n      setTermsAccepted(true)\n      setShowTerms(false)\n  }\n\n  const resetForm = useCallback(() => {\n    setTitle(\"\")\n    setDescription(\"\")\n    setObjective(\"\")\n    setBudget(\"\")\n    setRemunerationType('paga')\n    setDeadline(undefined)\n    setSelectedStates([])\n    setFile(null)\n    setImagePreview(null)\n    setCampaignType(\"\")\n    setAttachments([])\n    setMinAge(undefined)\n    setMaxAge(undefined)\n    setTargetGenders([])\n    setTargetCreatorTypes([])\n    setCurrentStep(1)\n  }, [])\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const f = e.target.files?.[0]\n    if (f) {\n      if (!f.type.startsWith(\"image\")) {\n        toast.error(\"Apenas arquivos de imagem são permitidos.\")\n        return\n      }\n      if (f.size > 10 * 1024 * 1024) {\n        toast.error(\"Arquivo muito grande. Máx: 10MB\")\n        return\n      }\n      setFile(f)\n      setImagePreview(URL.createObjectURL(f))\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    setDragActive(false)\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const f = e.dataTransfer.files[0]\n      if (!f.type.startsWith(\"image\")) {\n        toast.error(\"Apenas arquivos de imagem são permitidos.\")\n        return\n      }\n      if (f.size > 10 * 1024 * 1024) {\n        toast.error(\"Arquivo muito grande. Máx: 10MB\")\n        return\n      }\n      setFile(f)\n      setImagePreview(URL.createObjectURL(f))\n    }\n  }\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    setDragActive(true)\n  }\n\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    setDragActive(false)\n  }\n\n  const removeState = (state: string) => {\n    setSelectedStates((prev) => prev.filter((s) => s.toLowerCase() !== state.toLowerCase()))\n  }\n\n  const handleStateChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedState = e.target.value\n    if (selectedState && !selectedStates.includes(selectedState)) {\n      setSelectedStates(prev => [...prev, selectedState])\n    }\n  }\n\n  const handleSelectAllStatesCheckbox = (checked: boolean) => {\n    if (checked) {\n      setSelectedStates([...BRAZILIAN_STATES])\n    } else {\n      setSelectedStates([])\n    }\n  }\n\n  const getSelectAllCheckboxState = () => {\n    if (selectedStates.length === 0) {\n      return { checked: false, indeterminate: false }\n    } else if (selectedStates.length === BRAZILIAN_STATES.length) {\n      return { checked: true, indeterminate: false }\n    } else {\n      return { checked: false, indeterminate: true }\n    }\n  }\n\n  const handleAttachmentChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || [])\n    if (files.length > 0) {\n      setAttachments(prev => [...prev, ...files])\n    }\n  }\n\n  const removeAttachment = (index: number) => {\n    setAttachments(prev => prev.filter((_, i) => i !== index))\n  }\n\n  const validateStep = (step: number): boolean => {\n      switch (step) {\n          case 1: // Início\n              if (!description.trim()) { toast.error(\"Descrição do produto é obrigatória.\"); return false }\n              return true\n          case 2: // Nome & Tipo\n              if (!title.trim()) { toast.error(\"Título da campanha é obrigatório.\"); return false }\n              if (!campaignType) { toast.error(\"Tipo de campanha é obrigatório.\"); return false }\n              return true\n          case 3: // Branding\n              // Image is optional but recommended\n              return true\n          case 4: // Restrições\n              if (targetCreatorTypes.length === 0) { toast.error(\"Selecione pelo menos um tipo de criador.\"); return false }\n              if (minAge && maxAge && minAge > maxAge) { toast.error(\"Idade mínima não pode ser maior que idade máxima.\"); return false }\n              if (minAge && minAge < 18) { toast.error(\"Idade mínima deve ser pelo menos 18 anos.\"); return false }\n              if (maxAge && maxAge < 18) { toast.error(\"Idade máxima deve ser pelo menos 18 anos.\"); return false }\n              if (selectedStates.length === 0) { toast.error(\"Selecione pelo menos um estado.\"); return false }\n              return true\n          case 5: // Valores\n              if (remunerationType === 'paga' && !budget.trim()) { toast.error(\"Orçamento é obrigatório para campanhas pagas.\"); return false }\n              return true\n          case 6: // Datas\n              if (!deadline) { toast.error(\"Prazo final é obrigatório.\"); return false }\n              return true\n          default:\n              return true\n      }\n  }\n\n  const nextStep = () => {\n      if (validateStep(currentStep)) {\n          setCurrentStep(prev => Math.min(prev + 1, STEPS.length))\n      }\n  }\n\n  const prevStep = () => {\n      setCurrentStep(prev => Math.max(prev - 1, 1))\n  }\n\n  const handleSubmit = async () => {\n    if (!validateStep(currentStep)) return\n\n    setIsCreating(true)\n\n    try {\n      const formData = new FormData()\n      formData.append(\"title\", title.trim())\n      // Combine objective and description if needed, or just use description\n      const fullDescription = objective ? `${description}\\n\\nObjetivo: ${objective}` : description\n      formData.append(\"description\", fullDescription.trim())\n\n      if (remunerationType === \"paga\") {\n        const budgetValue = parseFloat(budget)\n        if (isNaN(budgetValue) || budgetValue <= 0) {\n          toast.error(\"Orçamento deve ser um número válido e positivo para campanhas pagas.\")\n          setIsCreating(false)\n          return\n        }\n        formData.append(\"budget\", budgetValue.toString())\n      } else {\n        const trimmedBudget = budget.trim()\n        if (trimmedBudget) {\n          const budgetValue = parseFloat(trimmedBudget)\n          if (!isNaN(budgetValue) && budgetValue >= 0) {\n            formData.append(\"budget\", budgetValue.toString())\n          } else {\n            formData.append(\"budget\", \"0\")\n          }\n        } else {\n          formData.append(\"budget\", \"0\")\n        }\n      }\n\n      formData.append(\"remuneration_type\", remunerationType)\n\n      const year = deadline!.getFullYear()\n      const month = String(deadline!.getMonth() + 1).padStart(2, \"0\")\n      const day = String(deadline!.getDate()).padStart(2, \"0\")\n      formData.append(\"deadline\", `${year}-${month}-${day}`)\n\n      selectedStates.forEach(state => formData.append(\"target_states[]\", state))\n\n      if (campaignType.trim()) {\n        formData.append(\"campaign_type\", campaignType.trim())\n        formData.append(\"category\", campaignType.trim())\n      }\n\n      if (minAge !== undefined) formData.append(\"min_age\", minAge.toString())\n      if (maxAge !== undefined) formData.append(\"max_age\", maxAge.toString())\n\n      targetGenders.forEach(gender => formData.append(\"target_genders[]\", gender))\n      targetCreatorTypes.forEach(type => formData.append(\"target_creator_types[]\", type))\n\n      if (file) formData.append(\"image\", file)\n\n      attachments.forEach(att => {\n        formData.append(\"attach_file[]\", att)\n      })\n\n      await createCampaignUseCase.execute(formData)\n\n      setIsSubmitted(true)\n      toast.success(\"Campanha criada com sucesso! Aguarde a aprovação do administrador.\")\n      resetForm()\n      setTimeout(() => setIsSubmitted(false), 5000)\n\n    } catch (err) {\n      console.error(err)\n      toast.error(\"Erro inesperado ao criar campanha.\")\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  if (checkingTerms || checkingProfile) {\n      return <div className=\"min-h-[92vh] flex items-center justify-center\"><Loader2 className=\"h-8 w-8 animate-spin\" /></div>\n  }\n\n  if (!profileComplete) {\n      return (\n        <div className=\"min-h-[92vh] flex flex-col items-center justify-center py-4 px-2 sm:px-10\">\n            <Card className=\"w-full max-w-md p-8 text-center\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center\">\n                    <User className=\"w-8 h-8 text-yellow-600 dark:text-yellow-400\" />\n                </div>\n                <h2 className=\"text-2xl font-bold mb-2\">Perfil Incompleto</h2>\n                <p className=\"text-muted-foreground mb-6\">\n                    Para criar uma campanha, você precisa preencher as informações da sua empresa.\n                    Isso ajuda os criadores a conhecerem melhor sua marca.\n                </p>\n                {missingProfileFields.length > 0 && (\n                    <p className=\"text-sm text-destructive mb-6\">\n                        Faltando: {missingProfileFields.join(\", \")}\n                    </p>\n                )}\n                <Link href=\"/dashboard/profile\">\n                    <Button className=\"w-full\">\n                        Completar Perfil\n                    </Button>\n                </Link>\n            </Card>\n        </div>\n      )\n  }\n\n  if (isSubmitted) {\n    return (\n      <div className=\"min-h-[92vh] flex flex-col items-center justify-center py-4 px-2 sm:px-10\">\n        <Card className=\"w-full max-w-md p-8 text-center\">\n          <div className=\"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center\">\n            <PlusCircle className=\"w-8 h-8 text-green-600 dark:text-green-400\" />\n          </div>\n          <h2 className=\"text-2xl font-bold mb-2\">Campanha Criada!</h2>\n          <p className=\"text-muted-foreground mb-4\">\n            Sua campanha foi enviada para aprovação. Você receberá uma notificação quando ela for aprovada pelo administrador.\n          </p>\n          <Button onClick={() => setIsSubmitted(false)} className=\"bg-pink-500 hover:bg-pink-600 text-white\">\n            Criar Nova Campanha\n          </Button>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <>\n    <TermsModal \n        open={showTerms}\n        onOpenChange={(v) => { if (!termsAccepted) setShowTerms(v) }} // Force accept\n        title={TERMS_CONTENT.brand_campaign_creation.title}\n        content={TERMS_CONTENT.brand_campaign_creation.content}\n        onAccept={handleTermsAccept}\n        onReject={() => { window.history.back() }} // Go back if rejected\n    />\n\n    <div className=\"min-h-[92vh] flex flex-col items-center py-4 px-2 sm:px-10\">\n      <div className=\"w-full max-w-5xl\">\n        <div className=\"flex items-center mb-6\">\n            <Button variant=\"ghost\" onClick={() => window.history.back()}>\n                <ArrowLeft className=\"mr-2 h-4 w-4\" /> Voltar\n            </Button>\n            <h1 className=\"text-2xl font-bold ml-2\">Criar campanha</h1>\n        </div>\n\n        {/* Stepper Header */}\n        <div className=\"bg-background rounded-lg border p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-4\">\n                <span className=\"text-sm text-muted-foreground\">Passo {currentStep} de {STEPS.length}</span>\n                <span className=\"text-sm text-muted-foreground font-medium\">\n                    Tempo estimado: {Math.max(1, 8 - currentStep)} min\n                </span>\n            </div>\n            <div className=\"relative h-2 bg-secondary rounded-full overflow-hidden mb-8\">\n                <div \n                    className=\"absolute top-0 left-0 h-full bg-primary transition-all duration-300 ease-out\"\n                    style={{ width: `${(currentStep / STEPS.length) * 100}%` }}\n                />\n            </div>\n            \n            <div className=\"flex justify-between relative\">\n                {STEPS.map((step, index) => {\n                    const isActive = step.id === currentStep\n                    const isCompleted = step.id < currentStep\n                    const Icon = step.icon\n\n                    return (\n                        <div key={step.id} className=\"flex flex-col items-center relative z-10 group\">\n                            <div \n                                className={cn(\n                                    \"w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors duration-200 bg-background\",\n                                    isActive ? \"border-primary text-primary\" : \n                                    isCompleted ? \"border-primary bg-primary text-primary-foreground\" : \n                                    \"border-muted-foreground/30 text-muted-foreground\"\n                                )}\n                            >\n                                {isCompleted ? <Check className=\"w-5 h-5\" /> : <Icon className=\"w-5 h-5\" />}\n                            </div>\n                            <span className={cn(\n                                \"text-xs mt-2 font-medium hidden sm:block\",\n                                isActive ? \"text-primary\" : \"text-muted-foreground\"\n                            )}>\n                                {step.label}\n                            </span>\n                        </div>\n                    )\n                })}\n                {/* Connecting lines could be added here if needed, but the progress bar serves this purpose */}\n            </div>\n        </div>\n\n        {/* Form Content */}\n        <div className=\"rounded-2xl border bg-background shadow-sm p-4 md:p-8 w-full min-h-100\">\n            \n            {currentStep === 1 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div className=\"mb-4\">\n                        <h2 className=\"text-xl font-semibold mb-2\">Vamos começar!</h2>\n                        <p className=\"text-muted-foreground\">2 minutinhos e nossa IA fará seu briefing!</p>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Descreva o produto/serviço a ser divulgado? *</label>\n                        <Input \n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                            placeholder=\"Ex: Cosméticos facial especializado em acne; O omega3; Toalha mágica para secar rápido\"\n                            className=\"bg-muted/30\"\n                        />\n                        <p className=\"text-xs text-muted-foreground mt-1 text-right\">*Não cite sua marca. Apenas o produto.</p>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Qual o objetivo desta campanha?</label>\n                        <Textarea \n                            value={objective}\n                            onChange={(e) => setObjective(e.target.value)}\n                            placeholder=\"Ex: Aumentar reconhecimento de marca, Gerar vendas, Criar conteúdo UGC...\"\n                            className=\"bg-muted/30 min-h-30\"\n                        />\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 2 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Identificação</h2>\n                        <p className=\"text-muted-foreground mb-6\">Dê um nome e categoria para sua campanha.</p>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Título da Campanha *</label>\n                        <Input\n                            value={title}\n                            onChange={e => setTitle(e.target.value)}\n                            placeholder=\"Ex: Campanha Verão 2026\"\n                        />\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Tipo de Campanha *</label>\n                        <select\n                            value={campaignType}\n                            onChange={e => setCampaignType(e.target.value)}\n                            className=\"w-full px-3 py-2 border rounded-lg bg-background text-sm\"\n                        >\n                            <option value=\"\">Selecione o tipo</option>\n                            {CAMPAIGN_TYPES.map(type => (\n                                <option key={type} value={type}>{type}</option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 3 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Visual</h2>\n                        <p className=\"text-muted-foreground mb-6\">Adicione imagens e anexos para inspirar os criadores.</p>\n                    </div>\n\n                    <div className=\"mb-5\">\n                        <label className=\"block text-sm font-medium mb-2\">Logo/Capa da Campanha</label>\n                        <div\n                            className={cn(\n                                \"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition bg-background min-h-32\",\n                                dragActive && \"border-primary bg-primary/10\"\n                            )}\n                            onClick={() => fileInputRef.current?.click()}\n                            onDrop={handleDrop}\n                            onDragOver={handleDragOver}\n                            onDragLeave={handleDragLeave}\n                        >\n                            <UploadCloud className=\"w-8 h-8 mb-2 text-muted-foreground\" />\n                            <span className=\"text-sm text-muted-foreground\">Clique para fazer upload ou arraste o arquivo</span>\n                            <input\n                                ref={fileInputRef}\n                                type=\"file\"\n                                accept=\"image/*\"\n                                className=\"hidden\"\n                                onChange={handleFileChange}\n                            />\n                        </div>\n                        {imagePreview && (\n                            <div className=\"flex flex-col items-center mt-4 bg-muted p-4 rounded-lg\">\n                                <div className=\"relative w-full max-w-50 h-40\">\n                                    <Image\n                                        src={imagePreview}\n                                        alt=\"Logo Preview\"\n                                        fill\n                                        className=\"rounded-lg object-contain\"\n                                    />\n                                </div>\n                                <Button\n                                    type=\"button\"\n                                    size=\"sm\"\n                                    variant=\"destructive\"\n                                    className=\"mt-2\"\n                                    onClick={() => { setFile(null); setImagePreview(null); }}\n                                >\n                                    Remover\n                                </Button>\n                            </div>\n                        )}\n                    </div>\n\n                    <div className=\"mb-5\">\n                        <label className=\"block text-sm font-medium mb-2\">Anexos (PDF, DOC, Imagens)</label>\n                        <div\n                            className=\"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition bg-background min-h-24\"\n                            onClick={() => attachmentInputRef.current?.click()}\n                        >\n                            <PlusCircle className=\"w-8 h-8 mb-2 text-muted-foreground\" />\n                            <span className=\"text-sm text-muted-foreground\">Adicionar arquivos complementares</span>\n                            <input\n                                ref={attachmentInputRef}\n                                type=\"file\"\n                                multiple\n                                accept=\"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                                className=\"hidden\"\n                                onChange={handleAttachmentChange}\n                            />\n                        </div>\n                        {attachments.length > 0 && (\n                            <div className=\"mt-4 space-y-2\">\n                                {attachments.map((attachment, index) => (\n                                    <div key={index} className=\"flex items-center justify-between p-3 bg-muted rounded-lg border\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"w-8 h-8 bg-background rounded flex items-center justify-center border\">\n                                                <span className=\"text-xs font-medium\">\n                                                    {attachment.name.split('.').pop()?.toUpperCase()}\n                                                </span>\n                                            </div>\n                                            <div>\n                                                <p className=\"text-sm font-medium truncate max-w-50\">{attachment.name}</p>\n                                                <p className=\"text-xs text-muted-foreground\">{(attachment.size / 1024 / 1024).toFixed(2)} MB</p>\n                                            </div>\n                                        </div>\n                                        <Button\n                                            type=\"button\"\n                                            size=\"sm\"\n                                            variant=\"ghost\"\n                                            onClick={() => removeAttachment(index)}\n                                            className=\"p-1 h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10\"\n                                        >\n                                            <X className=\"w-4 h-4\" />\n                                        </Button>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 4 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Segmentação</h2>\n                        <p className=\"text-muted-foreground mb-6\">Defina quem pode participar da sua campanha.</p>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-sm font-medium mb-3\">Tipo de Criador *</label>\n                        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n                            {['ugc', 'influencer', 'both'].map(type => {\n                                const isChecked = targetCreatorTypes.includes(type)\n                                return (\n                                    <label key={type} className={cn(\n                                        \"flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all hover:border-primary/50\",\n                                        isChecked ? \"border-primary bg-primary/5\" : \"border-muted\"\n                                    )}>\n                                        <input\n                                            type=\"checkbox\"\n                                            checked={isChecked}\n                                            onChange={(e) => {\n                                                if (e.target.checked) {\n                                                    setTargetCreatorTypes(prev => [...prev, type]);\n                                                } else {\n                                                    setTargetCreatorTypes(prev => prev.filter(t => t !== type));\n                                                }\n                                            }}\n                                            className=\"hidden\"\n                                        />\n                                        <div className={cn(\n                                            \"w-6 h-6 rounded-full border flex items-center justify-center mb-2\",\n                                            isChecked ? \"bg-primary border-primary text-primary-foreground\" : \"border-muted-foreground\"\n                                        )}>\n                                            {isChecked && <Check className=\"w-3 h-3\" />}\n                                        </div>\n                                        <span className=\"text-sm font-medium capitalize\">\n                                            {type === 'ugc' ? 'UGC' :\n                                            type === 'influencer' ? 'Influenciador' :\n                                                'Ambos'}\n                                        </span>\n                                    </label>\n                                )\n                            })}\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">Idade Mínima</label>\n                            <Input\n                                type=\"number\"\n                                min=\"18\"\n                                max=\"100\"\n                                value={minAge || ''}\n                                onChange={(e) => setMinAge(e.target.value ? parseInt(e.target.value) : undefined)}\n                                placeholder=\"18\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium mb-2\">Idade Máxima</label>\n                            <Input\n                                type=\"number\"\n                                min=\"18\"\n                                max=\"100\"\n                                value={maxAge || ''}\n                                onChange={(e) => setMaxAge(e.target.value ? parseInt(e.target.value) : undefined)}\n                                placeholder=\"100\"\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-3\">Gênero</label>\n                        <div className=\"flex gap-4\">\n                            {['male', 'female', 'other'].map(gender => (\n                                <label key={gender} className=\"flex items-center space-x-2 cursor-pointer\">\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={targetGenders.includes(gender)}\n                                        onChange={(e) => {\n                                            if (e.target.checked) {\n                                                setTargetGenders(prev => [...prev, gender]);\n                                            } else {\n                                                setTargetGenders(prev => prev.filter(g => g !== gender));\n                                            }\n                                        }}\n                                        className=\"rounded border-input text-primary focus:ring-primary\"\n                                    />\n                                    <span className=\"text-sm capitalize\">\n                                        {gender === 'male' ? 'Masculino' :\n                                            gender === 'female' ? 'Feminino' :\n                                            'Outro'}\n                                    </span>\n                                </label>\n                            ))}\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Estados *</label>\n                        <div className=\"flex flex-wrap gap-2 mb-2\">\n                            {selectedStates.map(state => (\n                                <span\n                                    key={state}\n                                    className=\"flex items-center bg-primary/10 text-primary rounded-full px-3 py-1 text-xs font-medium gap-1\"\n                                >\n                                    {state}\n                                    <button\n                                        type=\"button\"\n                                        className=\"ml-1 hover:text-destructive\"\n                                        onClick={() => removeState(state)}\n                                    >\n                                        <X className=\"w-3 h-3\" />\n                                    </button>\n                                </span>\n                            ))}\n                        </div>\n                        <div className=\"flex items-center gap-2 mb-2\">\n                            <label className=\"flex items-center space-x-2 cursor-pointer\">\n                                <input\n                                    type=\"checkbox\"\n                                    ref={(el) => {\n                                        if (el) {\n                                            const state = getSelectAllCheckboxState();\n                                            el.checked = state.checked;\n                                            el.indeterminate = state.indeterminate;\n                                        }\n                                    }}\n                                    onChange={(e) => handleSelectAllStatesCheckbox(e.target.checked)}\n                                    className=\"rounded border-input text-primary focus:ring-primary\"\n                                />\n                                <span className=\"text-sm\">Selecionar todos os estados</span>\n                            </label>\n                        </div>\n                        <select\n                            value=\"\"\n                            onChange={handleStateChange}\n                            className=\"w-full px-3 py-2 border rounded-lg bg-background text-sm\"\n                        >\n                            <option value=\"\">Selecione um estado para adicionar</option>\n                            {BRAZILIAN_STATES.filter(state => !selectedStates.includes(state)).map(state => (\n                                <option key={state} value={state}>{state}</option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 5 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Investimento</h2>\n                        <p className=\"text-muted-foreground mb-6\">Defina como os criadores serão recompensados.</p>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Tipo de Remuneração *</label>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <div \n                                onClick={() => setRemunerationType('paga')}\n                                className={cn(\n                                    \"border rounded-lg p-4 cursor-pointer transition-all hover:border-primary\",\n                                    remunerationType === 'paga' ? \"border-primary bg-primary/5 ring-1 ring-primary\" : \"\"\n                                )}\n                            >\n                                <h3 className=\"font-medium mb-1\">Paga (Dinheiro)</h3>\n                                <p className=\"text-xs text-muted-foreground\">Pagamento em valor monetário via plataforma.</p>\n                            </div>\n                            <div \n                                onClick={() => setRemunerationType('permuta')}\n                                className={cn(\n                                    \"border rounded-lg p-4 cursor-pointer transition-all hover:border-primary\",\n                                    remunerationType === 'permuta' ? \"border-primary bg-primary/5 ring-1 ring-primary\" : \"\"\n                                )}\n                            >\n                                <h3 className=\"font-medium mb-1\">Permuta</h3>\n                                <p className=\"text-xs text-muted-foreground\">Troca por produtos ou serviços.</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">\n                            {remunerationType === 'permuta' ? 'Valor Estimado (R$) - Opcional' : 'Orçamento Total (R$) *'}\n                        </label>\n                        <div className=\"relative\">\n                            <DollarSign className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\n                            <Input\n                                type=\"number\"\n                                step=\"0.01\"\n                                value={budget}\n                                onChange={e => setBudget(e.target.value)}\n                                placeholder={remunerationType === 'permuta' ? '0,00' : '800,00'}\n                                className=\"pl-9\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 6 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Cronograma</h2>\n                        <p className=\"text-muted-foreground mb-6\">Defina os prazos importantes da campanha.</p>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Prazo para Inscrições *</label>\n                        <div className=\"w-full relative\">\n                            <DatePicker\n                                selected={deadline}\n                                onChange={(date: Date | null) => setDeadline(date || undefined)}\n                                locale=\"pt-BR\"\n                                dateFormat=\"dd/MM/yyyy\"\n                                minDate={new Date()}\n                                showMonthDropdown\n                                showYearDropdown\n                                dropdownMode=\"select\"\n                                customInput={<Input className=\"w-full\" />}\n                                placeholderText=\"Selecione uma data\"\n                            />\n                            <Calendar className=\"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none\" />\n                        </div>\n                        <p className=\"text-xs text-muted-foreground mt-2\">\n                            Até esta data, os criadores poderão enviar propostas.\n                        </p>\n                    </div>\n                </div>\n            )}\n\n            {currentStep === 7 && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <div>\n                        <h2 className=\"text-xl font-semibold mb-2\">Revisão</h2>\n                        <p className=\"text-muted-foreground mb-6\">Confira todos os detalhes antes de publicar.</p>\n                    </div>\n\n                    <div className=\"bg-muted/30 rounded-lg p-6 space-y-4 border\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            <div>\n                                <h3 className=\"text-sm font-medium text-muted-foreground\">Campanha</h3>\n                                <p className=\"font-semibold text-lg\">{title}</p>\n                                <p className=\"text-sm\">{campaignType}</p>\n                            </div>\n                            <div>\n                                <h3 className=\"text-sm font-medium text-muted-foreground\">Investimento</h3>\n                                <p className=\"font-semibold text-lg\">\n                                    {remunerationType === 'paga' \n                                        ? `R$ ${parseFloat(budget || '0').toFixed(2)}` \n                                        : 'Permuta'}\n                                </p>\n                            </div>\n                            <div className=\"md:col-span-2\">\n                                <h3 className=\"text-sm font-medium text-muted-foreground\">Descrição</h3>\n                                <p className=\"text-sm whitespace-pre-wrap\">{description}</p>\n                                {objective && (\n                                    <div className=\"mt-2\">\n                                        <h4 className=\"text-xs font-semibold uppercase\">Objetivo</h4>\n                                        <p className=\"text-sm\">{objective}</p>\n                                    </div>\n                                )}\n                            </div>\n                            <div>\n                                <h3 className=\"text-sm font-medium text-muted-foreground\">Público Alvo</h3>\n                                <div className=\"flex flex-wrap gap-1 mt-1\">\n                                    {targetCreatorTypes.map(t => (\n                                        <span key={t} className=\"text-xs bg-secondary px-2 py-1 rounded capitalize\">{t}</span>\n                                    ))}\n                                </div>\n                            </div>\n                            <div>\n                                <h3 className=\"text-sm font-medium text-muted-foreground\">Locais</h3>\n                                <p className=\"text-sm\">{selectedStates.length} estados selecionados</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 p-4 bg-yellow-50 dark:bg-yellow-900/10 text-yellow-800 dark:text-yellow-200 rounded-lg text-sm\">\n                        <Wand2 className=\"h-5 w-5 shrink-0\" />\n                        <p>Novo recurso em breve: Nossa IA analisará sua campanha e gerará um briefing detalhado para os criadores aprovados.</p>\n                    </div>\n                </div>\n            )}\n\n            {/* Navigation Buttons */}\n            <div className=\"flex justify-between items-center mt-8 pt-6 border-t\">\n                <Button\n                    variant=\"ghost\"\n                    onClick={prevStep}\n                    disabled={currentStep === 1 || isCreating}\n                    className={cn(currentStep === 1 && \"invisible\")}\n                >\n                    <ArrowLeft className=\"mr-2 h-4 w-4\" /> Anterior\n                </Button>\n\n                {currentStep < STEPS.length ? (\n                    <Button onClick={nextStep} className=\"bg-primary\">\n                        Próximo <ArrowRight className=\"ml-2 h-4 w-4\" />\n                    </Button>\n                ) : (\n                    <Button \n                        onClick={handleSubmit} \n                        disabled={isCreating}\n                        className=\"bg-green-600 hover:bg-green-700 text-white min-w-37.5\"\n                    >\n                        {isCreating ? (\n                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        ) : (\n                            <Check className=\"mr-2 h-4 w-4\" />\n                        )}\n                        Publicar Campanha\n                    </Button>\n                )}\n            </div>\n        </div>\n      </div>\n    </div>\n    </>\n  )\n}\n\nfunction Loader2(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n    </svg>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\campaigns\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\financial\\history\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\financial\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\messages\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3366,3369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3366,3369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4327,4330],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4327,4330],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":125,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5339,5342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5339,5342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":125,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5384,5387],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5384,5387],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5460,5463],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5460,5463],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5505,5508],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5505,5508],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5580,5583],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5580,5583],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5624,5627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5624,5627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5700,5703],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5700,5703],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5747,5750],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5747,5750],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'sendGuideMessages'. Either include it or remove the dependency array.","line":389,"column":8,"nodeType":"ArrayExpression","endLine":389,"endColumn":90,"suggestions":[{"desc":"Update the dependencies array to be: [searchParams, chats, selectedChat, selectChat, router, user.id, fetchContractId, sendGuideMessages]","fix":{"range":[15544,15626],"text":"[searchParams, chats, selectedChat, selectChat, router, user.id, fetchContractId, sendGuideMessages]"}}]}],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1185,"column":61,"nodeType":"JSXOpeningElement","endLine":1191,"endColumn":63,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1298,"column":49,"nodeType":"JSXOpeningElement","endLine":1302,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":10,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useRef, useCallback, useLayoutEffect, useEffect, FormEvent, ChangeEvent } from \"react\"\r\nimport { useSearchParams, useRouter } from \"next/navigation\"\r\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\r\nimport { useEcho } from \"@/presentation/contexts/echo-provider\"\r\nimport { ApiChatRepository } from \"@/infrastructure/repositories/chat-repository\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { Chat, Message } from \"@/domain/entities/chat\"\r\nimport type { AxiosError } from \"axios\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/presentation/components/ui/avatar\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport { ScrollArea } from \"@/presentation/components/ui/scroll-area\"\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger, SheetClose } from \"@/presentation/components/ui/sheet\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/presentation/components/ui/dialog\"\r\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Label } from \"@/presentation/components/ui/label\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/presentation/components/ui/tabs\"\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/presentation/components/ui/dropdown-menu\"\r\nimport { MessageCircle, Wifi, WifiOff, MoreVertical, Send, Check, CheckCheck, Briefcase, DollarSign, Calendar, Clock, X, Paperclip, FileText, Info, Star } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useChat } from \"@/presentation/contexts/chat-provider\"\r\nimport { toast } from \"sonner\"\r\nimport CampaignTimelineSheet from \"@/presentation/components/campaigns/campaign-timeline-sheet\"\r\nimport ReviewModal from \"@/presentation/components/campaigns/review-modal\"\r\nimport { Contract } from \"@/domain/entities/contract\"\r\nimport { ApiContractRepository } from \"@/infrastructure/repositories/contract-repository\"\r\n\r\nconst chatRepository = new ApiChatRepository(api)\r\nconst contractRepository = new ApiContractRepository(api)\r\n\r\ntype OfferData = {\r\n    id?: number\r\n    status?: string\r\n    title?: string\r\n    description?: string\r\n    formatted_budget?: string\r\n    budget?: number\r\n    estimated_days?: number\r\n    days_until_expiry?: number\r\n    contract_id?: number\r\n    contract_status?: string\r\n    workflow_status?: string\r\n    creator_amount?: number\r\n    can_be_completed?: boolean\r\n}\r\n\r\ntype NewMessageEvent = {\r\n    messageId?: number\r\n    message?: string\r\n    messageType?: string\r\n    senderId: number\r\n    senderName: string\r\n    senderAvatar: string | null\r\n    timestamp?: string\r\n    fileData?: {\r\n        file_path?: string | null\r\n        file_name?: string | null\r\n        file_size?: number | null\r\n        file_type?: string | null\r\n        file_url?: string | null\r\n    }\r\n    offerData?: Record<string, unknown> | null\r\n}\r\n\r\ntype MessagesReadEvent = {\r\n    messageIds: number[]\r\n}\r\n\r\ntype ContractEvent = {\r\n    roomId?: string\r\n    contractData?: Record<string, unknown> | null\r\n    senderId?: number\r\n}\r\n\r\nconst toOfferData = (data: Record<string, unknown>): OfferData => {\r\n    const rawId = data.id ?? (data as any).offer_id\r\n    const id =\r\n        typeof rawId === \"number\" ? rawId : typeof rawId === \"string\" ? Number(rawId) : undefined\r\n\r\n    const rawBudget = data.budget\r\n    const budget =\r\n        typeof rawBudget === \"number\"\r\n            ? rawBudget\r\n            : typeof rawBudget === \"string\"\r\n                ? Number(rawBudget)\r\n                : undefined\r\n\r\n    const rawEstimated = data.estimated_days\r\n    const estimated_days =\r\n        typeof rawEstimated === \"number\"\r\n            ? rawEstimated\r\n            : typeof rawEstimated === \"string\"\r\n                ? Number(rawEstimated)\r\n                : undefined\r\n\r\n    const rawDaysUntilExpiry = data.days_until_expiry\r\n    const days_until_expiry =\r\n        typeof rawDaysUntilExpiry === \"number\"\r\n            ? rawDaysUntilExpiry\r\n            : typeof rawDaysUntilExpiry === \"string\"\r\n                ? Number(rawDaysUntilExpiry)\r\n                : undefined\r\n\r\n    const rawContractId = (data as any).contract_id\r\n    const contract_id =\r\n        typeof rawContractId === \"number\"\r\n            ? rawContractId\r\n            : typeof rawContractId === \"string\"\r\n                ? Number(rawContractId)\r\n                : undefined\r\n\r\n    return {\r\n        id: Number.isFinite(id) ? id : undefined,\r\n        status: typeof data.status === \"string\" ? data.status : undefined,\r\n        title: typeof data.title === \"string\" ? data.title : undefined,\r\n        description: typeof data.description === \"string\" ? data.description : undefined,\r\n        formatted_budget: typeof data.formatted_budget === \"string\" ? data.formatted_budget : undefined,\r\n        budget: Number.isFinite(budget) ? budget : undefined,\r\n        estimated_days: Number.isFinite(estimated_days) ? estimated_days : undefined,\r\n        days_until_expiry: Number.isFinite(days_until_expiry) ? days_until_expiry : undefined,\r\n        contract_id: Number.isFinite(contract_id) ? contract_id : undefined,\r\n        contract_status: typeof (data as any).contract_status === \"string\" ? (data as any).contract_status : undefined,\r\n        workflow_status: typeof (data as any).workflow_status === \"string\" ? (data as any).workflow_status : undefined,\r\n        creator_amount: typeof (data as any).creator_amount === \"number\" ? (data as any).creator_amount : undefined,\r\n        can_be_completed: typeof (data as any).can_be_completed === \"boolean\" ? (data as any).can_be_completed : undefined,\r\n    }\r\n}\r\n\r\nexport default function MessagesPage() {\r\n    const { user } = useAuth()\r\n    const { echo } = useEcho()\r\n    const searchParams = useSearchParams()\r\n    const router = useRouter()\r\n    const {\r\n        chats,\r\n        selectedChat,\r\n        messages,\r\n        setMessages,\r\n        updateChatList,\r\n        isInitialLoading,\r\n        selectChat,\r\n        sendMessage,\r\n        sendGuideMessages,\r\n        isChatLoading,\r\n        setChats,\r\n    } = useChat()\r\n    const [newMessage, setNewMessage] = useState(\"\")\r\n    const [isListOpen, setIsListOpen] = useState(false)\r\n    const [isTyping, setIsTyping] = useState(false)\r\n    const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null)\r\n    const [remoteTyping, setRemoteTyping] = useState(false)\r\n    const messagesEndRef = useRef<HTMLDivElement>(null)\r\n    const messagesContainerRef = useRef<HTMLDivElement | null>(null)\r\n    const [shouldAutoScroll, setShouldAutoScroll] = useState(true)\r\n    const [isOfferDialogOpen, setIsOfferDialogOpen] = useState(false)\r\n    const [offerBudget, setOfferBudget] = useState(\"\")\r\n    const [offerEstimatedDays, setOfferEstimatedDays] = useState(\"\")\r\n    const [isSubmittingOffer, setIsSubmittingOffer] = useState(false)\r\n    const [selectedFile, setSelectedFile] = useState<File | null>(null)\r\n    const [previewUrl, setPreviewUrl] = useState<string | null>(null)\r\n    const fileInputRef = useRef<HTMLInputElement | null>(null)\r\n\r\n    useEffect(() => {\r\n        if (selectedFile && selectedFile.type.startsWith('image/')) {\r\n            const url = URL.createObjectURL(selectedFile)\r\n            setPreviewUrl(url)\r\n            return () => URL.revokeObjectURL(url)\r\n        }\r\n        setPreviewUrl(null)\r\n    }, [selectedFile])\r\n\r\n    const [activeTab, setActiveTab] = useState<\"messages\" | \"milestones\">(\"messages\")\r\n    const [contractId, setContractId] = useState<number | null>(null)\r\n    const [offerTitle, setOfferTitle] = useState(\"\")\r\n    const [offerDescription, setOfferDescription] = useState(\"\")\r\n    const [isReviewModalOpen, setIsReviewModalOpen] = useState(false)\r\n    const [contractForReview, setContractForReview] = useState<Contract | null>(null)\r\n    const [isCampaignDetailsOpen, setIsCampaignDetailsOpen] = useState(false)\r\n    const [detailsTab, setDetailsTab] = useState<\"milestones\" | \"contract\">(\"milestones\")\r\n    const [contractDetails, setContractDetails] = useState<Contract | null>(null)\r\n    const [isContractDetailsLoading, setIsContractDetailsLoading] = useState(false)\r\n\r\n    const formatDate = (value?: string | null) => {\r\n        if (!value) return \"—\"\r\n        const date = new Date(value)\r\n        if (Number.isNaN(date.getTime())) return \"—\"\r\n        return date.toLocaleDateString(\"pt-BR\")\r\n    }\r\n\r\n    const formatCurrency = (value?: number | null) => {\r\n        if (value === null || value === undefined) return \"—\"\r\n        return new Intl.NumberFormat(\"pt-BR\", { style: \"currency\", currency: \"BRL\" }).format(value)\r\n    }\r\n\r\n    const getContractStatusLabel = (status?: Contract[\"status\"]) => {\r\n        switch (status) {\r\n            case \"pending\": return \"Pendente\"\r\n            case \"active\": return \"Ativo\"\r\n            case \"completed\": return \"Concluído\"\r\n            case \"cancelled\": return \"Cancelado\"\r\n            case \"disputed\": return \"Em disputa\"\r\n            default: return \"Indefinido\"\r\n        }\r\n    }\r\n\r\n    const getContractStatusColor = (status?: Contract[\"status\"]) => {\r\n        switch (status) {\r\n            case \"pending\": return \"bg-yellow-500/20 text-yellow-700\"\r\n            case \"active\": return \"bg-blue-500/20 text-blue-700\"\r\n            case \"completed\": return \"bg-green-500/20 text-green-700\"\r\n            case \"cancelled\": return \"bg-red-500/20 text-red-700\"\r\n            case \"disputed\": return \"bg-orange-500/20 text-orange-700\"\r\n            default: return \"bg-muted text-muted-foreground\"\r\n        }\r\n    }\r\n\r\n    const offerMessages = messages\r\n        .filter(msg => msg.message_type === \"offer\" && msg.offer_data && typeof msg.offer_data === \"object\")\r\n        .map(msg => {\r\n            const offer = toOfferData(msg.offer_data as Record<string, unknown>)\r\n            return {\r\n                ...offer,\r\n                created_at: msg.created_at,\r\n            }\r\n        })\r\n        .filter(offer => typeof offer.id === \"number\" && !Number.isNaN(offer.id))\r\n\r\n    const pendingOffers = offerMessages.filter(offer => (offer.status || \"pending\") === \"pending\")\r\n\r\n    const fetchContractId = useCallback(async (roomId: string) => {\r\n        try {\r\n            const response = await api.get<{ data: Contract[] }>(`/contracts/chat-room/${roomId}`)\r\n            if (response.data && response.data.length > 0) {\r\n                setContractId(response.data[0].id)\r\n            } else {\r\n                setContractId(null)\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching contract for room:\", err)\r\n        }\r\n    }, [])\r\n\r\n    const loadContractDetails = useCallback(async () => {\r\n        if (!contractId) return\r\n        try {\r\n            setIsContractDetailsLoading(true)\r\n            const data = await contractRepository.getContract(contractId)\r\n            setContractDetails(data)\r\n        } catch (error) {\r\n            console.error(\"Error fetching contract details:\", error)\r\n            toast.error(\"Erro ao carregar detalhes do contrato\")\r\n        } finally {\r\n            setIsContractDetailsLoading(false)\r\n        }\r\n    }, [contractId])\r\n\r\n    useEffect(() => {\r\n        if (isCampaignDetailsOpen && contractId) {\r\n            loadContractDetails()\r\n        }\r\n    }, [isCampaignDetailsOpen, contractId, loadContractDetails])\r\n\r\n    const refreshRoomMessages = useCallback(async (roomId: string) => {\r\n        try {\r\n            const { messages: msgs } = await chatRepository.getMessages(roomId)\r\n            setMessages(msgs)\r\n            if (msgs.length > 0) {\r\n                updateChatList(roomId, msgs[msgs.length - 1])\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to refresh messages\", error)\r\n        }\r\n    }, [setMessages, updateChatList])\r\n\r\n    const scrollToBottom = useCallback(\r\n        (force = false) => {\r\n            if (!messagesEndRef.current) return\r\n            if (!force && !shouldAutoScroll) return\r\n\r\n            // Usamos um pequeno timeout para garantir que o DOM foi atualizado\r\n            // e as dimensões calculadas corretamente\r\n            setTimeout(() => {\r\n                messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n            }, 50)\r\n        },\r\n        [shouldAutoScroll]\r\n    )\r\n\r\n    useLayoutEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages, scrollToBottom])\r\n\r\n    useEffect(() => {\r\n        if (!messagesEndRef.current) return\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }, [selectedChat?.room_id])\r\n\r\n    const handleScroll = () => {\r\n        const container = messagesContainerRef.current\r\n        if (!container) return\r\n        const distanceFromBottom =\r\n            container.scrollHeight - container.scrollTop - container.clientHeight\r\n        setShouldAutoScroll(distanceFromBottom < 100)\r\n    }\r\n\r\n    // ResizeObserver para detectar mudanças de tamanho (como imagens carregando)\r\n    useEffect(() => {\r\n        const container = messagesContainerRef.current\r\n        if (!container) return\r\n\r\n        const resizeObserver = new ResizeObserver(() => {\r\n            if (shouldAutoScroll) {\r\n                scrollToBottom(true)\r\n            }\r\n        })\r\n\r\n        resizeObserver.observe(container)\r\n        return () => resizeObserver.disconnect()\r\n    }, [shouldAutoScroll, scrollToBottom])\r\n\r\n    const handleTyping = () => {\r\n        if (!selectedChat) return\r\n\r\n        if (!isTyping) {\r\n            setIsTyping(true)\r\n            chatRepository.sendTypingStatus(selectedChat.room_id, true)\r\n        }\r\n\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            setIsTyping(false)\r\n            chatRepository.sendTypingStatus(selectedChat.room_id, false)\r\n        }, 2000)\r\n    }\r\n\r\n    const handleSendMessage = async () => {\r\n        if (!selectedChat) return\r\n\r\n        const hasText = newMessage.trim().length > 0\r\n        const hasFile = !!selectedFile\r\n\r\n        if (!hasText && !hasFile) return\r\n\r\n        const content = newMessage\r\n        const fileToSend = selectedFile\r\n\r\n        setNewMessage(\"\")\r\n        setSelectedFile(null)\r\n\r\n        await sendMessage(selectedChat.room_id, content, fileToSend || undefined)\r\n    }\r\n\r\n    const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0]\r\n        if (file) {\r\n            setSelectedFile(file)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const roomId = searchParams.get(\"roomId\")\r\n        if (!roomId) {\r\n            if (typeof window !== \"undefined\") {\r\n                const userId = user?.id ? String(user.id) : \"anon\"\r\n                const lastRoomId = window.localStorage.getItem(`last_selected_room_id_user_${userId}`)\r\n                if (lastRoomId) {\r\n                    router.replace(`/dashboard/messages?roomId=${lastRoomId}`)\r\n                }\r\n            }\r\n            return\r\n        }\r\n\r\n        if (selectedChat?.room_id === roomId) return\r\n        const targetChat = chats.find(chat => chat.room_id === roomId)\r\n        if (!targetChat) return\r\n        selectChat(targetChat)\r\n\r\n        // Trigger guide messages (backend will check if already sent)\r\n        sendGuideMessages(roomId).catch(console.error)\r\n\r\n        // Fetch contract for this room\r\n        fetchContractId(roomId)\r\n    }, [searchParams, chats, selectedChat, selectChat, router, user?.id, fetchContractId])\r\n\r\n    const handleAcceptOffer = async (offerId: number) => {\r\n        if (!offerId || offerId <= 0 || Number.isNaN(offerId)) {\r\n            toast.error(\"ID da oferta inválido\")\r\n            return\r\n        }\r\n        if (!selectedChat) return\r\n\r\n        try {\r\n            const response = await api.post<{ success: boolean; message?: string }>(`/offers/${offerId}/accept`)\r\n            if (response.success) {\r\n                toast.success(\"Oferta aceita com sucesso! Contrato criado.\")\r\n                setMessages(prev => prev.map(msg => {\r\n                    if (msg.message_type === \"offer\" && msg.offer_data) {\r\n                        const parsed = toOfferData(msg.offer_data as Record<string, unknown>)\r\n                        if (parsed.id === offerId) {\r\n                            const updatedData = { ...(msg.offer_data as Record<string, unknown>), status: \"accepted\" }\r\n                            return { ...msg, offer_data: updatedData }\r\n                        }\r\n                    }\r\n                    return msg\r\n                }))\r\n                await Promise.all([\r\n                    refreshRoomMessages(selectedChat.room_id),\r\n                    fetchContractId(selectedChat.room_id),\r\n                ])\r\n            } else {\r\n                throw new Error(response.message || \"Erro ao aceitar oferta\")\r\n            }\r\n        } catch (error: unknown) {\r\n            const axiosError = error as AxiosError<{ message?: string }>\r\n            toast.error(axiosError.response?.data?.message || \"Erro ao aceitar oferta\")\r\n        }\r\n    }\r\n\r\n    const handleRejectOffer = async (offerId: number) => {\r\n        if (!offerId || offerId <= 0 || Number.isNaN(offerId)) {\r\n            toast.error(\"ID da oferta inválido\")\r\n            return\r\n        }\r\n        if (!selectedChat) return\r\n\r\n        try {\r\n            const response = await api.post<{ success: boolean; message?: string }>(`/offers/${offerId}/reject`)\r\n            if (response.success) {\r\n                toast.success(\"Oferta rejeitada com sucesso\")\r\n                setMessages(prev => prev.map(msg => {\r\n                    if (msg.message_type === \"offer\" && msg.offer_data) {\r\n                        const parsed = toOfferData(msg.offer_data as Record<string, unknown>)\r\n                        if (parsed.id === offerId) {\r\n                            const updatedData = { ...(msg.offer_data as Record<string, unknown>), status: \"rejected\" }\r\n                            return { ...msg, offer_data: updatedData }\r\n                        }\r\n                    }\r\n                    return msg\r\n                }))\r\n                await refreshRoomMessages(selectedChat.room_id)\r\n            } else {\r\n                throw new Error(response.message || \"Erro ao rejeitar oferta\")\r\n            }\r\n        } catch (error: unknown) {\r\n            const axiosError = error as AxiosError<{ message?: string }>\r\n            toast.error(axiosError.response?.data?.message || \"Erro ao rejeitar oferta\")\r\n        }\r\n    }\r\n\r\n    const handleCancelOffer = async (offerId: number) => {\r\n        if (!offerId || offerId <= 0 || Number.isNaN(offerId)) {\r\n            toast.error(\"ID da oferta inválido\")\r\n            return\r\n        }\r\n        if (!selectedChat) return\r\n\r\n        try {\r\n            const response = await api.delete<{ success: boolean; message?: string }>(`/offers/${offerId}`)\r\n            if (response.success) {\r\n                toast.success(\"Oferta cancelada com sucesso\")\r\n                setMessages(prev => prev.map(msg => {\r\n                    if (msg.message_type === \"offer\" && msg.offer_data) {\r\n                        const parsed = toOfferData(msg.offer_data as Record<string, unknown>)\r\n                        if (parsed.id === offerId) {\r\n                            const updatedData = { ...(msg.offer_data as Record<string, unknown>), status: \"cancelled\" }\r\n                            return { ...msg, offer_data: updatedData }\r\n                        }\r\n                    }\r\n                    return msg\r\n                }))\r\n                await refreshRoomMessages(selectedChat.room_id)\r\n            } else {\r\n                throw new Error(response.message || \"Erro ao cancelar oferta\")\r\n            }\r\n        } catch (error: unknown) {\r\n            const axiosError = error as AxiosError<{ message?: string }>\r\n            toast.error(axiosError.response?.data?.message || \"Erro ao cancelar oferta\")\r\n        }\r\n    }\r\n\r\n    const handleOpenReview = async () => {\r\n        if (!selectedChat) return\r\n        try {\r\n            const response = await api.get<{ data: Contract[] }>(`/contracts/chat-room/${selectedChat.room_id}`)\r\n            if (response.data && response.data.length > 0) {\r\n                // Find completed contract that hasn't been reviewed by me yet\r\n                setContractForReview(response.data[0])\r\n                setIsReviewModalOpen(true)\r\n            } else {\r\n                toast.error(\"Nenhum contrato encontrado para avaliação\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching contract for review:\", error)\r\n            toast.error(\"Erro ao carregar contrato\")\r\n        }\r\n    }\r\n\r\n    const handleSubmitOffer = async (event: FormEvent) => {\r\n        event.preventDefault()\r\n        if (!selectedChat || user?.role !== \"brand\") return\r\n\r\n        const normalizedBudget = typeof offerBudget === 'string' ? offerBudget.replace(',', '.') : offerBudget\r\n        const budgetValue = parseFloat(normalizedBudget)\r\n        const daysValue = parseInt(offerEstimatedDays, 10)\r\n\r\n        if (!budgetValue || Number.isNaN(budgetValue) || budgetValue < 10) {\r\n            toast.error(\"Orçamento deve ser pelo menos R$ 10,00\")\r\n            return\r\n        }\r\n\r\n        if (!daysValue || Number.isNaN(daysValue) || daysValue < 1) {\r\n            toast.error(\"Prazo estimado deve ser pelo menos 1 dia\")\r\n            return\r\n        }\r\n\r\n        try {\r\n            setIsSubmittingOffer(true)\r\n            const payload = {\r\n                creator_id: selectedChat.other_user.id,\r\n                chat_room_id: selectedChat.room_id,\r\n                title: offerTitle,\r\n                description: offerDescription,\r\n                budget: budgetValue,\r\n                estimated_days: daysValue,\r\n            }\r\n            const response = await api.post<{ success: boolean; message?: string }, typeof payload>(\"/offers\", payload)\r\n\r\n            if (response.success) {\r\n                toast.success(\"Oferta enviada com sucesso!\")\r\n                setIsOfferDialogOpen(false)\r\n                setOfferTitle(\"\")\r\n                setOfferDescription(\"\")\r\n                setOfferBudget(\"\")\r\n                setOfferEstimatedDays(\"\")\r\n                await refreshRoomMessages(selectedChat.room_id)\r\n            } else {\r\n                throw new Error(response.message || \"Erro ao enviar oferta\")\r\n            }\r\n        } catch (error: unknown) {\r\n            const axiosError = error as AxiosError<{ message?: string; requires_funding?: boolean; redirect_url?: string }>\r\n            if (axiosError.response?.status === 402 && axiosError.response?.data?.requires_funding) {\r\n                const redirectUrl = axiosError.response?.data?.redirect_url\r\n                const message =\r\n                    axiosError.response?.data?.message ||\r\n                    \"Você precisa configurar um método de pagamento antes de enviar ofertas.\"\r\n\r\n                if (typeof window !== \"undefined\") {\r\n                    const pendingOffer = {\r\n                        creator_id: selectedChat.other_user.id,\r\n                        creator_name: selectedChat.other_user.name,\r\n                        chat_room_id: selectedChat.room_id,\r\n                        title: offerTitle,\r\n                        description: offerDescription,\r\n                        budget: budgetValue,\r\n                        estimated_days: daysValue,\r\n                    }\r\n                    window.sessionStorage.setItem(\"pending_offer\", JSON.stringify(pendingOffer))\r\n                }\r\n\r\n                toast(message)\r\n\r\n                if (typeof window !== \"undefined\" && redirectUrl) {\r\n                    window.location.href = redirectUrl\r\n                }\r\n            } else {\r\n                const responseData = axiosError.response?.data as { errors?: Record<string, string[]>, message?: string };\r\n\r\n                if (responseData?.errors) {\r\n                    Object.values(responseData.errors).flat().forEach((msg) => {\r\n                        toast.error(String(msg));\r\n                    });\r\n                } else {\r\n                    const message =\r\n                        axiosError.response?.data?.message ||\r\n                        (error instanceof Error ? error.message : undefined) ||\r\n                        \"Erro ao enviar oferta\"\r\n                    toast.error(message)\r\n                }\r\n            }\r\n        } finally {\r\n            setIsSubmittingOffer(false)\r\n        }\r\n    }\r\n\r\n    const handleSelectChat = (chat: Chat) => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userId = user?.id ? String(user.id) : \"anon\"\r\n            window.localStorage.setItem(`last_selected_room_id_user_${userId}`, chat.room_id)\r\n        }\r\n        router.push(`/dashboard/messages?roomId=${chat.room_id}`)\r\n        setIsListOpen(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!selectedChat || !echo) {\r\n            return\r\n        }\r\n\r\n        const channel = echo.private(`chat.${selectedChat.room_id}`)\r\n\r\n        // Bind all events similar to useSocket.ts\r\n        channel.listen('.new_message', (e: NewMessageEvent) => {\r\n            const incoming: Message = {\r\n                id: e.messageId || Date.now(),\r\n                message: e.message || \"\",\r\n                message_type: e.messageType || \"text\",\r\n                sender_id: e.senderId,\r\n                sender_name: e.senderName,\r\n                sender_avatar: e.senderAvatar,\r\n                is_sender: e.senderId === user?.id,\r\n                is_read: e.senderId === user?.id,\r\n                created_at: e.timestamp || new Date().toISOString(),\r\n                file_path: e.fileData?.file_path,\r\n                file_name: e.fileData?.file_name,\r\n                file_size: e.fileData?.file_size,\r\n                file_type: e.fileData?.file_type,\r\n                file_url: e.fileData?.file_url,\r\n                offer_data: e.offerData,\r\n            }\r\n\r\n            setMessages((prev) => {\r\n\r\n                // Se a mensagem já existe (por ID ou ID temporário que virou real), ignora\r\n                const alreadyExists = prev.some(m => m.id === incoming.id)\r\n                if (alreadyExists) return prev\r\n\r\n                // Se a mensagem é minha e chegou via socket, preciso remover a otimista se ela ainda estiver lá (embora o fluxo de envio já deva ter tratado)\r\n                // Mas como estamos recebendo via socket, o socket pode chegar antes ou depois da resposta da API.\r\n                // Se for minha mensagem, vamos garantir que não duplique verificando se já tem uma mensagem igual recente (otimista)\r\n                if (incoming.is_sender) {\r\n                    // Procura mensagem otimista (id gerado por Date.now() é grande, id do banco é incremental e menor)\r\n                    // Ou verifica por conteúdo e timestamp próximo\r\n                    const isDuplicateOptimistic = prev.some(m =>\r\n                        (m.id > 1000000000000 && m.message === incoming.message) || // ID grande = otimista\r\n                        m.id === incoming.id\r\n                    )\r\n                    if (isDuplicateOptimistic) {\r\n                        // Se achou otimista, substitui pela real\r\n                        return prev.map(m => (m.id > 1000000000000 && m.message === incoming.message) ? incoming : m)\r\n                    }\r\n                }\r\n\r\n                return [...prev, incoming]\r\n            })\r\n            updateChatList(selectedChat.room_id, incoming)\r\n            scrollToBottom()\r\n\r\n            // Mark as read if it's not my message\r\n            if (incoming.sender_id !== user?.id) {\r\n                chatRepository.markAsRead(selectedChat.room_id, [incoming.id])\r\n            }\r\n            const offerObj = e.offerData && typeof e.offerData === \"object\" ? toOfferData(e.offerData as Record<string, unknown>) : {}\r\n            if (offerObj.contract_id && Number.isFinite(offerObj.contract_id)) {\r\n                setContractId(offerObj.contract_id!)\r\n            }\r\n        })\r\n\r\n        const handleContractEvent = (e: ContractEvent) => {\r\n            if (!e.roomId || e.roomId !== selectedChat.room_id) return\r\n            const rawId = e.contractData?.id\r\n            const id = typeof rawId === \"number\" ? rawId : typeof rawId === \"string\" ? Number(rawId) : undefined\r\n            if (Number.isFinite(id)) {\r\n                setContractId(id!)\r\n            }\r\n            refreshRoomMessages(selectedChat.room_id)\r\n        }\r\n\r\n        channel.listen('.contract_activated', handleContractEvent)\r\n        channel.listen('.contract_completed', handleContractEvent)\r\n        channel.listen('.contract_terminated', handleContractEvent)\r\n\r\n        // Handle typing events\r\n        channel.listen('.user_typing', (e: {\r\n            roomId: string\r\n            userId: number\r\n            userName: string\r\n            isTyping: boolean\r\n        }) => {\r\n            if (e.userId !== user?.id) {\r\n                setRemoteTyping(e.isTyping)\r\n                // Auto-clear typing status after 3 seconds just in case we miss the false event\r\n                if (e.isTyping) {\r\n                    setTimeout(() => setRemoteTyping(false), 3000)\r\n                }\r\n            }\r\n        })\r\n\r\n        // Handle read receipts\r\n        channel.listen('.messages_read', (e: MessagesReadEvent) => {\r\n            const ids = Array.isArray(e.messageIds) ? e.messageIds : []\r\n            setMessages(prev => prev.map(msg => (ids.includes(msg.id) ? { ...msg, is_read: true } : msg)))\r\n        })\r\n\r\n        // Status updates channel (Global)\r\n        const statusChannel = echo.channel('user-status')\r\n        statusChannel.listen('.user_status_updated', (e: { userId: number, isOnline: boolean }) => {\r\n            setChats(prev => prev.map(chat => {\r\n                if (chat.other_user.id === e.userId) {\r\n                    return {\r\n                        ...chat,\r\n                        other_user: {\r\n                            ...chat.other_user,\r\n                            online: e.isOnline\r\n                        }\r\n                    }\r\n                }\r\n                return chat\r\n            }))\r\n        })\r\n\r\n        return () => {\r\n            channel.stopListening('.new_message')\r\n            channel.stopListening('.contract_activated')\r\n            channel.stopListening('.contract_completed')\r\n            channel.stopListening('.contract_terminated')\r\n            channel.stopListening('.user_typing')\r\n            channel.stopListening('.messages_read')\r\n            statusChannel.stopListening('.user_status_updated')\r\n        }\r\n    }, [selectedChat, echo, scrollToBottom, user?.id, setChats, setMessages, updateChatList, refreshRoomMessages])\r\n\r\n    const renderChatList = () => (\r\n        <div className=\"flex flex-col gap-1 p-2\" data-testid=\"chat-room-list\">\r\n            {chats.map((chat) => (\r\n                <button\r\n                    key={chat.room_id}\r\n                    onClick={() => handleSelectChat(chat)}\r\n                    data-testid=\"chat-room\"\r\n                    className={cn(\r\n                        \"flex items-start gap-3 rounded-lg p-3 text-left text-sm transition-all hover:bg-accent\",\r\n                        selectedChat?.room_id === chat.room_id && \"bg-accent\"\r\n                    )}\r\n                >\r\n                    <Avatar>\r\n                        <AvatarImage src={chat.other_user.avatar || undefined} />\r\n                        <AvatarFallback>\r\n                            {chat.other_user.name.substring(0, 2).toUpperCase()}\r\n                        </AvatarFallback>\r\n                    </Avatar>\r\n                    <div className=\"flex flex-col w-full overflow-hidden\">\r\n                        <div className=\"flex items-center justify-between gap-2\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"font-semibold\">{chat.other_user.name}</span>\r\n                                <span\r\n                                    className={cn(\r\n                                        \"inline-flex items-center gap-1 rounded-full border px-1.5 py-0.5 text-[10px] font-medium\",\r\n                                        chat.other_user.online\r\n                                            ? \"bg-green-500/10 text-green-500 border-green-500/40\"\r\n                                            : \"bg-muted text-muted-foreground border-transparent\"\r\n                                    )}\r\n                                >\r\n                                    <span\r\n                                        className={cn(\r\n                                            \"h-1.5 w-1.5 rounded-full\",\r\n                                            chat.other_user.online ? \"bg-green-500\" : \"bg-muted-foreground/50\"\r\n                                        )}\r\n                                    />\r\n                                    {chat.other_user.online ? \"Online\" : \"Offline\"}\r\n                                </span>\r\n                            </div>\r\n                            <span className=\"text-xs text-muted-foreground\">\r\n                                {chat.last_message?.created_at\r\n                                    ? new Date(chat.last_message.created_at).toLocaleTimeString([], {\r\n                                        hour: \"2-digit\",\r\n                                        minute: \"2-digit\",\r\n                                    })\r\n                                    : \"\"}\r\n                            </span>\r\n                        </div>\r\n                        {chat.campaign_title && (\r\n                            <span className=\"text-xs font-medium text-primary truncate\">\r\n                                {chat.campaign_title}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"truncate text-muted-foreground\">\r\n                            {chat.last_message?.message}\r\n                        </span>\r\n                    </div>\r\n                </button>\r\n            ))}\r\n            {chats.length === 0 && (\r\n                <span className=\"px-3 py-2 text-sm text-muted-foreground\">\r\n                    {isInitialLoading ? \"Carregando conversas...\" : \"Nenhuma conversa encontrada.\"}\r\n                </span>\r\n            )}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"flex flex-col md:flex-row h-[calc(100dvh-130px)] md:h-[calc(100vh-9rem)] rounded-lg border bg-background overflow-hidden\">\r\n            <div className=\"hidden md:flex md:w-80 border-r flex-col flex-none\">\r\n                <div className=\"p-4 border-b font-semibold\">Mensagens</div>\r\n                <ScrollArea className=\"flex-1\">{renderChatList()}</ScrollArea>\r\n            </div>\r\n\r\n            <div className=\"flex-1 flex flex-col min-h-0\">\r\n                {selectedChat ? (\r\n                    <>\r\n                        <div className=\"p-4 border-b flex items-center justify-between gap-3\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"md:hidden\">\r\n                                    <Sheet open={isListOpen} onOpenChange={setIsListOpen}>\r\n                                        <SheetTrigger asChild>\r\n                                            <Button\r\n                                                variant=\"ghost\"\r\n                                                size=\"icon\"\r\n                                                className=\"-ml-2\"\r\n                                                aria-label=\"Abrir conversas\"\r\n                                            >\r\n                                                <MessageCircle className=\"h-5 w-5\" />\r\n                                            </Button>\r\n                                        </SheetTrigger>\r\n                                        <SheetContent side=\"left\" className=\"w-80 p-0\">\r\n                                            <SheetHeader className=\"p-4 border-b\">\r\n                                                <SheetTitle>Mensagens</SheetTitle>\r\n                                            </SheetHeader>\r\n                                            <ScrollArea className=\"h-full\">\r\n                                                <SheetClose asChild>\r\n                                                    <div>{renderChatList()}</div>\r\n                                                </SheetClose>\r\n                                            </ScrollArea>\r\n                                        </SheetContent>\r\n                                    </Sheet>\r\n                                </div>\r\n\r\n                                <Avatar>\r\n                                    <AvatarImage src={selectedChat.other_user.avatar || undefined} />\r\n                                    <AvatarFallback>\r\n                                        {selectedChat.other_user.name.substring(0, 2).toUpperCase()}\r\n                                    </AvatarFallback>\r\n                                </Avatar>\r\n                                <div>\r\n                                    <div className=\"font-semibold flex items-center gap-2\">\r\n                                        {selectedChat.other_user.name}\r\n                                        {(() => {\r\n                                            const chatInList = chats.find(c => c.room_id === selectedChat.room_id);\r\n                                            const isOnline = chatInList ? chatInList.other_user.online : selectedChat.other_user.online;\r\n\r\n                                            return isOnline ? (\r\n                                                <div className=\"flex items-center gap-1 bg-green-800/70 text-green-400 px-1 py-0.5 rounded-full text-[10px] font-medium border\">\r\n                                                    <Wifi className=\"h-3 w-3\" />\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"flex items-center gap-1 bg-muted text-muted-foreground px-1 py-0.5 rounded-full text-[10px] font-medium border\">\r\n                                                    <WifiOff className=\"h-3 w-3\" />\r\n                                                </div>\r\n                                            );\r\n                                        })()}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-muted-foreground h-4\">\r\n                                        {remoteTyping ? (\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <span className=\"text-primary font-medium\">Digitando</span>\r\n                                                <div className=\"flex gap-0.5 pt-1\">\r\n                                                    <div className=\"w-1 h-1 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]\" />\r\n                                                    <div className=\"w-1 h-1 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]\" />\r\n                                                    <div className=\"w-1 h-1 bg-primary rounded-full animate-bounce\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <span\r\n                                                className={(() => {\r\n                                                    const chatInList = chats.find(c => c.room_id === selectedChat.room_id);\r\n                                                    const isOnline = chatInList ? chatInList.other_user.online : selectedChat.other_user.online;\r\n                                                    return isOnline ? \"text-green-600\" : \"text-muted-foreground\";\r\n                                                })()}\r\n                                            >\r\n                                                {(() => {\r\n                                                    const chatInList = chats.find(c => c.room_id === selectedChat.room_id);\r\n                                                    const isOnline = chatInList ? chatInList.other_user.online : selectedChat.other_user.online;\r\n                                                    return isOnline ? \"Online agora\" : \"Offline\";\r\n                                                })()}\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                {user?.role === \"brand\" && (\r\n                                    <Button\r\n                                        size=\"sm\"\r\n                                        variant=\"outline\"\r\n                                        onClick={() => setIsOfferDialogOpen(true)}\r\n                                        className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                                    >\r\n                                        <Briefcase className=\"h-4 w-4 mr-2\" />\r\n                                        Nova oferta\r\n                                    </Button>\r\n                                )}\r\n                                <DropdownMenu>\r\n                                    <DropdownMenuTrigger asChild>\r\n                                        <Button variant=\"ghost\" size=\"icon\">\r\n                                            <MoreVertical className=\"h-5 w-5\" />\r\n                                        </Button>\r\n                                    </DropdownMenuTrigger>\r\n                                    <DropdownMenuContent align=\"end\">\r\n                                        <DropdownMenuItem\r\n                                            onSelect={() => {\r\n                                                setDetailsTab(\"milestones\")\r\n                                                setIsCampaignDetailsOpen(true)\r\n                                            }}\r\n                                        >\r\n                                            Ver detalhes da campanha\r\n                                        </DropdownMenuItem>\r\n                                    </DropdownMenuContent>\r\n                                </DropdownMenu>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-1 flex-col overflow-hidden rounded-lg border bg-background\">\r\n                            <Tabs\r\n                                value={activeTab}\r\n                                onValueChange={(value) => setActiveTab(value as \"messages\" | \"milestones\")}\r\n                                className=\"flex flex-1 flex-col overflow-hidden\"\r\n                            >\r\n                                <div className=\"px-4 py-2 border-b bg-muted/40\">\r\n                                    <TabsList className=\"grid w-full grid-cols-2\">\r\n                                        <TabsTrigger value=\"messages\" className=\"flex items-center gap-2\">\r\n                                            <MessageCircle className=\"h-4 w-4\" />\r\n                                            Mensagens\r\n                                        </TabsTrigger>\r\n                                        <TabsTrigger value=\"milestones\" className=\"flex items-center gap-2\">\r\n                                            <Clock className=\"h-4 w-4\" />\r\n                                            Milestones\r\n                                        </TabsTrigger>\r\n                                    </TabsList>\r\n                                </div>\r\n\r\n                                <TabsContent value=\"messages\" className=\"mt-0 flex flex-1 flex-col overflow-hidden\">\r\n                                <div\r\n                                    ref={messagesContainerRef}\r\n                                    className=\"flex-1 overflow-y-auto px-4 py-0 mb-1\"\r\n                                    id=\"messages-container\"\r\n                                    onScroll={handleScroll}\r\n                                >\r\n                                    <div className=\"flex flex-col gap-1 h-full\">\r\n                                        {isChatLoading && messages.length === 0 ? (\r\n                                            <div className=\"flex flex-1 items-center justify-center text-sm text-muted-foreground\">\r\n                                                Carregando mensagens...\r\n                                            </div>\r\n                                        ) : (\r\n                                            <>\r\n                                                {messages.map((msg, index) => {\r\n                                                    const isMe = msg.sender_id === user?.id\r\n                                                    const isOffer =\r\n                                                        msg.message_type === \"offer\" &&\r\n                                                        msg.offer_data\r\n\r\n                                                    if (isOffer) {\r\n                                                        const offer =\r\n                                                            msg.offer_data && typeof msg.offer_data === \"object\"\r\n                                                                ? toOfferData(msg.offer_data)\r\n                                                                : {}\r\n                                                        const status = offer.status || \"pending\"\r\n                                                        const isCreatorUser = user?.role === \"creator\"\r\n                                                        const canAccept =\r\n                                                            status === \"pending\" &&\r\n                                                            isCreatorUser &&\r\n                                                            offer.id &&\r\n                                                            !Number.isNaN(offer.id)\r\n                                                        const canReject =\r\n                                                            status === \"pending\" &&\r\n                                                            isCreatorUser &&\r\n                                                            offer.id &&\r\n                                                            !Number.isNaN(offer.id)\r\n                                                        const canCancel =\r\n                                                            status === \"pending\" &&\r\n                                                            user?.role === \"brand\" &&\r\n                                                            offer.id &&\r\n                                                            !Number.isNaN(offer.id)\r\n\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={index}\r\n                                                                className={cn(\r\n                                                                    \"flex w-max max-w-[75%] flex-col gap-1\",\r\n                                                                    isMe ? \"ml-auto items-end\" : \"items-start\"\r\n                                                                )}\r\n                                                            >\r\n                                                                <div\r\n                                                                    className={cn(\r\n                                                                        \"w-full rounded-lg border px-3 py-2 text-sm\",\r\n                                                                        isMe\r\n                                                                            ? \"bg-linear-to-r from-blue-50 to-indigo-50\"\r\n                                                                            : \"bg-muted\"\r\n                                                                    )}\r\n                                                                >\r\n                                                                    <div className=\"flex items-center justify-between mb-1\">\r\n                                                                        <div className=\"flex items-center gap-2\">\r\n                                                                            <Briefcase className=\"h-4 w-4 text-primary\" />\r\n                                                                            <span className=\"font-semibold text-xs\">\r\n                                                                                {offer.title || \"Oferta\"}\r\n                                                                            </span>\r\n                                                                        </div>\r\n                                                                        <Badge\r\n                                                                            variant=\"outline\"\r\n                                                                            className=\"text-[10px] capitalize\"\r\n                                                                        >\r\n                                                                            {status}\r\n                                                                        </Badge>\r\n                                                                    </div>\r\n                                                                    {offer.description && (\r\n                                                                        <p className=\"text-xs text-muted-foreground mb-2\">\r\n                                                                            {offer.description}\r\n                                                                        </p>\r\n                                                                    )}\r\n                                                                    <div className=\"flex flex-wrap items-center gap-3 text-[11px] mb-2\">\r\n                                                                        {(offer.formatted_budget ||\r\n                                                                            offer.budget) && (\r\n                                                                                <div className=\"flex items-center gap-1\">\r\n                                                                                    <DollarSign className=\"h-3 w-3 text-green-600\" />\r\n                                                                                    <span>\r\n                                                                                        {offer.formatted_budget ||\r\n                                                                                            offer.budget}\r\n                                                                                    </span>\r\n                                                                                </div>\r\n                                                                            )}\r\n                                                                        {typeof offer.estimated_days ===\r\n                                                                            \"number\" && (\r\n                                                                                <div className=\"flex items-center gap-1\">\r\n                                                                                    <Calendar className=\"h-3 w-3 text-purple-600\" />\r\n                                                                                    <span>\r\n                                                                                        {offer.estimated_days}{\" \"}\r\n                                                                                        {offer.estimated_days === 1\r\n                                                                                            ? \"dia\"\r\n                                                                                            : \"dias\"}\r\n                                                                                    </span>\r\n                                                                                </div>\r\n                                                                            )}\r\n                                                                        {typeof offer.days_until_expiry ===\r\n                                                                            \"number\" && (\r\n                                                                                <div className=\"flex items-center gap-1\">\r\n                                                                                    <Clock className=\"h-3 w-3 text-amber-600\" />\r\n                                                                                    <span>\r\n                                                                                        expira em{\" \"}\r\n                                                                                        {offer.days_until_expiry}{\" \"}\r\n                                                                                        {offer.days_until_expiry === 1\r\n                                                                                            ? \"dia\"\r\n                                                                                            : \"dias\"}\r\n                                                                                    </span>\r\n                                                                                </div>\r\n                                                                            )}\r\n                                                                    </div>\r\n                                                                    {(canAccept ||\r\n                                                                        canReject ||\r\n                                                                        canCancel) && (\r\n                                                                            <div className=\"flex gap-2 justify-end\">\r\n                                                                                {canAccept && (\r\n                                                                                    <Button\r\n                                                                                        size=\"sm\"\r\n                                                                                        onClick={() => {\r\n                                                                                            if (typeof offer.id === \"number\") {\r\n                                                                                                handleAcceptOffer(offer.id)\r\n                                                                                            }\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        Aceitar\r\n                                                                                    </Button>\r\n                                                                                )}\r\n                                                                                {canReject && (\r\n                                                                                    <Button\r\n                                                                                        size=\"sm\"\r\n                                                                                        variant=\"outline\"\r\n                                                                                        onClick={() => {\r\n                                                                                            if (typeof offer.id === \"number\") {\r\n                                                                                                handleRejectOffer(offer.id)\r\n                                                                                            }\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        Rejeitar\r\n                                                                                    </Button>\r\n                                                                                )}\r\n                                                                                {canCancel && (\r\n                                                                                    <Button\r\n                                                                                        size=\"sm\"\r\n                                                                                        variant=\"outline\"\r\n                                                                                        onClick={() => {\r\n                                                                                            if (typeof offer.id === \"number\") {\r\n                                                                                                handleCancelOffer(offer.id)\r\n                                                                                            }\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        Cancelar\r\n                                                                                    </Button>\r\n                                                                                )}\r\n                                                                            </div>\r\n                                                                        )}\r\n                                                                </div>\r\n                                                                <span\r\n                                                                    className={cn(\r\n                                                                        \"text-[10px] flex items-center gap-1\",\r\n                                                                        isMe\r\n                                                                            ? \"text-primary-foreground/70\"\r\n                                                                            : \"text-muted-foreground\"\r\n                                                                    )}\r\n                                                                >\r\n                                                                    {new Date(\r\n                                                                        msg.created_at\r\n                                                                    ).toLocaleTimeString([], {\r\n                                                                        hour: \"2-digit\",\r\n                                                                        minute: \"2-digit\",\r\n                                                                    })}\r\n                                                                    {isMe && (\r\n                                                                        msg.is_read ? (\r\n                                                                            <CheckCheck className=\"h-3 w-3\" />\r\n                                                                        ) : (\r\n                                                                            <Check className=\"h-3 w-3\" />\r\n                                                                        )\r\n                                                                    )}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        )\r\n                                                    }\r\n\r\n                                            const isFileMessage = msg.message_type === \"file\"\r\n                                            const hasImageExtension = (name: string | null | undefined) => /\\.(jpg|jpeg|png|gif|webp|avif|bmp|svg)$/i.test(name || \"\")\r\n                                            const isImageMessage = msg.message_type === \"image\" || (msg.message_type === \"file\" && hasImageExtension(msg.file_name))\r\n\r\n                                            const isSystem = msg.message_type === \"system\"\r\n\r\n                                            if (isSystem) {\r\n                                                return (\r\n                                                    <div\r\n                                                        key={index}\r\n                                                        className=\"flex w-full flex-col items-center justify-center py-6 px-4\"\r\n                                                    >\r\n                                                        <div className=\"bg-muted/50 backdrop-blur-sm border border-border/50 rounded-2xl p-6 max-w-[85%] shadow-sm relative overflow-hidden group\">\r\n                                                            <div className=\"absolute top-0 left-0 w-1 h-full bg-primary/40\" />\r\n                                                            <div className=\"flex items-start gap-4\">\r\n                                                                <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center shrink-0\">\r\n                                                                    <Info className=\"h-5 w-5 text-primary\" />\r\n                                                                </div>\r\n                                                                <div className=\"flex-1 space-y-2\">\r\n                                                                    <div className=\"text-sm leading-relaxed text-foreground/90 whitespace-pre-wrap\">\r\n                                                                        {(() => {\r\n                                                                            // Simple formatter for bold text (**text**)\r\n                                                                            const parts = (msg.message || \"\").split(/(\\*\\*.*?\\*\\*)/g);\r\n                                                                            return parts.map((part: string, i: number) => {\r\n                                                                                if (part.startsWith('**') && part.endsWith('**')) {\r\n                                                                                    return <strong key={i} className=\"text-primary\">{part.slice(2, -2)}</strong>;\r\n                                                                                }\r\n                                                                                return part;\r\n                                                                            });\r\n                                                                        })()}\r\n                                                                    </div>\r\n                                                                    {msg.message?.toLowerCase().includes('finalizado com sucesso') && (\r\n                                                                        <Button\r\n                                                                            size=\"sm\"\r\n                                                                            className=\"mt-2\"\r\n                                                                            onClick={handleOpenReview}\r\n                                                                        >\r\n                                                                            <Star className=\"w-4 h-4 mr-2\" />\r\n                                                                            Avaliar Parceria\r\n                                                                        </Button>\r\n                                                                    )}\r\n                                                                    <div className=\"text-[10px] text-muted-foreground font-medium uppercase tracking-wider\">\r\n                                                                        Mensagem do Sistema • {new Date(msg.created_at).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n\r\n                                            return (\r\n                                                <div\r\n                                                    key={index}\r\n                                                    className={cn(\r\n                                                        \"flex w-fit max-w-[85%] flex-col gap-1 rounded-lg px-3 py-2 text-sm shadow-sm\",\r\n                                                        isMe\r\n                                                            ? \"ml-auto bg-primary text-primary-foreground rounded-br-none\"\r\n                                                            : \"bg-muted rounded-bl-none\"\r\n                                                    )}\r\n                                                >\r\n                                                    {isImageMessage && msg.file_url ? (\r\n                                                        <div className=\"space-y-1 w-full\">\r\n                                                            {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                                                            <img\r\n                                                                src={msg.file_url}\r\n                                                                alt={msg.file_name || \"Imagem\"}\r\n                                                                className=\"w-full h-auto rounded-md object-cover\"\r\n                                                                style={{ maxHeight: '200px' }}\r\n                                                                loading=\"lazy\"\r\n                                                            />\r\n                                                            {msg.message && msg.message !== msg.file_name && (\r\n                                                                <p className=\"text-xs wrap-break-word\">\r\n                                                                    {msg.message}\r\n                                                                </p>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    ) : isFileMessage ? (\r\n                                                        <div className=\"space-y-1\">\r\n                                                            <div className=\"flex items-center gap-2\">\r\n                                                                <FileText className=\"h-4 w-4\" />\r\n                                                                <span className=\"text-sm font-medium truncate inline-block max-w-37.5\">\r\n                                                                    {msg.file_name || \"Arquivo\"}\r\n                                                                </span>\r\n                                                                {msg.formatted_file_size && (\r\n                                                                    <span className=\"text-[11px] opacity-70\">\r\n                                                                        {msg.formatted_file_size}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </div>\r\n                                                            {msg.file_url && (\r\n                                                                <a\r\n                                                                    href={msg.file_url}\r\n                                                                    target=\"_blank\"\r\n                                                                    rel=\"noopener noreferrer\"\r\n                                                                    className=\"text-[11px] underline\"\r\n                                                                >\r\n                                                                    Baixar arquivo\r\n                                                                </a>\r\n                                                            )}\r\n                                                            {msg.message && msg.message !== msg.file_name && (\r\n                                                                <p className=\"text-xs\">\r\n                                                                    {msg.message}\r\n                                                                </p>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <div className=\"whitespace-pre-wrap wrap-break-word leading-relaxed\">\r\n                                                            {(() => {\r\n                                                                // Simple formatter for bold text (**text**)\r\n                                                                const parts = (msg.message || \"\").split(/(\\*\\*.*?\\*\\*)/g);\r\n                                                                return parts.map((part: string, i: number) => {\r\n                                                                    if (part.startsWith('**') && part.endsWith('**')) {\r\n                                                                        return <strong key={i}>{part.slice(2, -2)}</strong>;\r\n                                                                    }\r\n                                                                    return part;\r\n                                                                });\r\n                                                            })()}\r\n                                                        </div>\r\n                                                    )}\r\n                                                    <span className={cn(\"text-[10px] self-end flex items-center gap-1 opacity-70 select-none\", isMe ? \"text-primary-foreground\" : \"text-muted-foreground\")}>\r\n                                                        {new Date(msg.created_at).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n                                                        {isMe && (\r\n                                                            msg.is_read ? <CheckCheck className=\"h-3 w-3\" /> : <Check className=\"h-3 w-3\" />\r\n                                                        )}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )\r\n                                        })}\r\n                                        {remoteTyping && (\r\n                                            <div className=\"flex w-max max-w-[75%] flex-col gap-2 rounded-lg px-4 py-3 text-sm bg-muted self-start\" data-testid=\"typing-indicator\">\r\n                                                <div className=\"flex gap-1 items-center\">\r\n                                                    <div className=\"w-1.5 h-1.5 bg-muted-foreground/60 rounded-full animate-bounce [animation-delay:-0.3s]\" />\r\n                                                    <div className=\"w-1.5 h-1.5 bg-muted-foreground/60 rounded-full animate-bounce [animation-delay:-0.15s]\" />\r\n                                                    <div className=\"w-1.5 h-1.5 bg-muted-foreground/60 rounded-full animate-bounce\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                        <div ref={messagesEndRef} />\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                                <div className=\"p-4 border-t flex gap-2 flex-none bg-background z-10\">\r\n                                    <div className=\"flex items-center gap-2 flex-1\">\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            variant=\"outline\"\r\n                                            size=\"icon\"\r\n                                            onClick={() => fileInputRef.current?.click()}\r\n                                        >\r\n                                            <Paperclip className=\"h-4 w-4\" />\r\n                                        </Button>\r\n                                        <Input\r\n                                            placeholder=\"Digite sua mensagem...\"\r\n                                            value={newMessage}\r\n                                            data-testid=\"message-input\"\r\n                                            onChange={(e) => {\r\n                                                setNewMessage(e.target.value)\r\n                                                handleTyping()\r\n                                            }}\r\n                                            onFocus={() => {\r\n                                                setTimeout(() => scrollToBottom(true), 100)\r\n                                            }}\r\n                                            onKeyDown={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n                                        />\r\n                                    </div>\r\n                                    <Button size=\"icon\" onClick={handleSendMessage} data-testid=\"send-message-button\">\r\n                                        <Send className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                                {selectedFile && (\r\n                                    <div className=\"px-4 pb-4 flex items-center justify-between text-xs text-muted-foreground gap-2\">\r\n                                        <div className=\"inline-flex items-center gap-2\">\r\n                                            {previewUrl ? (\r\n                                                // eslint-disable-next-line @next/next/no-img-element\r\n                                                <img \r\n                                                    src={previewUrl} \r\n                                                    alt=\"Preview\" \r\n                                                    className=\"h-12 w-12 object-cover rounded-md border\"\r\n                                                />\r\n                                            ) : (\r\n                                                <FileText className=\"h-8 w-8 text-muted-foreground/50\" />\r\n                                            )}\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"truncate inline-block max-w-50 font-medium text-foreground\">\r\n                                                    {selectedFile.name}\r\n                                                </span>\r\n                                                <span className=\"text-[10px]\">\r\n                                                    {(selectedFile.size / 1024).toFixed(1)} KB\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"icon\"\r\n                                            className=\"h-8 w-8 text-muted-foreground hover:text-destructive\"\r\n                                            onClick={() => setSelectedFile(null)}\r\n                                        >\r\n                                            <X className=\"h-4 w-4\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                )}\r\n                                </TabsContent>\r\n\r\n                                <TabsContent value=\"milestones\" className=\"mt-0 flex flex-1 flex-col overflow-hidden p-4\">\r\n                                    {contractId ? (\r\n                                        <CampaignTimelineSheet\r\n                                            contractId={contractId}\r\n                                            isOpen={activeTab === \"milestones\"}\r\n                                            onClose={() => null}\r\n                                            variant=\"inline\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"flex flex-1 flex-col items-center justify-center text-sm text-muted-foreground gap-3 border rounded-lg p-6 text-center\">\r\n                                            <Clock className=\"h-6 w-6 text-muted-foreground/60\" />\r\n                                            <span>Sem contrato vinculado a esta conversa</span>\r\n                                            {user?.role === \"brand\" ? (\r\n                                                <Button\r\n                                                    size=\"sm\"\r\n                                                    onClick={() => setIsOfferDialogOpen(true)}\r\n                                                    className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                                                >\r\n                                                    Criar proposta\r\n                                                </Button>\r\n                                            ) : (\r\n                                                <Button\r\n                                                    size=\"sm\"\r\n                                                    variant=\"outline\"\r\n                                                    onClick={() => setActiveTab(\"messages\")}\r\n                                                >\r\n                                                    Ver ofertas no chat\r\n                                                </Button>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </TabsContent>\r\n                            </Tabs>\r\n                        </div>\r\n                        <input\r\n                            ref={fileInputRef}\r\n                            type=\"file\"\r\n                            className=\"hidden\"\r\n                            onChange={handleFileChange}\r\n                        />\r\n                        <Dialog open={isOfferDialogOpen} onOpenChange={setIsOfferDialogOpen}>\r\n                            <DialogContent className=\"sm:max-w-106.25\">\r\n                                <DialogHeader>\r\n                                    <DialogTitle>Enviar Proposta</DialogTitle>\r\n                                    <DialogDescription>\r\n                                        Defina os detalhes da sua proposta de parceria.\r\n                                    </DialogDescription>\r\n                                </DialogHeader>\r\n                                <form onSubmit={handleSubmitOffer} className=\"space-y-4 pt-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"offer-title\">Título da Proposta</Label>\r\n                                        <Input\r\n                                            id=\"offer-title\"\r\n                                            placeholder=\"Ex: Produção de 3 Reels\"\r\n                                            value={offerTitle}\r\n                                            onChange={(e) => setOfferTitle(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"offer-description\">Descrição/Detalhes</Label>\r\n                                        <Textarea\r\n                                            id=\"offer-description\"\r\n                                            placeholder=\"Descreva o que está incluído nesta proposta...\"\r\n                                            value={offerDescription}\r\n                                            onChange={(e) => setOfferDescription(e.target.value)}\r\n                                            rows={3}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"offer_budget\">Orçamento (R$)</Label>\r\n                                            <Input\r\n                                                id=\"offer_budget\"\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"10\"\r\n                                                placeholder=\"0,00\"\r\n                                                value={offerBudget}\r\n                                                onChange={(e) => setOfferBudget(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"offer_days\">Prazo (Dias)</Label>\r\n                                            <Input\r\n                                                id=\"offer_days\"\r\n                                                type=\"number\"\r\n                                                min=\"1\"\r\n                                                placeholder=\"Ex: 7\"\r\n                                                value={offerEstimatedDays}\r\n                                                onChange={(e) => setOfferEstimatedDays(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <DialogFooter className=\"mt-4\">\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            variant=\"outline\"\r\n                                            onClick={() => setIsOfferDialogOpen(false)}\r\n                                            disabled={isSubmittingOffer}\r\n                                        >\r\n                                            Cancelar\r\n                                        </Button>\r\n                                        <Button\r\n                                            type=\"submit\"\r\n                                            disabled={isSubmittingOffer}\r\n                                        >\r\n                                            {isSubmittingOffer\r\n                                                ? \"Enviando...\"\r\n                                                : \"Enviar oferta\"}\r\n                                        </Button>\r\n                                    </DialogFooter>\r\n                                </form>\r\n                            </DialogContent>\r\n                        </Dialog>\r\n\r\n                        <Dialog open={isCampaignDetailsOpen} onOpenChange={setIsCampaignDetailsOpen}>\r\n                            <DialogContent className=\"sm:max-w-3xl\">\r\n                                <DialogHeader>\r\n                                    <DialogTitle>Detalhes da campanha</DialogTitle>\r\n                                    <DialogDescription>\r\n                                        Acompanhe milestones e informações do contrato.\r\n                                    </DialogDescription>\r\n                                </DialogHeader>\r\n                                <Tabs\r\n                                    value={detailsTab}\r\n                                    onValueChange={(value) => setDetailsTab(value as \"milestones\" | \"contract\")}\r\n                                    className=\"mt-4\"\r\n                                >\r\n                                    <TabsList className=\"grid w-full grid-cols-2\">\r\n                                        <TabsTrigger value=\"milestones\">Milestones</TabsTrigger>\r\n                                        <TabsTrigger value=\"contract\">Contrato</TabsTrigger>\r\n                                    </TabsList>\r\n                                    <TabsContent value=\"milestones\" className=\"mt-4\">\r\n                                        {contractId ? (\r\n                                            <CampaignTimelineSheet\r\n                                                contractId={contractId}\r\n                                                isOpen={isCampaignDetailsOpen && detailsTab === \"milestones\"}\r\n                                                onClose={() => null}\r\n                                                variant=\"inline\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"flex flex-1 flex-col items-center justify-center text-sm text-muted-foreground gap-3 border rounded-lg p-6 text-center\">\r\n                                                <Clock className=\"h-6 w-6 text-muted-foreground/60\" />\r\n                                                <span>Sem contrato vinculado a esta conversa</span>\r\n                                                {user?.role === \"brand\" ? (\r\n                                                    <Button\r\n                                                        size=\"sm\"\r\n                                                        onClick={() => {\r\n                                                            setIsCampaignDetailsOpen(false)\r\n                                                            setIsOfferDialogOpen(true)\r\n                                                        }}\r\n                                                        className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                                                    >\r\n                                                        Criar proposta\r\n                                                    </Button>\r\n                                                ) : (\r\n                                                    <Button\r\n                                                        size=\"sm\"\r\n                                                        variant=\"outline\"\r\n                                                        onClick={() => setActiveTab(\"messages\")}\r\n                                                    >\r\n                                                        Ver ofertas no chat\r\n                                                    </Button>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </TabsContent>\r\n                                    <TabsContent value=\"contract\" className=\"mt-4\">\r\n                                        {isContractDetailsLoading ? (\r\n                                            <div className=\"flex items-center justify-center py-10\">\r\n                                                <div className=\"h-6 w-6 animate-spin rounded-full border-b-2 border-primary\" />\r\n                                            </div>\r\n                                        ) : contractDetails ? (\r\n                                            <div className=\"space-y-4\">\r\n                                                <div className=\"rounded-lg border p-4 space-y-3\">\r\n                                                    <div className=\"flex items-center justify-between gap-2\">\r\n                                                        <div className=\"font-semibold\">{contractDetails.title}</div>\r\n                                                        <Badge className={getContractStatusColor(contractDetails.status)}>\r\n                                                            {getContractStatusLabel(contractDetails.status)}\r\n                                                        </Badge>\r\n                                                    </div>\r\n                                                    <div className=\"text-sm text-muted-foreground\">\r\n                                                        {contractDetails.description || \"Sem descrição\"}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                                    <div className=\"rounded-lg border p-4 space-y-2 text-sm\">\r\n                                                        <div className=\"text-xs text-muted-foreground\">Campanha</div>\r\n                                                        <div className=\"font-medium\">{contractDetails.campaign?.title || \"—\"}</div>\r\n                                                        <div className=\"text-xs text-muted-foreground mt-3\">Parceiro</div>\r\n                                                        <div className=\"font-medium\">{contractDetails.other_user?.name || \"—\"}</div>\r\n                                                    </div>\r\n                                                    <div className=\"rounded-lg border p-4 space-y-2 text-sm\">\r\n                                                        <div className=\"text-xs text-muted-foreground\">Orçamento</div>\r\n                                                        <div className=\"font-medium\">\r\n                                                            {contractDetails.formatted_budget || formatCurrency(contractDetails.budget)}\r\n                                                        </div>\r\n                                                        <div className=\"text-xs text-muted-foreground mt-3\">Workflow</div>\r\n                                                        <div className=\"font-medium\">{contractDetails.workflow_status || \"—\"}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"rounded-lg border p-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                                                    <div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">Início</div>\r\n                                                        <div className=\"font-medium\">{formatDate(contractDetails.started_at || contractDetails.start_date)}</div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">Conclusão prevista</div>\r\n                                                        <div className=\"font-medium\">{formatDate(contractDetails.expected_completion_at || contractDetails.end_date)}</div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">Concluído em</div>\r\n                                                        <div className=\"font-medium\">{formatDate(contractDetails.completed_at)}</div>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">Dias estimados</div>\r\n                                                        <div className=\"font-medium\">{contractDetails.estimated_days ?? \"—\"}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {contractDetails.requirements && (\r\n                                                    <div className=\"rounded-lg border p-4 text-sm\">\r\n                                                        <div className=\"text-xs text-muted-foreground mb-2\">Requisitos</div>\r\n                                                        <div className=\"whitespace-pre-wrap\">{contractDetails.requirements}</div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className=\"space-y-4\">\r\n                                                <div className=\"flex items-center justify-between gap-3 rounded-lg border p-4 text-sm text-muted-foreground\">\r\n                                                    <span>Sem contrato gerado para esta conversa</span>\r\n                                                    {user?.role === \"brand\" ? (\r\n                                                        <Button\r\n                                                            size=\"sm\"\r\n                                                            onClick={() => {\r\n                                                                setIsCampaignDetailsOpen(false)\r\n                                                                setIsOfferDialogOpen(true)\r\n                                                            }}\r\n                                                            className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                                                        >\r\n                                                            Criar proposta\r\n                                                        </Button>\r\n                                                    ) : (\r\n                                                        <Button\r\n                                                            size=\"sm\"\r\n                                                            variant=\"outline\"\r\n                                                            onClick={() => setActiveTab(\"messages\")}\r\n                                                        >\r\n                                                            Ver ofertas no chat\r\n                                                        </Button>\r\n                                                    )}\r\n                                                </div>\r\n                                                {pendingOffers.length > 0 && (\r\n                                                    <div className=\"rounded-lg border p-4 space-y-3\">\r\n                                                        <div className=\"text-sm font-medium\">Ofertas pendentes</div>\r\n                                                        {pendingOffers.map(offer => (\r\n                                                            <div key={offer.id} className=\"rounded-md border p-3 space-y-2 text-sm\">\r\n                                                                <div className=\"flex items-center justify-between gap-2\">\r\n                                                                    <div className=\"font-medium\">{offer.title || \"Oferta\"}</div>\r\n                                                                    <Badge variant=\"outline\" className=\"text-[10px] capitalize\">\r\n                                                                        {offer.status || \"pending\"}\r\n                                                                    </Badge>\r\n                                                                </div>\r\n                                                                {offer.description && (\r\n                                                                    <div className=\"text-xs text-muted-foreground\">{offer.description}</div>\r\n                                                                )}\r\n                                                                <div className=\"flex flex-wrap items-center gap-3 text-xs text-muted-foreground\">\r\n                                                                    {(offer.formatted_budget || offer.budget) && (\r\n                                                                        <div className=\"flex items-center gap-1\">\r\n                                                                            <DollarSign className=\"h-3 w-3 text-green-600\" />\r\n                                                                            <span>{offer.formatted_budget || offer.budget}</span>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                    {typeof offer.estimated_days === \"number\" && (\r\n                                                                        <div className=\"flex items-center gap-1\">\r\n                                                                            <Calendar className=\"h-3 w-3 text-purple-600\" />\r\n                                                                            <span>\r\n                                                                                {offer.estimated_days} {offer.estimated_days === 1 ? \"dia\" : \"dias\"}\r\n                                                                            </span>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                                <div className=\"flex gap-2 justify-end\">\r\n                                                                    {user?.role === \"creator\" && (\r\n                                                                        <>\r\n                                                                            <Button\r\n                                                                                size=\"sm\"\r\n                                                                                onClick={() => handleAcceptOffer(offer.id as number)}\r\n                                                                            >\r\n                                                                                Aceitar\r\n                                                                            </Button>\r\n                                                                            <Button\r\n                                                                                size=\"sm\"\r\n                                                                                variant=\"outline\"\r\n                                                                                onClick={() => handleRejectOffer(offer.id as number)}\r\n                                                                            >\r\n                                                                                Rejeitar\r\n                                                                            </Button>\r\n                                                                        </>\r\n                                                                    )}\r\n                                                                    {user?.role === \"brand\" && (\r\n                                                                        <Button\r\n                                                                            size=\"sm\"\r\n                                                                            variant=\"outline\"\r\n                                                                            onClick={() => handleCancelOffer(offer.id as number)}\r\n                                                                        >\r\n                                                                            Cancelar\r\n                                                                        </Button>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </TabsContent>\r\n                                </Tabs>\r\n                            </DialogContent>\r\n                        </Dialog>\r\n\r\n                        {contractForReview && (\r\n                            <ReviewModal\r\n                                isOpen={isReviewModalOpen}\r\n                                contract={contractForReview}\r\n                                onReviewSubmitted={() => {\r\n                                    setIsReviewModalOpen(false)\r\n                                    // Refresh messages to show the review status if needed\r\n                                }}\r\n                                onClose={() => setIsReviewModalOpen(false)}\r\n                            />\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    <div className=\"flex-1 flex flex-col items-center justify-center gap-4 text-muted-foreground\">\r\n                        <p>Selecione uma conversa para começar</p>\r\n                        <div className=\"md:hidden\">\r\n                            <Sheet open={isListOpen} onOpenChange={setIsListOpen}>\r\n                                <SheetTrigger asChild>\r\n                                    <Button variant=\"outline\">\r\n                                        Abrir lista de mensagens\r\n                                    </Button>\r\n                                </SheetTrigger>\r\n                                <SheetContent side=\"left\" className=\"w-80 p-0\">\r\n                                    <SheetHeader className=\"p-4 border-b\">\r\n                                        <SheetTitle>Mensagens</SheetTitle>\r\n                                    </SheetHeader>\r\n                                    <ScrollArea className=\"h-full\">\r\n                                        <SheetClose asChild>\r\n                                            <div>{renderChatList()}</div>\r\n                                        </SheetClose>\r\n                                    </ScrollArea>\r\n                                </SheetContent>\r\n                            </Sheet>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\notifications\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\payment-methods\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\portfolio\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\profile\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Building2' is defined but never used.","line":9,"column":48,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":57},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":118,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5781,5784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5781,5784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5929,5932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5929,5932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/presentation/components/ui/card\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/presentation/components/ui/avatar\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Mail, MapPin, Calendar, Edit2, Globe, Building2 } from \"lucide-react\"\r\nimport { EditProfile } from \"@/presentation/components/creator/edit-profile\"\r\nimport { EditBrandProfile } from \"@/presentation/components/brand/edit-brand-profile\"\r\nimport { UpdateProfileUseCase } from \"@/application/use-cases/update-profile.use-case\"\r\nimport { ApiAuthRepository } from \"@/infrastructure/repositories/auth-repository\"\r\nimport { ApiBrandProfileRepository, BrandProfile } from \"@/infrastructure/repositories/brand-profile-repository\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\nimport { MdOutlineVerified } from \"react-icons/md\";\r\nimport { BsFacebook, BsInstagram, BsTiktok, BsTwitter, BsYoutube } from \"react-icons/bs\"\r\nimport { User } from \"@/domain/entities/user\"\r\n\r\n\r\nconst authRepository = new ApiAuthRepository(api)\r\nconst brandProfileRepository = new ApiBrandProfileRepository(api)\r\nconst updateProfileUseCase = new UpdateProfileUseCase(authRepository)\r\n\r\nexport default function ProfilePage() {\r\n    const { user, updateUser } = useAuth()\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [brandProfile, setBrandProfile] = useState<BrandProfile | null>(null)\r\n    const [avatarTry, setAvatarTry] = useState(0)\r\n    const avatarSrc = (() => {\r\n        const src = user?.avatar || \"\"\r\n        if (!src) return \"\"\r\n        const sep = src.includes(\"?\") ? \"&\" : \"?\"\r\n        return `${src}${sep}r=${avatarTry}`\r\n    })()\r\n\r\n    useEffect(() => {\r\n        if (user?.role === 'brand') {\r\n            brandProfileRepository.getProfile()\r\n                .then(setBrandProfile)\r\n                .catch(console.error)\r\n        }\r\n    }, [user?.role])\r\n\r\n    if (!user) return null\r\n\r\n    const handleSaveBrandProfile = async (updatedProfile: BrandProfile & { image?: File | null }) => {\r\n        setIsLoading(true)\r\n        try {\r\n            // Update brand profile data\r\n            const { image, ...data } = updatedProfile\r\n            const savedProfile = await brandProfileRepository.updateProfile(data)\r\n            setBrandProfile(savedProfile)\r\n\r\n            // If there's an image, we might need to upload it via a separate endpoint or user update\r\n            // For now, let's assume image update is handled via user profile update for avatar\r\n            // or we need to implement image upload for brand profile specifically if backend supports it.\r\n            // As a fallback/hybrid, if image is provided, we update the user avatar too.\r\n            if (image) {\r\n                const form = new FormData()\r\n                form.append('avatar', image)\r\n                const newUser = await updateProfileUseCase.execute(form)\r\n                const bust = typeof window !== \"undefined\" ? `?t=${Date.now()}` : \"\"\r\n                updateUser({\r\n                    ...newUser,\r\n                    avatar: newUser.avatar ? `${newUser.avatar}${bust}` : newUser.avatar\r\n                })\r\n                if (typeof window !== \"undefined\") {\r\n                    window.location.reload()\r\n                }\r\n            }\r\n             \r\n            // Also update user name if company name changed\r\n            if (updatedProfile.company_name !== user.name) {\r\n                 // We could trigger a user update here if needed, but let's rely on backend syncing or manual update if separate.\r\n                 // For now, just update local user state to reflect change immediately if we want consistency\r\n                 // But strictly speaking, User Name and Brand Company Name might be distinct in some systems.\r\n                 // Assuming they should match:\r\n                 const form = new FormData()\r\n                 form.append('name', updatedProfile.company_name || '')\r\n                 const newUser = await updateProfileUseCase.execute(form)\r\n                 updateUser(newUser)\r\n            }\r\n\r\n            setIsEditing(false)\r\n            toast.success(\"Perfil da marca atualizado com sucesso!\")\r\n        } catch (error) {\r\n            console.error(\"Failed to update brand profile\", error)\r\n            toast.error(\"Falha ao atualizar perfil da marca\")\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleSaveProfile = async (updatedProfile: User & { image?: File | null }) => {\r\n        setIsLoading(true)\r\n        try {\r\n            const form = new FormData()\r\n\r\n            // Handle avatar image separately\r\n            if (updatedProfile.image instanceof Blob) {\r\n                form.append('avatar', updatedProfile.image)\r\n            }\r\n\r\n            // Exclude fields that should not be sent or are handled separately\r\n            const excludedFields = ['id', 'created_at', 'updated_at', 'email_verified_at', 'avatar', 'avatar_url', 'image', 'balance', 'role', 'has_premium']\r\n\r\n            Object.keys(updatedProfile || {}).forEach((key) => {\r\n                if (excludedFields.includes(key)) return\r\n\r\n                const val = (updatedProfile as unknown as unknown as unknown as Record<string, unknown>)[key]\r\n\r\n                if (key === 'languages' && Array.isArray(val)) {\r\n                    form.append('languages', JSON.stringify(val))\r\n                } else if (key === 'portfolio') {\r\n                    const portfolio = val as any\r\n                    if (portfolio && Array.isArray(portfolio.project_links)) {\r\n                        portfolio.project_links.forEach((link: any, index: number) => {\r\n                            if (link.url) {\r\n                                form.append(`project_links[${index}][title]`, link.title || '')\r\n                                form.append(`project_links[${index}][url]`, link.url)\r\n                            }\r\n                        })\r\n                    }\r\n                } else if (val !== undefined && val !== null) {\r\n                    if (typeof val === 'string' && val.trim() === '') {\r\n                        return\r\n                    }\r\n                    form.append(key, String(val as unknown as string))\r\n                }\r\n            })\r\n\r\n            const newUser = await updateProfileUseCase.execute(form)\r\n            const bust = typeof window !== \"undefined\" ? `?t=${Date.now()}` : \"\"\r\n            const nextUser = {\r\n                ...newUser,\r\n                avatar: newUser.avatar ? `${newUser.avatar}${bust}` : newUser.avatar\r\n            }\r\n            updateUser(nextUser)\r\n            if (typeof window !== \"undefined\" && updatedProfile.image instanceof Blob) {\r\n                window.location.reload()\r\n            }\r\n            setIsEditing(false)\r\n            toast.success(\"Perfil atualizado com sucesso!\")\r\n        } catch (error) {\r\n            console.error(\"Failed to update profile\", error)\r\n            toast.error(\"Falha ao atualizar perfil\")\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    if (isEditing) {\r\n        if (user.role === 'brand' && brandProfile) {\r\n            return (\r\n                <EditBrandProfile\r\n                    initialProfile={brandProfile}\r\n                    onCancel={() => setIsEditing(false)}\r\n                    onSave={handleSaveBrandProfile}\r\n                    isLoading={isLoading}\r\n                />\r\n            )\r\n        }\r\n        return (\r\n            <EditProfile\r\n                initialProfile={user}\r\n                onCancel={() => setIsEditing(false)}\r\n                onSave={handleSaveProfile}\r\n                isLoading={isLoading}\r\n            />\r\n        )\r\n    }\r\n\r\n    if (user.role === 'brand' && brandProfile) {\r\n        return (\r\n            <div className=\"flex flex-col gap-6\">\r\n                <div className=\"flex flex-col gap-2\">\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Perfil da Marca</h1>\r\n                    <p className=\"text-muted-foreground\">\r\n                        Gerencie as informações da sua empresa.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"grid gap-6 md:grid-cols-[300px_1fr]\">\r\n                    <div className=\"space-y-6\">\r\n                        <Card className=\"h-fit\">\r\n                            <CardHeader className=\"items-center text-center\">\r\n                                <Avatar className=\"h-32 w-32\">\r\n                                    <AvatarImage\r\n                                        src={user.avatar ? avatarSrc : (brandProfile.logo_url || \"\")}\r\n                                        key={user.avatar ? avatarSrc : brandProfile.logo_url}\r\n                                        onError={() => setTimeout(() => setAvatarTry((t) => (t < 3 ? t + 1 : t)), 1000)}\r\n                                    />\r\n                                    <AvatarFallback className=\"text-4xl\">{brandProfile.company_name?.substring(0, 2).toUpperCase() || user.name?.substring(0, 2).toUpperCase()}</AvatarFallback>\r\n                                </Avatar>\r\n                                <CardTitle className=\"mt-4\">{brandProfile.company_name}</CardTitle>\r\n                                <Badge variant=\"secondary\" className=\"mt-2 capitalize\">Marca</Badge>\r\n                                \r\n                                {user.has_premium && (\r\n                                    <Badge className=\"mt-1 bg-linear-to-r from-yellow-400 to-orange-500\">PRO</Badge>\r\n                                )}\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"flex items-center gap-2 text-sm text-muted-foreground min-w-0\">\r\n                                    <Mail className=\"h-4 w-4 shrink-0\" />\r\n                                    <span className=\"truncate\" title={user.email}>{user.email}</span>\r\n                                </div>\r\n                                {(brandProfile.city || brandProfile.state) && (\r\n                                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                        <MapPin className=\"h-4 w-4\" />\r\n                                        <span>{brandProfile.city ? `${brandProfile.city}, ` : ''}{brandProfile.state}</span>\r\n                                    </div>\r\n                                )}\r\n                                {brandProfile.website && (\r\n                                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                        <Globe className=\"h-4 w-4\" />\r\n                                        <a href={brandProfile.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:underline truncate\">{brandProfile.website}</a>\r\n                                    </div>\r\n                                )}\r\n                                <Button className=\"w-full\" variant=\"outline\" onClick={() => setIsEditing(true)}>\r\n                                    <Edit2 className=\"mr-2 h-4 w-4\" />\r\n                                    Editar Perfil\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Detalhes da Empresa</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-8\">\r\n                                <div className=\"grid gap-6 md:grid-cols-2\">\r\n                                    <div className=\"space-y-1 md:col-span-2\">\r\n                                        <label className=\"text-xs font-medium text-muted-foreground uppercase\">Sobre</label>\r\n                                        <div className=\"whitespace-pre-wrap\">{brandProfile.description || \"Não informado\"}</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-medium text-muted-foreground uppercase\">Nome da Empresa</label>\r\n                                        <div className=\"font-medium\">{brandProfile.company_name}</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-medium text-muted-foreground uppercase\">CNPJ</label>\r\n                                        <div className=\"font-medium\">{brandProfile.cnpj || \"Não informado\"}</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-medium text-muted-foreground uppercase\">Nicho</label>\r\n                                        <div className=\"font-medium\">{brandProfile.niche || \"Não informado\"}</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-medium text-muted-foreground uppercase\">Endereço</label>\r\n                                        <div className=\"font-medium\">{brandProfile.address || \"Não informado\"}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <div className=\"flex flex-col gap-2\">\r\n                <h1 className=\"text-3xl font-bold tracking-tight\">Meu Perfil</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                    Gerencie suas informações pessoais e configurações.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-[300px_1fr]\">\r\n                <div className=\"space-y-6\">\r\n                    <Card className=\"h-fit\">\r\n                        <CardHeader className=\"items-center text-center\">\r\n                            <Avatar className=\"h-32 w-32\">\r\n                                    <AvatarImage\r\n                                        src={avatarSrc}\r\n                                        key={avatarSrc}\r\n                                        onError={() => setTimeout(() => setAvatarTry((t) => (t < 3 ? t + 1 : t)), 1000)}\r\n                                    />\r\n                                <AvatarFallback className=\"text-4xl\">{user.name?.substring(0, 2).toUpperCase()}</AvatarFallback>\r\n                            </Avatar>\r\n                            <CardTitle className=\"mt-4\">{user.name}</CardTitle>\r\n                            <Badge variant=\"secondary\" className=\"mt-2 capitalize\">\r\n                                {user.role === 'brand' ? 'Marca' : 'Criador'}\r\n                            </Badge>\r\n                            {user.has_premium && (\r\n                                <Badge className=\"mt-1 bg-linear-to-r from-yellow-400 to-orange-500\">PRO</Badge>\r\n                            )}\r\n                            {!user.has_premium && (\r\n                                <div className=\"mt-3 w-full px-4\">\r\n                                    <div className=\"flex items-center justify-center rounded-md border px-3 py-2\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <MdOutlineVerified className=\"h-4 w-4 text-purple-500\" />\r\n                                            <span className=\"text-xs font-semibold text-foreground\">Plano gratuito</span>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground min-w-0\">\r\n                                <Mail className=\"h-4 w-4 shrink-0\" />\r\n                                <span className=\"truncate\" title={user.email}>{user.email}</span>\r\n                            </div>\r\n                            {user.location || user.state && (\r\n                                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                    <MapPin className=\"h-4 w-4\" />\r\n                                    <span>{user.location || user.state}</span>\r\n                                </div>\r\n                            )}\r\n                            {user.created_at && (\r\n                                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                    <Calendar className=\"h-4 w-4\" />\r\n                                    <span>Membro desde {new Date(user.created_at).getFullYear()}</span>\r\n                                </div>\r\n                            )}\r\n\r\n                            <Button className=\"w-full\" variant=\"outline\" onClick={() => setIsEditing(true)}>\r\n                                <Edit2 className=\"mr-2 h-4 w-4\" />\r\n                                Editar Perfil\r\n                            </Button>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Detalhes Pessoais</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-8\">\r\n                            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                                <div className=\"space-y-1 md:col-span-2 lg:col-span-3\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Nome Completo</label>\r\n                                    <div className=\"font-medium truncate\" title={user.name}>{user.name}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1 min-w-0\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Email</label>\r\n                                    <div className=\"font-medium truncate\" title={user.email}>{user.email}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">WhatsApp</label>\r\n                                    <div className=\"font-medium\">{user.whatsapp || \"Não informado\"}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Estado</label>\r\n                                    <div className=\"font-medium\">{user.state || \"Não informado\"}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Profissão</label>\r\n                                    <div className=\"font-medium\">{user.profession || \"Não informado\"}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Nicho</label>\r\n                                    <div className=\"font-medium\">{user.niche || \"Não informado\"}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Tipo de Criador</label>\r\n                                    <div className=\"font-medium capitalize\">{user.creator_type || \"Não informado\"}</div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Gênero</label>\r\n                                    <div className=\"font-medium capitalize\">\r\n                                        {user.gender === 'male' ? 'Masculino' : user.gender === 'female' ? 'Feminino' : user.gender || 'Não informado'}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Data de Nascimento</label>\r\n                                    <div className=\"font-medium\">\r\n                                        {user.birth_date ? new Date(user.birth_date).toLocaleDateString('pt-BR') : \"Não informado\"}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid gap-6 md:grid-cols-[minmax(0,2fr)_minmax(0,1.5fr)]\">\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-xs font-medium text-muted-foreground uppercase\">Idiomas</label>\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {user.languages && user.languages.length > 0 ? (\r\n                                            user.languages.map(lang => (\r\n                                                <Badge key={lang} variant=\"outline\">{lang}</Badge>\r\n                                            ))\r\n                                        ) : (\r\n                                            <span className=\"text-sm\">Não informado</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                <Card>\r\n                                    <CardHeader>\r\n                                        <CardTitle className=\"text-base\">Redes Sociais</CardTitle>\r\n                                    </CardHeader>\r\n                                    <CardContent className=\"space-y-3\">\r\n                                        {user.instagram_handle && (\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <BsInstagram className=\"h-4 w-4 text-pink-500\" />\r\n                                                <span>{user.instagram_handle}</span>\r\n                                            </div>\r\n                                        )}\r\n                                        {user.tiktok_handle && (\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <BsTiktok className=\"h-4 w-4 text-black dark:text-white\" />\r\n                                                <span>{user.tiktok_handle}</span>\r\n                                            </div>\r\n                                        )}\r\n                                        {user.youtube_channel && (\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <BsYoutube className=\"h-4 w-4 text-red-500\" />\r\n                                                <span>{user.youtube_channel}</span>\r\n                                            </div>\r\n                                        )}\r\n                                        {user.twitter_handle && (\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <BsTwitter className=\"h-4 w-4 text-blue-400\" />\r\n                                                <span>{user.twitter_handle}</span>\r\n                                            </div>\r\n                                        )}\r\n                                        {user.facebook_page && (\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <BsFacebook className=\"h-4 w-4 text-blue-600\" />\r\n                                                <span>{user.facebook_page}</span>\r\n                                            </div>\r\n                                        )}\r\n                                        {!user.instagram_handle && !user.tiktok_handle && !user.youtube_channel && !user.twitter_handle && !user.facebook_page && (\r\n                                            <span className=\"text-sm text-muted-foreground\">Nenhuma rede social vinculada.</span>\r\n                                        )}\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </div>\r\n\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\student-verify\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\dashboard\\subscription\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\(dashboard)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\campaigns\\page.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":171,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":171,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[5411,5446],"text":"// @ts-expect-error - dynamic method call"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":184,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":184,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5936,5939],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5936,5939],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":211,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7001,7004],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7001,7004],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":374,"column":61,"nodeType":"JSXOpeningElement","endLine":374,"endColumn":155},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":501,"column":37,"nodeType":"JSXOpeningElement","endLine":501,"endColumn":147}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCampaigns'. Either include it or remove the dependency array.","line":138,"column":8,"nodeType":"ArrayExpression","endLine":138,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentPage, fetchCampaigns]","fix":{"range":[4423,4436],"text":"[currentPage, fetchCampaigns]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/presentation/components/ui/select\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuSeparator,\r\n} from \"@/presentation/components/ui/dropdown-menu\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogFooter,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\r\nimport {\r\n    Megaphone,\r\n    Search,\r\n    MoreHorizontal,\r\n    CheckCircle,\r\n    XCircle,\r\n    Trash2,\r\n    Eye,\r\n    Calendar,\r\n    DollarSign,\r\n    Building,\r\n    RefreshCw,\r\n    ChevronLeft,\r\n    ChevronRight,\r\n    Filter\r\n} from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\nconst formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n        style: 'currency',\r\n        currency: 'BRL',\r\n    }).format(value)\r\n}\r\n\r\ninterface Campaign {\r\n    id: number\r\n    title: string\r\n    description: string\r\n    status: \"pending\" | \"approved\" | \"active\" | \"completed\" | \"rejected\" | \"cancelled\"\r\n    budget: number\r\n    campaign_type: string\r\n    brand: {\r\n        id: number\r\n        name: string\r\n        company_name: string\r\n        profile_image?: string\r\n    }\r\n    created_at: string\r\n    start_date?: string\r\n    end_date?: string\r\n    cover_image?: string\r\n}\r\n\r\ninterface PaginationInfo {\r\n    current_page: number\r\n    last_page: number\r\n    per_page: number\r\n    total: number\r\n}\r\n\r\nexport default function AdminCampaignsPage() {\r\n    const [campaigns, setCampaigns] = useState<Campaign[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [statusFilter, setStatusFilter] = useState(\"all\")\r\n    const [typeFilter, setTypeFilter] = useState(\"all\")\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [pagination, setPagination] = useState<PaginationInfo | null>(null)\r\n\r\n    // States for actions\r\n    const [selectedCampaign, setSelectedCampaign] = useState<Campaign | null>(null)\r\n    const [actionLoading, setActionLoading] = useState(false)\r\n    const [rejectDialogOpen, setRejectDialogOpen] = useState(false)\r\n    const [rejectReason, setRejectReason] = useState(\"\")\r\n\r\n    const fetchCampaigns = useCallback(async (page = 1) => {\r\n        setLoading(true)\r\n        try {\r\n            const params = new URLSearchParams()\r\n            params.append(\"page\", String(page))\r\n            if (searchTerm) params.append(\"search\", searchTerm)\r\n            if (statusFilter !== \"all\") params.append(\"status\", statusFilter)\r\n            if (typeFilter !== \"all\") params.append(\"type\", typeFilter)\r\n\r\n            const response = await api.get<{\r\n                success: boolean\r\n                data: {\r\n                    data: Campaign[]\r\n                    current_page: number\r\n                    last_page: number\r\n                    per_page: number\r\n                    total: number\r\n                }\r\n            }>(`/admin/campaigns?${params.toString()}`)\r\n\r\n            if (response.success) {\r\n                setCampaigns(response.data.data || [])\r\n                setPagination({\r\n                    current_page: response.data.current_page,\r\n                    last_page: response.data.last_page,\r\n                    per_page: response.data.per_page,\r\n                    total: response.data.total,\r\n                })\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch campaigns:\", error)\r\n            toast.error(\"Falha ao carregar campanhas\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }, [searchTerm, statusFilter, typeFilter])\r\n\r\n    useEffect(() => {\r\n        fetchCampaigns(currentPage)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentPage])\r\n\r\n    const handleSearch = () => {\r\n        setCurrentPage(1)\r\n        fetchCampaigns(1)\r\n    }\r\n\r\n    const handleAction = async (campaignId: number, action: \"approve\" | \"reject\" | \"delete\") => {\r\n        if (action === \"reject\") {\r\n            setRejectDialogOpen(true)\r\n            return\r\n        }\r\n\r\n        if (action === \"delete\" && !confirm(\"Tem certeza que deseja excluir esta campanha? Esta ação não pode ser desfeita.\")) {\r\n            return\r\n        }\r\n\r\n        setActionLoading(true)\r\n        try {\r\n            let endpoint = \"\"\r\n            let method = \"\"\r\n\r\n            switch (action) {\r\n                case \"approve\":\r\n                    endpoint = `/admin/campaigns/${campaignId}/approve`\r\n                    method = \"patch\"\r\n                    break\r\n                case \"delete\":\r\n                    endpoint = `/admin/campaigns/${campaignId}`\r\n                    method = \"delete\"\r\n                    break\r\n            }\r\n\r\n            // @ts-ignore - dynamic method call\r\n            const response = await api[method]<{\r\n                success: boolean\r\n                message?: string\r\n            }>(endpoint)\r\n\r\n            if (response.success) {\r\n                toast.success(response.message || `Ação realizada com sucesso`)\r\n                fetchCampaigns(currentPage)\r\n                setSelectedCampaign(null)\r\n            } else {\r\n                toast.error(response.message || \"Falha ao executar ação\")\r\n            }\r\n        } catch (error: any) {\r\n            console.error(`Failed to ${action} campaign:`, error)\r\n            toast.error(error.response?.data?.message || `Falha ao ${action === \"delete\" ? \"excluir\" : \"aprovar\"} campanha`)\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleReject = async () => {\r\n        if (!selectedCampaign || !rejectReason) return\r\n\r\n        setActionLoading(true)\r\n        try {\r\n            const response = await api.patch<{\r\n                success: boolean\r\n                message?: string\r\n            }>(`/admin/campaigns/${selectedCampaign.id}/reject`, { reason: rejectReason })\r\n\r\n            if (response.success) {\r\n                toast.success(response.message || \"Campanha rejeitada com sucesso\")\r\n                setRejectDialogOpen(false)\r\n                setRejectReason(\"\")\r\n                fetchCampaigns(currentPage)\r\n                setSelectedCampaign(null)\r\n            } else {\r\n                toast.error(response.message || \"Falha ao rejeitar campanha\")\r\n            }\r\n        } catch (error: any) {\r\n            console.error(\"Failed to reject campaign:\", error)\r\n            toast.error(error.response?.data?.message || \"Falha ao rejeitar campanha\")\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    const getStatusBadge = (status: string) => {\r\n        switch (status) {\r\n            case \"pending\":\r\n                return <Badge variant=\"outline\" className=\"border-yellow-500 text-yellow-600 bg-yellow-50 dark:bg-yellow-900/10\">Pendente</Badge>\r\n            case \"approved\":\r\n            case \"active\":\r\n                return <Badge variant=\"default\" className=\"bg-green-600\">Ativa</Badge>\r\n            case \"completed\":\r\n                return <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300\">Concluída</Badge>\r\n            case \"rejected\":\r\n                return <Badge variant=\"destructive\">Rejeitada</Badge>\r\n            case \"cancelled\":\r\n                return <Badge variant=\"outline\" className=\"text-muted-foreground\">Cancelada</Badge>\r\n            default:\r\n                return <Badge variant=\"outline\">{status}</Badge>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            {/* Header */}\r\n            <div>\r\n                <Badge variant=\"outline\" className=\"mb-2\">Campanhas</Badge>\r\n                <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                    Todas as Campanhas\r\n                </h1>\r\n                <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                    Gerencie todas as campanhas da plataforma, verifique status e modere conteúdo.\r\n                </p>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Filter className=\"h-5 w-5\" />\r\n                        Filtros\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"flex flex-wrap items-end gap-4\">\r\n                        <div className=\"flex-1 min-w-[200px]\">\r\n                            <Input\r\n                                placeholder=\"Buscar por título ou marca...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-40\">\r\n                            <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Status\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos os status</SelectItem>\r\n                                    <SelectItem value=\"pending\">Pendente</SelectItem>\r\n                                    <SelectItem value=\"active\">Ativa</SelectItem>\r\n                                    <SelectItem value=\"completed\">Concluída</SelectItem>\r\n                                    <SelectItem value=\"rejected\">Rejeitada</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <div className=\"w-40\">\r\n                            <Select value={typeFilter} onValueChange={setTypeFilter}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Tipo\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos os tipos</SelectItem>\r\n                                    <SelectItem value=\"ugc\">UGC</SelectItem>\r\n                                    <SelectItem value=\"affiliates\">Afiliados</SelectItem>\r\n                                    <SelectItem value=\"influencer\">Influencer</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <Button onClick={handleSearch}>\r\n                            <Search className=\"mr-2 h-4 w-4\" />\r\n                            Buscar\r\n                        </Button>\r\n                        <Button variant=\"outline\" onClick={() => {\r\n                            setSearchTerm(\"\")\r\n                            setStatusFilter(\"all\")\r\n                            setTypeFilter(\"all\")\r\n                            setCurrentPage(1)\r\n                            fetchCampaigns(1)\r\n                        }}>\r\n                            <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n                            Limpar\r\n                        </Button>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Campaigns Table */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Megaphone className=\"h-5 w-5\" />\r\n                        Campanhas\r\n                        {pagination && (\r\n                            <span className=\"ml-2 text-sm font-normal text-muted-foreground\">\r\n                                ({pagination.total} total)\r\n                            </span>\r\n                        )}\r\n                    </CardTitle>\r\n                    <CardDescription>\r\n                        Listagem completa de campanhas.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {loading ? (\r\n                        <div className=\"space-y-4\">\r\n                            {[...Array(5)].map((_, i) => (\r\n                                <div key={i} className=\"flex items-center gap-4\">\r\n                                    <Skeleton className=\"h-16 w-24 rounded-md\" />\r\n                                    <div className=\"flex-1 space-y-2\">\r\n                                        <Skeleton className=\"h-5 w-64\" />\r\n                                        <Skeleton className=\"h-4 w-32\" />\r\n                                    </div>\r\n                                    <Skeleton className=\"h-6 w-20\" />\r\n                                    <Skeleton className=\"h-8 w-8 rounded-full\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : campaigns.length === 0 ? (\r\n                        <div className=\"py-12 text-center\">\r\n                            <div className=\"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted\">\r\n                                <Megaphone className=\"h-6 w-6 text-muted-foreground\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-medium\">Nenhuma campanha encontrada</h3>\r\n                            <p className=\"mt-1 text-sm text-muted-foreground\">\r\n                                Tente ajustar os filtros ou buscar por outro termo.\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                                <thead>\r\n                                    <tr className=\"border-b text-muted-foreground\">\r\n                                        <th className=\"px-4 py-3 text-left\">Campanha</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Marca</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Orçamento</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Status</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Data</th>\r\n                                        <th className=\"px-4 py-3 text-right\">Ações</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {campaigns.map((campaign) => (\r\n                                        <tr key={campaign.id} className=\"border-b last:border-0 hover:bg-muted/50\">\r\n                                            <td className=\"px-4 py-3\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <div className=\"h-10 w-16 overflow-hidden rounded-md bg-muted\">\r\n                                                        {campaign.cover_image ? (\r\n                                                            <img src={campaign.cover_image} alt={campaign.title} className=\"h-full w-full object-cover\" />\r\n                                                        ) : (\r\n                                                            <div className=\"flex h-full w-full items-center justify-center bg-muted text-muted-foreground\">\r\n                                                                <Megaphone className=\"h-4 w-4\" />\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"font-medium line-clamp-1\">{campaign.title}</div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">{campaign.campaign_type || 'Geral'}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <Building className=\"h-3 w-3 text-muted-foreground\" />\r\n                                                    <span className=\"truncate max-w-[150px]\">\r\n                                                        {campaign.brand.company_name || campaign.brand.name}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3 font-medium\">\r\n                                                {formatCurrency(campaign.budget)}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">{getStatusBadge(campaign.status)}</td>\r\n                                            <td className=\"px-4 py-3 text-muted-foreground\">\r\n                                                {new Date(campaign.created_at).toLocaleDateString(\"pt-BR\")}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3 text-right\">\r\n                                                <DropdownMenu>\r\n                                                    <DropdownMenuTrigger asChild>\r\n                                                        <Button variant=\"ghost\" size=\"sm\">\r\n                                                            <MoreHorizontal className=\"h-4 w-4\" />\r\n                                                        </Button>\r\n                                                    </DropdownMenuTrigger>\r\n                                                    <DropdownMenuContent align=\"end\">\r\n                                                        <DropdownMenuItem onClick={() => setSelectedCampaign(campaign)}>\r\n                                                            <Eye className=\"mr-2 h-4 w-4\" />\r\n                                                            Detalhes\r\n                                                        </DropdownMenuItem>\r\n                                                        <DropdownMenuSeparator />\r\n                                                        {campaign.status === \"pending\" && (\r\n                                                            <>\r\n                                                                <DropdownMenuItem\r\n                                                                    onClick={() => {\r\n                                                                        setSelectedCampaign(campaign)\r\n                                                                        handleAction(campaign.id, \"approve\")\r\n                                                                    }}\r\n                                                                    className=\"text-green-600\"\r\n                                                                >\r\n                                                                    <CheckCircle className=\"mr-2 h-4 w-4\" />\r\n                                                                    Aprovar\r\n                                                                </DropdownMenuItem>\r\n                                                                <DropdownMenuItem\r\n                                                                    onClick={() => {\r\n                                                                        setSelectedCampaign(campaign)\r\n                                                                        handleAction(campaign.id, \"reject\")\r\n                                                                    }}\r\n                                                                    className=\"text-red-600\"\r\n                                                                >\r\n                                                                    <XCircle className=\"mr-2 h-4 w-4\" />\r\n                                                                    Rejeitar\r\n                                                                </DropdownMenuItem>\r\n                                                            </>\r\n                                                        )}\r\n                                                        <DropdownMenuItem\r\n                                                            onClick={() => {\r\n                                                                setSelectedCampaign(campaign)\r\n                                                                handleAction(campaign.id, \"delete\")\r\n                                                            }}\r\n                                                            className=\"text-red-600\"\r\n                                                        >\r\n                                                            <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                                            Excluir\r\n                                                        </DropdownMenuItem>\r\n                                                    </DropdownMenuContent>\r\n                                                </DropdownMenu>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Pagination */}\r\n                    {pagination && pagination.last_page > 1 && (\r\n                        <div className=\"mt-4 flex items-center justify-between\">\r\n                            <div className=\"text-sm text-muted-foreground\">\r\n                                Página {pagination.current_page} de {pagination.last_page}\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                                    disabled={currentPage === 1}\r\n                                >\r\n                                    <ChevronLeft className=\"h-4 w-4\" />\r\n                                    Anterior\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                                    disabled={currentPage === pagination.last_page}\r\n                                >\r\n                                    Próximo\r\n                                    <ChevronRight className=\"h-4 w-4\" />\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Campaign Details Dialog */}\r\n            <Dialog open={!!selectedCampaign && !rejectDialogOpen} onOpenChange={(open) => !open && setSelectedCampaign(null)}>\r\n                <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Detalhes da Campanha</DialogTitle>\r\n                    </DialogHeader>\r\n                    {selectedCampaign && (\r\n                        <div className=\"space-y-6\">\r\n                            {/* Cover Image */}\r\n                            <div className=\"aspect-video w-full rounded-lg bg-muted overflow-hidden\">\r\n                                {selectedCampaign.cover_image ? (\r\n                                    <img src={selectedCampaign.cover_image} alt={selectedCampaign.title} className=\"h-full w-full object-cover\" />\r\n                                ) : (\r\n                                    <div className=\"flex h-full w-full items-center justify-center\">\r\n                                        <Megaphone className=\"h-12 w-12 text-muted-foreground/50\" />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Title & Status */}\r\n                            <div className=\"flex justify-between items-start gap-4\">\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-bold\">{selectedCampaign.title}</h2>\r\n                                    <div className=\"flex items-center gap-2 mt-1 text-muted-foreground\">\r\n                                        <Building className=\"h-4 w-4\" />\r\n                                        <span>{selectedCampaign.brand.company_name || selectedCampaign.brand.name}</span>\r\n                                    </div>\r\n                                </div>\r\n                                {getStatusBadge(selectedCampaign.status)}\r\n                            </div>\r\n\r\n                            {/* Grid Info */}\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <span className=\"text-sm text-muted-foreground flex items-center gap-1\">\r\n                                        <DollarSign className=\"h-3 w-3\" /> Orçamento\r\n                                    </span>\r\n                                    <p className=\"font-medium\">{formatCurrency(selectedCampaign.budget)}</p>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <span className=\"text-sm text-muted-foreground flex items-center gap-1\">\r\n                                        <Calendar className=\"h-3 w-3\" /> Data de Criação\r\n                                    </span>\r\n                                    <p className=\"font-medium\">{new Date(selectedCampaign.created_at).toLocaleDateString(\"pt-BR\")}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Description */}\r\n                            <div className=\"space-y-2\">\r\n                                <h3 className=\"font-semibold text-sm\">Descrição</h3>\r\n                                <div className=\"p-4 rounded-lg bg-muted/50 text-sm whitespace-pre-wrap\">\r\n                                    {selectedCampaign.description}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Actions Footer */}\r\n                            <div className=\"flex gap-2 pt-4 border-t\">\r\n                                {selectedCampaign.status === \"pending\" ? (\r\n                                    <>\r\n                                        <Button\r\n                                            className=\"flex-1 bg-green-600 hover:bg-green-700\"\r\n                                            onClick={() => handleAction(selectedCampaign.id, \"approve\")}\r\n                                            disabled={actionLoading}\r\n                                        >\r\n                                            {actionLoading ? <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" /> : <CheckCircle className=\"mr-2 h-4 w-4\" />}\r\n                                            Aprovar\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"destructive\"\r\n                                            className=\"flex-1\"\r\n                                            onClick={() => handleAction(selectedCampaign.id, \"reject\")}\r\n                                            disabled={actionLoading}\r\n                                        >\r\n                                            <XCircle className=\"mr-2 h-4 w-4\" />\r\n                                            Rejeitar\r\n                                        </Button>\r\n                                    </>\r\n                                ) : (\r\n                                    <Button\r\n                                        variant=\"destructive\"\r\n                                        className=\"w-full\"\r\n                                        onClick={() => handleAction(selectedCampaign.id, \"delete\")}\r\n                                        disabled={actionLoading}\r\n                                    >\r\n                                        <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                        Excluir Campanha\r\n                                    </Button>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Reject Reason Dialog */}\r\n            <Dialog open={rejectDialogOpen} onOpenChange={setRejectDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Rejeitar Campanha</DialogTitle>\r\n                        <DialogDescription>\r\n                            Por favor, informe o motivo da rejeição. Isso será enviado para a marca.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <Textarea\r\n                            placeholder=\"Descreva o motivo da rejeição...\"\r\n                            value={rejectReason}\r\n                            onChange={(e) => setRejectReason(e.target.value)}\r\n                            className=\"min-h-[100px]\"\r\n                        />\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setRejectDialogOpen(false)}>Cancelar</Button>\r\n                        <Button variant=\"destructive\" onClick={handleReject} disabled={actionLoading || !rejectReason.trim()}>\r\n                            {actionLoading && <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                            Confirmar Rejeição\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\campaigns\\pending\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\guides\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ImageIcon' is defined but never used.","line":37,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Save' is defined but never used.","line":38,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":39,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":6},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'GripVertical' is defined but never used.","line":40,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":40,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":202,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":202,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6448,6451],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6448,6451],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":305,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":305,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12334,12337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12334,12337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":338,"column":72,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em &quot;Adicionar Passo\" para começar.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em &ldquo;Adicionar Passo\" para começar.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em &#34;Adicionar Passo\" para começar.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em &rdquo;Adicionar Passo\" para começar.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":338,"column":88,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em \"Adicionar Passo&quot; para começar.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em \"Adicionar Passo&ldquo; para começar.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em \"Adicionar Passo&#34; para começar.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14239,14377],"text":"\r\n                                    Nenhum passo adicionado. Clique em \"Adicionar Passo&rdquo; para começar.\r\n                                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/presentation/components/ui/select\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogFooter,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from \"@/presentation/components/ui/accordion\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport {\r\n    BookOpen,\r\n    Plus,\r\n    Pencil,\r\n    Trash2,\r\n    Video,\r\n    Image as ImageIcon,\r\n    Save,\r\n    X,\r\n    GripVertical,\r\n    RefreshCw\r\n} from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface GuideStep {\r\n    id?: number\r\n    title: string\r\n    description: string\r\n    video_path?: string | null\r\n    videoFile?: File | null\r\n    order: number\r\n}\r\n\r\ninterface Guide {\r\n    id: number\r\n    title: string\r\n    description: string\r\n    audience: \"Brand\" | \"Creator\"\r\n    created_at: string\r\n    steps: GuideStep[]\r\n    video_path?: string | null\r\n}\r\n\r\nconst EmptyGuide: Omit<Guide, \"id\" | \"created_at\"> = {\r\n    title: \"\",\r\n    description: \"\",\r\n    audience: \"Creator\",\r\n    steps: [],\r\n    video_path: null\r\n}\r\n\r\nexport default function AdminGuidesPage() {\r\n    const [guides, setGuides] = useState<Guide[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    // Create/Edit State\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [editingGuide, setEditingGuide] = useState<Partial<Guide>>(EmptyGuide)\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n    useEffect(() => {\r\n        fetchGuides()\r\n    }, [])\r\n\r\n    const fetchGuides = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const response = await api.get<{ success: boolean; data: Guide[] }>(\"/admin/guides\")\r\n            if (response.success) {\r\n                setGuides(response.data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch guides:\", error)\r\n            toast.error(\"Falha ao carregar guias\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleCreate = () => {\r\n        setEditingGuide({ ...EmptyGuide, steps: [] })\r\n        setIsDialogOpen(true)\r\n    }\r\n\r\n    const handleEdit = (guide: Guide) => {\r\n        setEditingGuide({\r\n            ...guide,\r\n            steps: guide.steps.sort((a, b) => a.order - b.order)\r\n        })\r\n        setIsDialogOpen(true)\r\n    }\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm(\"Tem certeza que deseja excluir este guia?\")) return\r\n\r\n        try {\r\n            const response = await api.delete<{ success: boolean }>(`/admin/guides/${id}`)\r\n            if (response.success) {\r\n                toast.success(\"Guia excluído com sucesso\")\r\n                setGuides(prev => prev.filter(g => g.id !== id))\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to delete guide:\", error)\r\n            toast.error(\"Falha ao excluir guia\")\r\n        }\r\n    }\r\n\r\n    const handleSave = async () => {\r\n        if (!editingGuide.title || !editingGuide.description) {\r\n            toast.error(\"Por favor preencha os campos obrigatórios\")\r\n            return\r\n        }\r\n\r\n        setIsSubmitting(true)\r\n        try {\r\n            const formData = new FormData()\r\n            formData.append(\"title\", editingGuide.title)\r\n            formData.append(\"description\", editingGuide.description)\r\n            formData.append(\"audience\", editingGuide.audience || \"Creator\")\r\n\r\n            // Handle steps\r\n            if (editingGuide.steps && editingGuide.steps.length > 0) {\r\n                editingGuide.steps.forEach((step, index) => {\r\n                    formData.append(`steps[${index}][title]`, step.title)\r\n                    formData.append(`steps[${index}][description]`, step.description)\r\n\r\n                    if (step.videoFile) {\r\n                        formData.append(`steps[${index}][videoFile]`, step.videoFile)\r\n                    }\r\n                })\r\n            }\r\n\r\n            let response\r\n            if (editingGuide.id) {\r\n                // Update (PUT doesn't work well with FormData in some setups, sometimes need _method=PUT)\r\n                // Laravel traditionally handles PUT with FormData by using POST + _method=PUT\r\n                formData.append(\"_method\", \"PUT\")\r\n                response = await api.post<{ success: boolean; data: Guide }>(`/admin/guides/${editingGuide.id}`, formData, {\r\n                    headers: { \"Content-Type\": \"multipart/form-data\" }\r\n                })\r\n            } else {\r\n                // Create\r\n                response = await api.post<{ success: boolean; data: Guide }>(\"/admin/guides\", formData, {\r\n                    headers: { \"Content-Type\": \"multipart/form-data\" }\r\n                })\r\n            }\r\n\r\n            if (response.success) {\r\n                toast.success(editingGuide.id ? \"Guia atualizado com sucesso\" : \"Guia criado com sucesso\")\r\n                setIsDialogOpen(false)\r\n                fetchGuides()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to save guide:\", error)\r\n            toast.error(\"Falha ao salvar guia\")\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const addStep = () => {\r\n        const newStep: GuideStep = {\r\n            title: \"\",\r\n            description: \"\",\r\n            order: (editingGuide.steps?.length || 0),\r\n            videoFile: null\r\n        }\r\n        setEditingGuide(prev => ({\r\n            ...prev,\r\n            steps: [...(prev.steps || []), newStep]\r\n        }))\r\n    }\r\n\r\n    const removeStep = (index: number) => {\r\n        setEditingGuide(prev => ({\r\n            ...prev,\r\n            steps: prev.steps?.filter((_, i) => i !== index)\r\n        }))\r\n    }\r\n\r\n    const updateStep = (index: number, field: keyof GuideStep, value: any) => {\r\n        const newSteps = [...(editingGuide.steps || [])]\r\n        newSteps[index] = { ...newSteps[index], [field]: value }\r\n        setEditingGuide(prev => ({ ...prev, steps: newSteps }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <Badge variant=\"outline\" className=\"mb-2\">Educação</Badge>\r\n                    <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                        Guias da Plataforma\r\n                    </h1>\r\n                    <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                        Gerencie os guias e tutoriais para marcas e criadores.\r\n                    </p>\r\n                </div>\r\n                <Button onClick={handleCreate}>\r\n                    <Plus className=\"mr-2 h-4 w-4\" />\r\n                    Novo Guia\r\n                </Button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n                    {[...Array(3)].map((_, i) => (\r\n                        <Card key={i}>\r\n                            <CardHeader>\r\n                                <Skeleton className=\"h-5 w-3/4 mb-2\" />\r\n                                <Skeleton className=\"h-4 w-1/2\" />\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <Skeleton className=\"h-20 w-full\" />\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            ) : guides.length === 0 ? (\r\n                <Card className=\"flex flex-col items-center justify-center p-12 text-center\">\r\n                    <BookOpen className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n                    <h3 className=\"text-lg font-medium\">Nenhum guia encontrado</h3>\r\n                    <p className=\"text-muted-foreground mt-2 mb-6\">Comece criando um guia para ajudar os usuários.</p>\r\n                    <Button onClick={handleCreate}>Criar Primeiro Guia</Button>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n                    {guides.map((guide) => (\r\n                        <Card key={guide.id} className=\"flex flex-col\">\r\n                            <CardHeader>\r\n                                <div className=\"flex justify-between items-start\">\r\n                                    <Badge variant={guide.audience === \"Brand\" ? \"default\" : \"secondary\"}>\r\n                                        {guide.audience === \"Brand\" ? \"Para Marcas\" : \"Para Criadores\"}\r\n                                    </Badge>\r\n                                    <div className=\"flex gap-1\">\r\n                                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => handleEdit(guide)}>\r\n                                            <Pencil className=\"h-4 w-4\" />\r\n                                        </Button>\r\n                                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => handleDelete(guide.id)}>\r\n                                            <Trash2 className=\"h-4 w-4\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <CardTitle className=\"mt-2 line-clamp-1\">{guide.title}</CardTitle>\r\n                                <CardDescription className=\"line-clamp-2 min-h-[40px]\">\r\n                                    {guide.description}\r\n                                </CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"mt-auto pt-0\">\r\n                                <div className=\"text-sm text-muted-foreground mb-4\">\r\n                                    {guide.steps.length} passos\r\n                                </div>\r\n                                <Button variant=\"outline\" className=\"w-full\" onClick={() => handleEdit(guide)}>\r\n                                    Gerenciar Conteúdo\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Create/Edit Dialog */}\r\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>{editingGuide.id ? \"Editar Guia\" : \"Novo Guia\"}</DialogTitle>\r\n                        <DialogDescription>Preencha as informações do guia e adicione os passos.</DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"grid gap-6 py-4\">\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Título</label>\r\n                                <Input\r\n                                    value={editingGuide.title || \"\"}\r\n                                    onChange={(e) => setEditingGuide(prev => ({ ...prev, title: e.target.value }))}\r\n                                    placeholder=\"Ex: Como criar uma campanha\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Público Alvo</label>\r\n                                <Select\r\n                                    value={editingGuide.audience}\r\n                                    onValueChange={(v: any) => setEditingGuide(prev => ({ ...prev, audience: v }))}\r\n                                >\r\n                                    <SelectTrigger>\r\n                                        <SelectValue />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                        <SelectItem value=\"Creator\">Criadores</SelectItem>\r\n                                        <SelectItem value=\"Brand\">Marcas</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-sm font-medium\">Descrição</label>\r\n                            <Textarea\r\n                                value={editingGuide.description || \"\"}\r\n                                onChange={(e) => setEditingGuide(prev => ({ ...prev, description: e.target.value }))}\r\n                                placeholder=\"Uma breve descrição sobre o que este guia ensina...\"\r\n                                rows={3}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <h3 className=\"text-lg font-medium\">Passos do Guia</h3>\r\n                                <Button variant=\"outline\" size=\"sm\" onClick={addStep}>\r\n                                    <Plus className=\"mr-2 h-4 w-4\" /> Adicionar Passo\r\n                                </Button>\r\n                            </div>\r\n\r\n                            {editingGuide.steps?.length === 0 && (\r\n                                <div className=\"text-center py-8 border-2 border-dashed rounded-lg text-muted-foreground\">\r\n                                    Nenhum passo adicionado. Clique em \"Adicionar Passo\" para começar.\r\n                                </div>\r\n                            )}\r\n\r\n                            <Accordion type=\"single\" collapsible className=\"w-full space-y-2\">\r\n                                {editingGuide.steps?.map((step, index) => (\r\n                                    <AccordionItem key={index} value={`item-${index}`} className=\"border rounded-md px-4\">\r\n                                        <AccordionTrigger className=\"hover:no-underline\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <span className=\"flex h-6 w-6 items-center justify-center rounded-full bg-muted text-xs font-medium\">\r\n                                                    {index + 1}\r\n                                                </span>\r\n                                                <span className=\"font-medium\">{step.title || \"Novo Passo\"}</span>\r\n                                            </div>\r\n                                        </AccordionTrigger>\r\n                                        <AccordionContent className=\"pt-4 space-y-4\">\r\n                                            <div className=\"grid gap-4\">\r\n                                                <div className=\"space-y-2\">\r\n                                                    <label className=\"text-sm font-medium\">Título do Passo</label>\r\n                                                    <Input\r\n                                                        value={step.title}\r\n                                                        onChange={(e) => updateStep(index, \"title\", e.target.value)}\r\n                                                        placeholder=\"Ex: Acesse o painel\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"space-y-2\">\r\n                                                    <label className=\"text-sm font-medium\">Descrição Detalhada</label>\r\n                                                    <Textarea\r\n                                                        value={step.description}\r\n                                                        onChange={(e) => updateStep(index, \"description\", e.target.value)}\r\n                                                        rows={4}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"space-y-2\">\r\n                                                    <label className=\"text-sm font-medium\">Vídeo (opcional)</label>\r\n                                                    <div className=\"flex items-center gap-2\">\r\n                                                        <Input\r\n                                                            type=\"file\"\r\n                                                            accept=\"video/*\"\r\n                                                            onChange={(e) => {\r\n                                                                const file = e.target.files?.[0]\r\n                                                                if (file) updateStep(index, \"videoFile\", file)\r\n                                                            }}\r\n                                                        />\r\n                                                        {step.video_path && !step.videoFile && (\r\n                                                            <Badge variant=\"outline\" className=\"h-10 px-3\">\r\n                                                                <Video className=\"h-4 w-4 mr-2\" />\r\n                                                                Vídeo atual\r\n                                                            </Badge>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex justify-end pt-2\">\r\n                                                    <Button\r\n                                                        variant=\"destructive\"\r\n                                                        size=\"sm\"\r\n                                                        onClick={() => removeStep(index)}\r\n                                                    >\r\n                                                        <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                                        Remover Passo\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </AccordionContent>\r\n                                    </AccordionItem>\r\n                                ))}\r\n                            </Accordion>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>Cancelar</Button>\r\n                        <Button onClick={handleSave} disabled={isSubmitting}>\r\n                            {isSubmitting && <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                            Salvar Guia\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\notifications\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\rankings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":8,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/presentation/components/ui/tabs\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport { Trophy, TrendingUp, Users, DollarSign, Medal, Star, CheckCircle } from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\n\r\nconst formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n        style: 'currency',\r\n        currency: 'BRL',\r\n    }).format(value)\r\n}\r\n\r\ninterface BrandRanking {\r\n    brand_id: number\r\n    brand_name: string\r\n    total_campaigns: number\r\n    total_investment: number\r\n    active_campaigns: number\r\n    score?: number\r\n}\r\n\r\ninterface ComprehensiveRanking extends BrandRanking {\r\n    engagement_rate: number\r\n    successful_campaigns: number\r\n    creator_rating: number\r\n}\r\n\r\nexport default function AdminRankingsPage() {\r\n    const [rankings, setRankings] = useState<BrandRanking[]>([])\r\n    const [comprehensiveRankings, setComprehensiveRankings] = useState<ComprehensiveRanking[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        fetchRankings()\r\n    }, [])\r\n\r\n    const fetchRankings = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const [simpleRes, compRes] = await Promise.all([\r\n                api.get<{ success: boolean; data: BrandRanking[] }>(\"/admin/brand-rankings\").catch(() => null),\r\n                api.get<{ success: boolean; data: ComprehensiveRanking[] }>(\"/admin/brand-rankings/comprehensive\").catch(() => null)\r\n            ])\r\n\r\n            if (simpleRes?.success) {\r\n                setRankings(simpleRes.data)\r\n            }\r\n            if (compRes?.success) {\r\n                setComprehensiveRankings(compRes.data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch rankings:\", error)\r\n            toast.error(\"Falha ao carregar rankings\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const getMedalColor = (index: number) => {\r\n        switch (index) {\r\n            case 0: return \"text-yellow-500\" // Gold\r\n            case 1: return \"text-gray-400\"   // Silver\r\n            case 2: return \"text-amber-600\"  // Bronze\r\n            default: return \"text-muted-foreground\"\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <div>\r\n                <Badge variant=\"outline\" className=\"mb-2\">Analytics</Badge>\r\n                <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                    Rankings das Marcas\r\n                </h1>\r\n                <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                    Acompanhe o desempenho das marcas com base em investimento e atividade.\r\n                </p>\r\n            </div>\r\n\r\n            <Tabs defaultValue=\"investment\" className=\"w-full\">\r\n                <TabsList>\r\n                    <TabsTrigger value=\"investment\">Por Investimento</TabsTrigger>\r\n                    <TabsTrigger value=\"performance\">Por Performance Global</TabsTrigger>\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"investment\" className=\"space-y-4 pt-4\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <DollarSign className=\"h-5 w-5 text-green-600\" />\r\n                                Top Marcas por Investimento\r\n                            </CardTitle>\r\n                            <CardDescription>\r\n                                Marcas com maior volume de investimento em campanhas.\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            {loading ? (\r\n                                <div className=\"space-y-4\">\r\n                                    {[...Array(5)].map((_, i) => (\r\n                                        <div key={i} className=\"flex items-center gap-4\">\r\n                                            <Skeleton className=\"h-8 w-8 rounded-full\" />\r\n                                            <div className=\"flex-1 space-y-2\">\r\n                                                <Skeleton className=\"h-4 w-48\" />\r\n                                                <Skeleton className=\"h-3 w-32\" />\r\n                                            </div>\r\n                                            <Skeleton className=\"h-6 w-24\" />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ) : rankings.length === 0 ? (\r\n                                <div className=\"py-8 text-center text-muted-foreground\">\r\n                                    Nenhum dado de ranking disponível\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-6\">\r\n                                    {rankings.map((brand, index) => (\r\n                                        <div key={brand.brand_id} className=\"flex items-center justify-between border-b pb-4 last:border-0 last:pb-0\">\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <div className={`flex h-8 w-8 items-center justify-center font-bold ${getMedalColor(index)}`}>\r\n                                                    {index < 3 ? <Trophy className=\"h-6 w-6\" /> : `#${index + 1}`}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"font-medium text-lg\">{brand.brand_name}</div>\r\n                                                    <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\r\n                                                        <span className=\"flex items-center gap-1\">\r\n                                                            <TrendingUp className=\"h-3 w-3\" />\r\n                                                            {brand.total_campaigns} campanhas\r\n                                                        </span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <div className=\"font-bold text-lg text-green-600\">\r\n                                                    {formatCurrency(brand.total_investment)}\r\n                                                </div>\r\n                                                <div className=\"text-xs text-muted-foreground\">Investimento Total</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"performance\" className=\"space-y-4 pt-4\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <Medal className=\"h-5 w-5 text-purple-600\" />\r\n                                Performance Global\r\n                            </CardTitle>\r\n                            <CardDescription>\r\n                                Avaliação baseada em engajamento, sucesso de campanhas e avaliação de criadores.\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            {loading ? (\r\n                                <div className=\"space-y-4\">\r\n                                    {[...Array(5)].map((_, i) => (\r\n                                        <div key={i} className=\"flex items-center gap-4\">\r\n                                            <Skeleton className=\"h-8 w-8 rounded-full\" />\r\n                                            <div className=\"flex-1 space-y-2\">\r\n                                                <Skeleton className=\"h-4 w-48\" />\r\n                                                <Skeleton className=\"h-3 w-32\" />\r\n                                            </div>\r\n                                            <Skeleton className=\"h-6 w-24\" />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ) : comprehensiveRankings.length === 0 ? (\r\n                                <div className=\"py-8 text-center text-muted-foreground\">\r\n                                    Nenhum dado de performance disponível. Tente novamente mais tarde.\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-6\">\r\n                                    {comprehensiveRankings.map((brand, index) => (\r\n                                        <div key={brand.brand_id} className=\"flex items-start justify-between border-b pb-4 last:border-0 last:pb-0\">\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <div className={`flex h-10 w-10 items-center justify-center font-bold text-xl ${getMedalColor(index)}`}>\r\n                                                    {index + 1}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"font-medium text-lg\">{brand.brand_name}</div>\r\n                                                    <div className=\"flex gap-4 text-sm text-muted-foreground mt-1\">\r\n                                                        <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\r\n                                                            <Star className=\"h-3 w-3 text-yellow-500\" />\r\n                                                            {Number(brand.creator_rating || 0).toFixed(1)} Rating\r\n                                                        </Badge>\r\n                                                        <span className=\"flex items-center gap-1\">\r\n                                                            <CheckCircle className=\"h-3 w-3 text-green-500\" />\r\n                                                            {brand.successful_campaigns} sucessos\r\n                                                        </span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <div className=\"font-bold text-2xl text-purple-600\">\r\n                                                    {Number(brand.score || 0).toFixed(0)}\r\n                                                </div>\r\n                                                <div className=\"text-xs text-muted-foreground\">Pontuação Global</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\students\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":4,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":67},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":131,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4243,4246],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4243,4246],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":278,"column":61,"nodeType":"JSXOpeningElement","endLine":278,"endColumn":163}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchStudents'. Either include it or remove the dependency array.","line":72,"column":8,"nodeType":"ArrayExpression","endLine":72,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentPage, fetchStudents]","fix":{"range":[2089,2102],"text":"[currentPage, fetchStudents]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/presentation/components/ui/select\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuSeparator,\r\n} from \"@/presentation/components/ui/dropdown-menu\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport {\r\n    GraduationCap,\r\n    Search,\r\n    MoreHorizontal,\r\n    UserCheck,\r\n    UserX,\r\n    Trash2,\r\n    Calendar,\r\n    RefreshCw,\r\n    ChevronLeft,\r\n    ChevronRight,\r\n    Clock\r\n} from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\nimport Link from \"next/link\"\r\n\r\ninterface Student {\r\n    id: number\r\n    name: string\r\n    email: string\r\n    profile_image?: string\r\n    is_active: boolean\r\n    institution_name?: string\r\n    course_name?: string\r\n    student_verified_at: string\r\n    trial_ends_at?: string\r\n    created_at: string\r\n}\r\n\r\ninterface PaginationInfo {\r\n    current_page: number\r\n    last_page: number\r\n    per_page: number\r\n    total: number\r\n}\r\n\r\nexport default function AdminStudentsPage() {\r\n    const [students, setStudents] = useState<Student[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [statusFilter, setStatusFilter] = useState(\"all\")\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [pagination, setPagination] = useState<PaginationInfo | null>(null)\r\n    const [processingId, setProcessingId] = useState<number | null>(null)\r\n\r\n    useEffect(() => {\r\n        fetchStudents(currentPage)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentPage])\r\n\r\n    const fetchStudents = async (page = 1) => {\r\n        setLoading(true)\r\n        try {\r\n            const params = new URLSearchParams()\r\n            params.append(\"page\", String(page))\r\n            if (searchTerm) params.append(\"search\", searchTerm)\r\n            if (statusFilter !== \"all\") params.append(\"status\", statusFilter)\r\n\r\n            const response = await api.get<{\r\n                success: boolean\r\n                data: {\r\n                    data: Student[]\r\n                    current_page: number\r\n                    last_page: number\r\n                    per_page: number\r\n                    total: number\r\n                }\r\n            }>(`/admin/students?${params.toString()}`)\r\n\r\n            if (response.success) {\r\n                setStudents(response.data.data || [])\r\n                setPagination({\r\n                    current_page: response.data.current_page,\r\n                    last_page: response.data.last_page,\r\n                    per_page: response.data.per_page,\r\n                    total: response.data.total,\r\n                })\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch students:\", error)\r\n            toast.error(\"Falha ao carregar alunos\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleSearch = () => {\r\n        setCurrentPage(1)\r\n        fetchStudents(1)\r\n    }\r\n\r\n    const handleAction = async (studentId: number, action: \"activate\" | \"block\" | \"remove\") => {\r\n        if (action === \"remove\" && !confirm(\"Tem certeza que deseja remover este aluno?\")) return\r\n\r\n        setProcessingId(studentId)\r\n        try {\r\n            const response = await api.patch<{\r\n                success: boolean\r\n                message?: string\r\n            }>(`/admin/students/${studentId}/status`, { action })\r\n\r\n            if (response.success) {\r\n                toast.success(response.message || `Ação realizada com sucesso`)\r\n                fetchStudents(currentPage)\r\n            } else {\r\n                toast.error(response.message || \"Falha ao executar ação\")\r\n            }\r\n        } catch (error: any) {\r\n            console.error(`Failed to ${action} student:`, error)\r\n            toast.error(error.response?.data?.message || \"Falha ao atualizar aluno\")\r\n        } finally {\r\n            setProcessingId(null)\r\n        }\r\n    }\r\n\r\n    const handleExtendTrial = async (studentId: number) => {\r\n        const days = prompt(\"Quantos dias deseja adicionar ao período de teste?\", \"30\")\r\n        if (!days || isNaN(Number(days))) return\r\n\r\n        setProcessingId(studentId)\r\n        try {\r\n            const response = await api.patch<{ success: boolean; message?: string }>(\r\n                `/admin/students/${studentId}/trial`,\r\n                { days: Number(days) }\r\n            )\r\n\r\n            if (response.success) {\r\n                toast.success(response.message || \"Período de teste estendido\")\r\n                fetchStudents(currentPage)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to extend trial:\", error)\r\n            toast.error(\"Falha ao estender período de teste\")\r\n        } finally {\r\n            setProcessingId(null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <Badge variant=\"outline\" className=\"mb-2\">Alunos</Badge>\r\n                    <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                        Gerenciamento de Alunos\r\n                    </h1>\r\n                    <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                        Visualize e gerencie todos os alunos verificados na plataforma.\r\n                    </p>\r\n                </div>\r\n                <Button asChild>\r\n                    <Link href=\"/admin/students/verification\">\r\n                        Verificar Solicitações\r\n                    </Link>\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Search className=\"h-5 w-5\" />\r\n                        Filtros\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"flex flex-wrap items-end gap-4\">\r\n                        <div className=\"flex-1 min-w-[200px]\">\r\n                            <Input\r\n                                placeholder=\"Buscar por nome, email ou instituição...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-40\">\r\n                            <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Status\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos</SelectItem>\r\n                                    <SelectItem value=\"active\">Ativos</SelectItem>\r\n                                    <SelectItem value=\"blocked\">Bloqueados</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <Button onClick={handleSearch}>\r\n                            <Search className=\"mr-2 h-4 w-4\" />\r\n                            Buscar\r\n                        </Button>\r\n                        <Button variant=\"outline\" onClick={() => {\r\n                            setSearchTerm(\"\")\r\n                            setStatusFilter(\"all\")\r\n                            setCurrentPage(1)\r\n                            fetchStudents(1)\r\n                        }}>\r\n                            <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n                            Limpar\r\n                        </Button>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Students Table */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <GraduationCap className=\"h-5 w-5\" />\r\n                        Alunos Verificados\r\n                        {pagination && (\r\n                            <span className=\"ml-2 text-sm font-normal text-muted-foreground\">\r\n                                ({pagination.total} total)\r\n                            </span>\r\n                        )}\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {loading ? (\r\n                        <div className=\"space-y-4\">\r\n                            {[...Array(5)].map((_, i) => (\r\n                                <div key={i} className=\"flex items-center gap-4\">\r\n                                    <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n                                    <div className=\"flex-1 space-y-2\">\r\n                                        <Skeleton className=\"h-4 w-48\" />\r\n                                        <Skeleton className=\"h-3 w-32\" />\r\n                                    </div>\r\n                                    <Skeleton className=\"h-6 w-24\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : students.length === 0 ? (\r\n                        <div className=\"py-8 text-center text-muted-foreground\">\r\n                            Nenhum aluno encontrado\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                                <thead>\r\n                                    <tr className=\"border-b text-muted-foreground\">\r\n                                        <th className=\"px-4 py-3 text-left\">Aluno</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Instituição</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Status</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Período de Teste</th>\r\n                                        <th className=\"px-4 py-3 text-right\">Ações</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {students.map((student) => (\r\n                                        <tr key={student.id} className=\"border-b last:border-0 hover:bg-muted/50\">\r\n                                            <td className=\"px-4 py-3\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary\">\r\n                                                        {student.profile_image ? (\r\n                                                            <img src={student.profile_image} alt={student.name} className=\"h-10 w-10 rounded-full object-cover\" />\r\n                                                        ) : (\r\n                                                            student.name.charAt(0).toUpperCase()\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"font-medium\">{student.name}</div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">{student.email}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">\r\n                                                <div className=\"font-medium\">{student.institution_name || \"-\"}</div>\r\n                                                <div className=\"text-xs text-muted-foreground\">{student.course_name || \"-\"}</div>\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">\r\n                                                {student.is_active ? (\r\n                                                    <Badge className=\"bg-green-600\">Ativo</Badge>\r\n                                                ) : (\r\n                                                    <Badge variant=\"destructive\">Bloqueado</Badge>\r\n                                                )}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">\r\n                                                {student.trial_ends_at ? (\r\n                                                    <div className=\"flex items-center text-xs\">\r\n                                                        <Clock className=\"mr-1 h-3 w-3 text-muted-foreground\" />\r\n                                                        Até {new Date(student.trial_ends_at).toLocaleDateString(\"pt-BR\")}\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <span className=\"text-muted-foreground text-xs\">-</span>\r\n                                                )}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3 text-right\">\r\n                                                <DropdownMenu>\r\n                                                    <DropdownMenuTrigger asChild>\r\n                                                        <Button variant=\"ghost\" size=\"sm\" disabled={processingId === student.id}>\r\n                                                            {processingId === student.id ? (\r\n                                                                <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                                                            ) : (\r\n                                                                <MoreHorizontal className=\"h-4 w-4\" />\r\n                                                            )}\r\n                                                        </Button>\r\n                                                    </DropdownMenuTrigger>\r\n                                                    <DropdownMenuContent align=\"end\">\r\n                                                        <DropdownMenuItem onClick={() => handleExtendTrial(student.id)}>\r\n                                                            <Calendar className=\"mr-2 h-4 w-4\" />\r\n                                                            Estender Teste\r\n                                                        </DropdownMenuItem>\r\n                                                        <DropdownMenuSeparator />\r\n                                                        {student.is_active ? (\r\n                                                            <DropdownMenuItem\r\n                                                                onClick={() => handleAction(student.id, \"block\")}\r\n                                                                className=\"text-yellow-600\"\r\n                                                            >\r\n                                                                <UserX className=\"mr-2 h-4 w-4\" />\r\n                                                                Bloquear\r\n                                                            </DropdownMenuItem>\r\n                                                        ) : (\r\n                                                            <DropdownMenuItem\r\n                                                                onClick={() => handleAction(student.id, \"activate\")}\r\n                                                                className=\"text-green-600\"\r\n                                                            >\r\n                                                                <UserCheck className=\"mr-2 h-4 w-4\" />\r\n                                                                Ativar\r\n                                                            </DropdownMenuItem>\r\n                                                        )}\r\n                                                        <DropdownMenuItem\r\n                                                            onClick={() => handleAction(student.id, \"remove\")}\r\n                                                            className=\"text-red-600\"\r\n                                                        >\r\n                                                            <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                                            Remover\r\n                                                        </DropdownMenuItem>\r\n                                                    </DropdownMenuContent>\r\n                                                </DropdownMenu>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Pagination */}\r\n                    {pagination && pagination.last_page > 1 && (\r\n                        <div className=\"mt-4 flex items-center justify-between\">\r\n                            <div className=\"text-sm text-muted-foreground\">\r\n                                Página {pagination.current_page} de {pagination.last_page}\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                                    disabled={currentPage === 1}\r\n                                >\r\n                                    <ChevronLeft className=\"h-4 w-4\" />\r\n                                    Anterior\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                                    disabled={currentPage === pagination.last_page}\r\n                                >\r\n                                    Próximo\r\n                                    <ChevronRight className=\"h-4 w-4\" />\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\students\\verification\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":23,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogFooter,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport {\r\n    GraduationCap,\r\n    CheckCircle,\r\n    XCircle,\r\n    Eye,\r\n    FileText,\r\n    Calendar,\r\n    School,\r\n    RefreshCw\r\n} from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface VerificationRequest {\r\n    id: number\r\n    user_id: number\r\n    user_name: string\r\n    user_email: string\r\n    institution_name: string\r\n    course_name: string\r\n    document_url: string\r\n    status: \"pending\" | \"approved\" | \"rejected\"\r\n    created_at: string\r\n}\r\n\r\nexport default function AdminStudentVerificationPage() {\r\n    const [requests, setRequests] = useState<VerificationRequest[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    // Action States\r\n    const [selectedRequest, setSelectedRequest] = useState<VerificationRequest | null>(null)\r\n    const [rejectReason, setRejectReason] = useState(\"\")\r\n    const [rejectDialogOpen, setRejectDialogOpen] = useState(false)\r\n    const [actionLoading, setActionLoading] = useState(false)\r\n    const [viewDocumentOpen, setViewDocumentOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        fetchRequests()\r\n    }, [])\r\n\r\n    const fetchRequests = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const response = await api.get<{ success: boolean; data: VerificationRequest[] }>(\"/admin/student-requests\")\r\n            if (response.success) {\r\n                setRequests(response.data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch verification requests:\", error)\r\n            toast.error(\"Falha ao carregar solicitações\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleApprove = async (id: number) => {\r\n        setActionLoading(true)\r\n        try {\r\n            const response = await api.patch<{ success: boolean; message?: string }>(`/admin/student-requests/${id}/approve`)\r\n            if (response.success) {\r\n                toast.success(response.message || \"Solicitação aprovada com sucesso\")\r\n                setSelectedRequest(null)\r\n                fetchRequests()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to approve request:\", error)\r\n            toast.error(\"Falha ao aprovar solicitação\")\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleReject = async () => {\r\n        if (!selectedRequest || !rejectReason) return\r\n\r\n        setActionLoading(true)\r\n        try {\r\n            const response = await api.patch<{ success: boolean; message?: string }>(\r\n                `/admin/student-requests/${selectedRequest.id}/reject`,\r\n                { reason: rejectReason }\r\n            )\r\n            if (response.success) {\r\n                toast.success(response.message || \"Solicitação rejeitada com sucesso\")\r\n                setRejectDialogOpen(false)\r\n                setRejectReason(\"\")\r\n                setSelectedRequest(null)\r\n                fetchRequests()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to reject request:\", error)\r\n            toast.error(\"Falha ao rejeitar solicitação\")\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            <div>\r\n                <Badge variant=\"outline\" className=\"mb-2\">Verificação</Badge>\r\n                <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                    Verificação de Alunos\r\n                </h1>\r\n                <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                    Analise e aprove os documentos comprobatórios de vínculo estudantil.\r\n                </p>\r\n            </div>\r\n\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <GraduationCap className=\"h-5 w-5\" />\r\n                        Solicitações Pendentes\r\n                    </CardTitle>\r\n                    <CardDescription>\r\n                        Lista de usuários aguardando verificação de estudante.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {loading ? (\r\n                        <div className=\"space-y-4\">\r\n                            {[...Array(3)].map((_, i) => (\r\n                                <div key={i} className=\"flex items-center gap-4 border p-4 rounded-lg\">\r\n                                    <Skeleton className=\"h-12 w-12 rounded-full\" />\r\n                                    <div className=\"flex-1 space-y-2\">\r\n                                        <Skeleton className=\"h-4 w-48\" />\r\n                                        <Skeleton className=\"h-3 w-32\" />\r\n                                    </div>\r\n                                    <Skeleton className=\"h-10 w-32\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : requests.length === 0 ? (\r\n                        <div className=\"py-12 text-center text-muted-foreground\">\r\n                            <CheckCircle className=\"mx-auto mb-4 h-12 w-12 text-green-500/20\" />\r\n                            <h3 className=\"text-lg font-medium\">Tudo limpo!</h3>\r\n                            <p className=\"mt-1\">Não há soicitações de verificação pendentes no momento.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid gap-4\">\r\n                            {requests.map((request) => (\r\n                                <div key={request.id} className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4 border p-4 rounded-lg bg-card hover:bg-muted/50 transition-colors\">\r\n                                    <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary shrink-0\">\r\n                                        <GraduationCap className=\"h-6 w-6\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"flex items-center gap-2 mb-1\">\r\n                                            <h4 className=\"font-semibold text-base\">{request.user_name}</h4>\r\n                                            <Badge variant=\"outline\" className=\"text-xs font-normal\">\r\n                                                {new Date(request.created_at).toLocaleDateString(\"pt-BR\")}\r\n                                            </Badge>\r\n                                        </div>\r\n                                        <div className=\"grid sm:grid-cols-2 gap-x-4 gap-y-1 text-sm text-muted-foreground\">\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <School className=\"h-3 w-3\" />\r\n                                                <span className=\"truncate\">{request.institution_name}</span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <FileText className=\"h-3 w-3\" />\r\n                                                <span className=\"truncate\">{request.course_name}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0\">\r\n                                        <Button\r\n                                            variant=\"outline\"\r\n                                            size=\"sm\"\r\n                                            onClick={() => {\r\n                                                setSelectedRequest(request)\r\n                                                setViewDocumentOpen(true)\r\n                                            }}\r\n                                        >\r\n                                            <Eye className=\"mr-2 h-4 w-4\" />\r\n                                            Ver Documento\r\n                                        </Button>\r\n                                        <div className=\"flex gap-1\">\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                className=\"bg-green-600 hover:bg-green-700\"\r\n                                                onClick={() => handleApprove(request.id)}\r\n                                                disabled={actionLoading}\r\n                                            >\r\n                                                <CheckCircle className=\"h-4 w-4\" />\r\n                                                <span className=\"sr-only\">Aprovar</span>\r\n                                            </Button>\r\n                                            <Button\r\n                                                variant=\"destructive\"\r\n                                                size=\"sm\"\r\n                                                onClick={() => {\r\n                                                    setSelectedRequest(request)\r\n                                                    setRejectDialogOpen(true)\r\n                                                }}\r\n                                                disabled={actionLoading}\r\n                                            >\r\n                                                <XCircle className=\"h-4 w-4\" />\r\n                                                <span className=\"sr-only\">Rejeitar</span>\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Document Viewer Dialog */}\r\n            <Dialog open={viewDocumentOpen} onOpenChange={setViewDocumentOpen}>\r\n                <DialogContent className=\"max-w-4xl max-h-[90vh]\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Documento de Verificação</DialogTitle>\r\n                        <DialogDescription>\r\n                            {selectedRequest?.user_name} - {selectedRequest?.institution_name}\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <div className=\"flex-1 bg-muted rounded-md overflow-auto min-h-100 flex items-center justify-center\">\r\n                        {selectedRequest?.document_url ? (\r\n                            <iframe\r\n                                src={selectedRequest.document_url}\r\n                                className=\"w-full h-full min-h-125\"\r\n                                title=\"Documento\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"text-muted-foreground flex flex-col items-center\">\r\n                                <FileText className=\"h-12 w-12 mb-2\" />\r\n                                Documento não disponível\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <DialogFooter className=\"gap-2\">\r\n                        <Button variant=\"outline\" onClick={() => setViewDocumentOpen(false)}>Fechar</Button>\r\n                        {selectedRequest && (\r\n                            <>\r\n                                <Button\r\n                                    variant=\"destructive\"\r\n                                    onClick={() => {\r\n                                        setViewDocumentOpen(false)\r\n                                        setRejectDialogOpen(true)\r\n                                    }}\r\n                                >\r\n                                    Rejeitar\r\n                                </Button>\r\n                                <Button\r\n                                    className=\"bg-green-600 hover:bg-green-700\"\r\n                                    onClick={() => {\r\n                                        handleApprove(selectedRequest.id)\r\n                                        setViewDocumentOpen(false)\r\n                                    }}\r\n                                >\r\n                                    Aprovar\r\n                                </Button>\r\n                            </>\r\n                        )}\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Reject Reason Dialog */}\r\n            <Dialog open={rejectDialogOpen} onOpenChange={setRejectDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Rejeitar Verificação</DialogTitle>\r\n                        <DialogDescription>\r\n                            Informe o motivo para rejeitar a solicitação de {selectedRequest?.user_name}.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <div className=\"py-4\">\r\n                        <Textarea\r\n                            placeholder=\"Ex: Documento ilegível ou data de validade expirada...\"\r\n                            value={rejectReason}\r\n                            onChange={(e) => setRejectReason(e.target.value)}\r\n                            className=\"min-h-25\"\r\n                        />\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setRejectDialogOpen(false)}>Cancelar</Button>\r\n                        <Button\r\n                            variant=\"destructive\"\r\n                            onClick={handleReject}\r\n                            disabled={actionLoading || !rejectReason.trim()}\r\n                        >\r\n                            {actionLoading && <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                            Confirmar Rejeição\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":389,"column":61,"nodeType":"JSXOpeningElement","endLine":389,"endColumn":157},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":502,"column":41,"nodeType":"JSXOpeningElement","endLine":502,"endColumn":153}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.","line":152,"column":8,"nodeType":"ArrayExpression","endLine":152,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentPage, fetchUsers]","fix":{"range":[4702,4715],"text":"[currentPage, fetchUsers]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/presentation/components/ui/select\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuSeparator,\r\n} from \"@/presentation/components/ui/dropdown-menu\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport { Skeleton } from \"@/presentation/components/ui/skeleton\"\r\nimport {\r\n    Users,\r\n    Search,\r\n    MoreHorizontal,\r\n    UserCheck,\r\n    UserX,\r\n    Trash2,\r\n    Building2,\r\n    Palette,\r\n    Crown,\r\n    RefreshCw,\r\n    Eye,\r\n    Mail,\r\n    Calendar,\r\n    Shield,\r\n    ChevronLeft,\r\n    ChevronRight\r\n} from \"lucide-react\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface User {\r\n    id: number\r\n    name: string\r\n    email: string\r\n    role: \"creator\" | \"brand\" | \"admin\"\r\n    profile_image?: string\r\n    is_active: boolean\r\n    email_verified_at: string | null\r\n    created_at: string\r\n    last_login_at: string | null\r\n    account_status: string\r\n    time_on_platform: string\r\n    total_campaigns?: number\r\n    total_applications?: number\r\n    company_name?: string\r\n}\r\n\r\ninterface UserStatistics {\r\n    total_users: number\r\n    total_creators: number\r\n    total_brands: number\r\n    active_users: number\r\n    blocked_users: number\r\n    pending_verification: number\r\n}\r\n\r\ninterface PaginationInfo {\r\n    current_page: number\r\n    last_page: number\r\n    per_page: number\r\n    total: number\r\n}\r\n\r\nexport default function AdminUsersPage() {\r\n    const [users, setUsers] = useState<User[]>([])\r\n    const [statistics, setStatistics] = useState<UserStatistics | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [roleFilter, setRoleFilter] = useState(\"all\")\r\n    const [statusFilter, setStatusFilter] = useState(\"all\")\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [pagination, setPagination] = useState<PaginationInfo | null>(null)\r\n    const [selectedUser, setSelectedUser] = useState<User | null>(null)\r\n    const [processingUserId, setProcessingUserId] = useState<number | null>(null)\r\n\r\n    const fetchUsers = useCallback(async (page = 1) => {\r\n        setLoading(true)\r\n        try {\r\n            const params = new URLSearchParams()\r\n            params.append(\"page\", String(page))\r\n            if (searchTerm) params.append(\"search\", searchTerm)\r\n            if (roleFilter !== \"all\") params.append(\"role\", roleFilter)\r\n            if (statusFilter !== \"all\") params.append(\"status\", statusFilter)\r\n\r\n            const response = await api.get<{\r\n                success: boolean\r\n                data: {\r\n                    data: User[]\r\n                    current_page: number\r\n                    last_page: number\r\n                    per_page: number\r\n                    total: number\r\n                }\r\n            }>(`/admin/users?${params.toString()}`)\r\n\r\n            if (response.success) {\r\n                setUsers(response.data.data || [])\r\n                setPagination({\r\n                    current_page: response.data.current_page,\r\n                    last_page: response.data.last_page,\r\n                    per_page: response.data.per_page,\r\n                    total: response.data.total,\r\n                })\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch users:\", error)\r\n            toast.error(\"Falha ao carregar usuários\")\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }, [searchTerm, roleFilter, statusFilter])\r\n\r\n    const fetchStatistics = async () => {\r\n        try {\r\n            const response = await api.get<{\r\n                success: boolean\r\n                data: UserStatistics\r\n            }>(\"/admin/users/statistics\")\r\n\r\n            if (response.success) {\r\n                setStatistics(response.data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch user statistics:\", error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchUsers(currentPage)\r\n        fetchStatistics()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentPage])\r\n\r\n    const handleSearch = () => {\r\n        setCurrentPage(1)\r\n        fetchUsers(1)\r\n    }\r\n\r\n    const handleUserAction = async (userId: number, action: \"activate\" | \"block\" | \"remove\") => {\r\n        setProcessingUserId(userId)\r\n        try {\r\n            const response = await api.patch<{\r\n                success: boolean\r\n                message?: string\r\n            }>(`/admin/users/${userId}/status`, { action })\r\n\r\n            if (response.success) {\r\n                toast.success(response.message || `Usuário ${action === \"activate\" ? \"ativado\" : action === \"block\" ? \"bloqueado\" : \"removido\"} com sucesso`)\r\n                fetchUsers(currentPage)\r\n                fetchStatistics()\r\n            } else {\r\n                toast.error(response.message || \"Falha ao executar ação\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to update user:\", error)\r\n            toast.error(\"Falha ao atualizar usuário\")\r\n        } finally {\r\n            setProcessingUserId(null)\r\n        }\r\n    }\r\n\r\n    const getRoleBadge = (role: string) => {\r\n        switch (role) {\r\n            case \"creator\":\r\n                return <Badge variant=\"secondary\" className=\"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300\"><Palette className=\"mr-1 h-3 w-3\" />Criador</Badge>\r\n            case \"brand\":\r\n                return <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300\"><Building2 className=\"mr-1 h-3 w-3\" />Marca</Badge>\r\n            case \"admin\":\r\n                return <Badge variant=\"secondary\" className=\"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300\"><Crown className=\"mr-1 h-3 w-3\" />Admin</Badge>\r\n            default:\r\n                return <Badge variant=\"outline\">{role}</Badge>\r\n        }\r\n    }\r\n\r\n    const getStatusBadge = (user: User) => {\r\n        if (!user.is_active) {\r\n            return <Badge variant=\"destructive\">Bloqueado</Badge>\r\n        }\r\n        if (!user.email_verified_at) {\r\n            return <Badge variant=\"outline\" className=\"border-yellow-500 text-yellow-600\">Não verificado</Badge>\r\n        }\r\n        return <Badge variant=\"default\" className=\"bg-green-600\">Ativo</Badge>\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6\">\r\n            {/* Header */}\r\n            <div>\r\n                <Badge variant=\"outline\" className=\"mb-2\">Usuários</Badge>\r\n                <h1 className=\"text-2xl font-bold tracking-tight text-foreground sm:text-3xl\">\r\n                    Gerenciamento de Usuários\r\n                </h1>\r\n                <p className=\"mt-1 max-w-2xl text-sm text-muted-foreground\">\r\n                    Visualize e gerencie todos os usuários da plataforma.\r\n                </p>\r\n            </div>\r\n\r\n            {/* Statistics Cards */}\r\n            {statistics && (\r\n                <div className=\"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6\">\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold\">{statistics.total_users}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Criadores</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold text-purple-600\">{statistics.total_creators}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Marcas</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold text-blue-600\">{statistics.total_brands}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Ativos</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold text-green-600\">{statistics.active_users}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Bloqueados</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold text-red-600\">{statistics.blocked_users}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card>\r\n                        <CardHeader className=\"pb-2\">\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pendentes</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-2xl font-bold text-yellow-600\">{statistics.pending_verification}</div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            )}\r\n\r\n            {/* Filters */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Search className=\"h-5 w-5\" />\r\n                        Filtros\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"flex flex-wrap items-end gap-4\">\r\n                        <div className=\"flex-1 min-w-[200px]\">\r\n                            <Input\r\n                                placeholder=\"Buscar por nome ou email...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-40\">\r\n                            <Select value={roleFilter} onValueChange={setRoleFilter}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Tipo\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos os tipos</SelectItem>\r\n                                    <SelectItem value=\"creator\">Criadores</SelectItem>\r\n                                    <SelectItem value=\"brand\">Marcas</SelectItem>\r\n                                    <SelectItem value=\"admin\">Admins</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <div className=\"w-40\">\r\n                            <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue placeholder=\"Status\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"all\">Todos</SelectItem>\r\n                                    <SelectItem value=\"active\">Ativos</SelectItem>\r\n                                    <SelectItem value=\"blocked\">Bloqueados</SelectItem>\r\n                                    <SelectItem value=\"unverified\">Não verificados</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <Button onClick={handleSearch}>\r\n                            <Search className=\"mr-2 h-4 w-4\" />\r\n                            Buscar\r\n                        </Button>\r\n                        <Button variant=\"outline\" onClick={() => {\r\n                            setSearchTerm(\"\")\r\n                            setRoleFilter(\"all\")\r\n                            setStatusFilter(\"all\")\r\n                            setCurrentPage(1)\r\n                            fetchUsers(1)\r\n                        }}>\r\n                            <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n                            Limpar\r\n                        </Button>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Users Table */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Users className=\"h-5 w-5\" />\r\n                        Usuários\r\n                        {pagination && (\r\n                            <span className=\"ml-2 text-sm font-normal text-muted-foreground\">\r\n                                ({pagination.total} total)\r\n                            </span>\r\n                        )}\r\n                    </CardTitle>\r\n                    <CardDescription>\r\n                        Lista de todos os usuários cadastrados na plataforma.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {loading ? (\r\n                        <div className=\"space-y-4\">\r\n                            {[...Array(5)].map((_, i) => (\r\n                                <div key={i} className=\"flex items-center gap-4\">\r\n                                    <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n                                    <div className=\"flex-1 space-y-2\">\r\n                                        <Skeleton className=\"h-4 w-48\" />\r\n                                        <Skeleton className=\"h-3 w-32\" />\r\n                                    </div>\r\n                                    <Skeleton className=\"h-6 w-20\" />\r\n                                    <Skeleton className=\"h-6 w-16\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : users.length === 0 ? (\r\n                        <div className=\"py-8 text-center text-muted-foreground\">\r\n                            Nenhum usuário encontrado\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                                <thead>\r\n                                    <tr className=\"border-b text-muted-foreground\">\r\n                                        <th className=\"px-4 py-3 text-left\">Usuário</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Tipo</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Status</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Cadastro</th>\r\n                                        <th className=\"px-4 py-3 text-left\">Tempo</th>\r\n                                        <th className=\"px-4 py-3 text-right\">Ações</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {users.map((user) => (\r\n                                        <tr key={user.id} className=\"border-b last:border-0 hover:bg-muted/50\">\r\n                                            <td className=\"px-4 py-3\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary\">\r\n                                                        {user.profile_image ? (\r\n                                                            <img src={user.profile_image} alt={user.name} className=\"h-10 w-10 rounded-full object-cover\" />\r\n                                                        ) : (\r\n                                                            user.name.charAt(0).toUpperCase()\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <div className=\"font-medium\">{user.name}</div>\r\n                                                        <div className=\"text-xs text-muted-foreground\">{user.email}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3\">{getRoleBadge(user.role)}</td>\r\n                                            <td className=\"px-4 py-3\">{getStatusBadge(user)}</td>\r\n                                            <td className=\"px-4 py-3 text-muted-foreground\">\r\n                                                {new Date(user.created_at).toLocaleDateString(\"pt-BR\")}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3 text-muted-foreground\">\r\n                                                {user.time_on_platform}\r\n                                            </td>\r\n                                            <td className=\"px-4 py-3 text-right\">\r\n                                                <DropdownMenu>\r\n                                                    <DropdownMenuTrigger asChild>\r\n                                                        <Button variant=\"ghost\" size=\"sm\" disabled={processingUserId === user.id}>\r\n                                                            {processingUserId === user.id ? (\r\n                                                                <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                                                            ) : (\r\n                                                                <MoreHorizontal className=\"h-4 w-4\" />\r\n                                                            )}\r\n                                                        </Button>\r\n                                                    </DropdownMenuTrigger>\r\n                                                    <DropdownMenuContent align=\"end\">\r\n                                                        <DropdownMenuItem onClick={() => setSelectedUser(user)}>\r\n                                                            <Eye className=\"mr-2 h-4 w-4\" />\r\n                                                            Ver detalhes\r\n                                                        </DropdownMenuItem>\r\n                                                        <DropdownMenuSeparator />\r\n                                                        {user.is_active ? (\r\n                                                            <DropdownMenuItem\r\n                                                                onClick={() => handleUserAction(user.id, \"block\")}\r\n                                                                className=\"text-yellow-600\"\r\n                                                            >\r\n                                                                <UserX className=\"mr-2 h-4 w-4\" />\r\n                                                                Bloquear\r\n                                                            </DropdownMenuItem>\r\n                                                        ) : (\r\n                                                            <DropdownMenuItem\r\n                                                                onClick={() => handleUserAction(user.id, \"activate\")}\r\n                                                                className=\"text-green-600\"\r\n                                                            >\r\n                                                                <UserCheck className=\"mr-2 h-4 w-4\" />\r\n                                                                Ativar\r\n                                                            </DropdownMenuItem>\r\n                                                        )}\r\n                                                        <DropdownMenuItem\r\n                                                            onClick={() => handleUserAction(user.id, \"remove\")}\r\n                                                            className=\"text-red-600\"\r\n                                                        >\r\n                                                            <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                                            Remover\r\n                                                        </DropdownMenuItem>\r\n                                                    </DropdownMenuContent>\r\n                                                </DropdownMenu>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Pagination */}\r\n                    {pagination && pagination.last_page > 1 && (\r\n                        <div className=\"mt-4 flex items-center justify-between\">\r\n                            <div className=\"text-sm text-muted-foreground\">\r\n                                Página {pagination.current_page} de {pagination.last_page}\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage - 1)}\r\n                                    disabled={currentPage === 1}\r\n                                >\r\n                                    <ChevronLeft className=\"h-4 w-4\" />\r\n                                    Anterior\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setCurrentPage(currentPage + 1)}\r\n                                    disabled={currentPage === pagination.last_page}\r\n                                >\r\n                                    Próximo\r\n                                    <ChevronRight className=\"h-4 w-4\" />\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* User Details Dialog */}\r\n            <Dialog open={!!selectedUser} onOpenChange={() => setSelectedUser(null)}>\r\n                <DialogContent className=\"max-w-lg\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Detalhes do Usuário</DialogTitle>\r\n                        <DialogDescription>Informações completas do usuário</DialogDescription>\r\n                    </DialogHeader>\r\n                    {selectedUser && (\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-primary/10 text-2xl font-bold text-primary\">\r\n                                    {selectedUser.profile_image ? (\r\n                                        <img src={selectedUser.profile_image} alt={selectedUser.name} className=\"h-16 w-16 rounded-full object-cover\" />\r\n                                    ) : (\r\n                                        selectedUser.name.charAt(0).toUpperCase()\r\n                                    )}\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-lg font-semibold\">{selectedUser.name}</h3>\r\n                                    {selectedUser.company_name && (\r\n                                        <p className=\"text-sm text-muted-foreground\">{selectedUser.company_name}</p>\r\n                                    )}\r\n                                    {getRoleBadge(selectedUser.role)}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid gap-3\">\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                                    <span>{selectedUser.email}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                                    <span>Cadastrado em {new Date(selectedUser.created_at).toLocaleDateString(\"pt-BR\")}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <Shield className=\"h-4 w-4 text-muted-foreground\" />\r\n                                    <span>Status: {selectedUser.account_status}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-2 pt-4\">\r\n                                {selectedUser.is_active ? (\r\n                                    <Button variant=\"outline\" className=\"flex-1 text-yellow-600\" onClick={() => {\r\n                                        handleUserAction(selectedUser.id, \"block\")\r\n                                        setSelectedUser(null)\r\n                                    }}>\r\n                                        <UserX className=\"mr-2 h-4 w-4\" />\r\n                                        Bloquear\r\n                                    </Button>\r\n                                ) : (\r\n                                    <Button variant=\"outline\" className=\"flex-1 text-green-600\" onClick={() => {\r\n                                        handleUserAction(selectedUser.id, \"activate\")\r\n                                        setSelectedUser(null)\r\n                                    }}>\r\n                                        <UserCheck className=\"mr-2 h-4 w-4\" />\r\n                                        Ativar\r\n                                    </Button>\r\n                                )}\r\n                                <Button variant=\"destructive\" className=\"flex-1\" onClick={() => {\r\n                                    handleUserAction(selectedUser.id, \"remove\")\r\n                                    setSelectedUser(null)\r\n                                }}>\r\n                                    <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                                    Remover\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\admin\\withdrawals\\verification\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Alert' is defined but never used.","line":35,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertDescription' is defined but never used.","line":35,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTitle' is defined but never used.","line":35,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":45}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchVerificationReport'. Either include it or remove the dependency array.","line":195,"column":6,"nodeType":"ArrayExpression","endLine":195,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchVerificationReport]","fix":{"range":[5786,5788],"text":"[fetchVerificationReport]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { format } from \"date-fns\"\r\nimport { ptBR } from \"date-fns/locale\"\r\nimport {\r\n  Calendar as CalendarIcon,\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  AlertTriangle,\r\n  Eye,\r\n  Calendar,\r\n  X,\r\n} from \"lucide-react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Badge } from \"@/presentation/components/ui/badge\"\r\nimport { Label } from \"@/presentation/components/ui/label\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/presentation/components/ui/select\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport { Alert, AlertDescription, AlertTitle } from \"@/presentation/components/ui/alert\"\r\nimport { Separator } from \"@/presentation/components/ui/separator\"\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/presentation/components/ui/popover\"\r\nimport { Calendar as CalendarComponent } from \"@/presentation/components/ui/calendar\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { toast } from \"sonner\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { BankInfo } from \"@/domain/entities/financial\"\r\n\r\ninterface WithdrawalVerificationItem {\r\n  id: number\r\n  amount: string\r\n  withdrawal_method: string\r\n  status: string\r\n  transaction_id: string | null\r\n  processed_at: string | null\r\n  creator: {\r\n    id: number\r\n    name: string\r\n    email: string\r\n  }\r\n  verification_status: \"passed\" | \"failed\" | \"pending\"\r\n  bank_details_match: boolean\r\n  amount_verification: boolean\r\n}\r\n\r\ninterface VerificationReport {\r\n  summary: {\r\n    total_withdrawals: number\r\n    total_amount: number\r\n    verification_passed: number\r\n    verification_failed: number\r\n    pending_verification: number\r\n  }\r\n  withdrawals: WithdrawalVerificationItem[]\r\n  pagination: {\r\n    current_page: number\r\n    last_page: number\r\n    per_page: number\r\n    total: number\r\n  }\r\n}\r\n\r\ninterface DetailedVerification {\r\n  withdrawal: {\r\n    id: number\r\n    amount: string\r\n    withdrawal_method: string\r\n    status: string\r\n    transaction_id: string | null\r\n    processed_at: string | null\r\n    created_at: string\r\n    withdrawal_details: Record<string, unknown>\r\n  }\r\n  creator: {\r\n    id: number\r\n    name: string\r\n    email: string\r\n  }\r\n  bank_account_verification: {\r\n    withdrawal_bank_details: BankInfo | null\r\n    current_bank_account: BankInfo | null\r\n    details_match: boolean\r\n  }\r\n  verification_summary: {\r\n    withdrawal_amount_correct: boolean\r\n    bank_details_consistent: boolean\r\n    transaction_id_valid: boolean\r\n    processing_time_reasonable: boolean\r\n    overall_verification_status: string\r\n  }\r\n}\r\n\r\nfunction translateWithdrawalStatus(status: string) {\r\n  const map: Record<string, string> = {\r\n    pending: \"Pendente\",\r\n    processing: \"Processando\",\r\n    completed: \"Concluído\",\r\n    failed: \"Falhou\",\r\n    cancelled: \"Cancelado\",\r\n  }\r\n  const key = status.toLowerCase()\r\n  return map[key] ?? status\r\n}\r\n\r\nfunction WithdrawalVerificationContent() {\r\n  const [report, setReport] = useState<VerificationReport | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [filters, setFilters] = useState({\r\n    start_date: \"\",\r\n    end_date: \"\",\r\n    status: \"all\",\r\n    withdrawal_method: \"all\",\r\n  })\r\n\r\n  const [startDate, setStartDate] = useState<Date | undefined>(undefined)\r\n  const [endDate, setEndDate] = useState<Date | undefined>(undefined)\r\n  const [selectedWithdrawal, setSelectedWithdrawal] = useState<DetailedVerification | null>(null)\r\n  const [detailedLoading, setDetailedLoading] = useState(false)\r\n  const [processingWithdrawalId, setProcessingWithdrawalId] = useState<number | null>(null)\r\n\r\n  const fetchVerificationReport = async (page = 1) => {\r\n    setLoading(true)\r\n    try {\r\n      const params = new URLSearchParams()\r\n      if (filters.start_date) params.append(\"start_date\", filters.start_date)\r\n      if (filters.end_date) params.append(\"end_date\", filters.end_date)\r\n      if (filters.status && filters.status !== \"all\") params.append(\"status\", filters.status)\r\n      if (filters.withdrawal_method && filters.withdrawal_method !== \"all\") {\r\n        params.append(\"withdrawal_method\", filters.withdrawal_method)\r\n      }\r\n      if (page > 1) {\r\n        params.append(\"page\", String(page))\r\n      }\r\n\r\n      const response = await api.get<{\r\n        success: boolean\r\n        data: VerificationReport\r\n      }>(\"/admin/payouts/verification-report?\" + params.toString())\r\n\r\n      if (!response.success) {\r\n        toast.error(\"Falha ao carregar relatório de verificação\")\r\n        setReport(null)\r\n        return\r\n      }\r\n\r\n      setReport(response.data)\r\n    } catch {\r\n      toast.error(\"Falha ao carregar relatório de verificação\")\r\n      setReport(null)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchDetailedVerification = async (withdrawalId: number) => {\r\n    setDetailedLoading(true)\r\n    try {\r\n      const response = await api.get<{\r\n        success: boolean\r\n        data: DetailedVerification\r\n      }>(`/admin/payouts/${withdrawalId}/verify`)\r\n\r\n      if (!response.success) {\r\n        toast.error(\"Falha ao carregar detalhes da verificação\")\r\n        return\r\n      }\r\n\r\n      setSelectedWithdrawal(response.data)\r\n    } catch {\r\n      toast.error(\"Falha ao carregar detalhes da verificação\")\r\n    } finally {\r\n      setDetailedLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchVerificationReport(1)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const handlePageChange = (page: number) => {\r\n    if (!report) return\r\n    if (page < 1 || page > report.pagination.last_page) return\r\n    setCurrentPage(page)\r\n    fetchVerificationReport(page)\r\n  }\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case \"passed\":\r\n        return <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n      case \"failed\":\r\n        return <XCircle className=\"h-4 w-4 text-red-600\" />\r\n      case \"pending\":\r\n        return <Clock className=\"h-4 w-4 text-yellow-600\" />\r\n      default:\r\n        return <AlertTriangle className=\"h-4 w-4 text-gray-600\" />\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case \"passed\":\r\n        return <Badge className=\"bg-green-100 text-green-800\">Verificado</Badge>\r\n      case \"failed\":\r\n        return <Badge className=\"bg-red-100 text-red-800\">Falha</Badge>\r\n      case \"pending\":\r\n        return <Badge className=\"bg-yellow-100 text-yellow-800\">Pendente</Badge>\r\n      default:\r\n        return <Badge className=\"bg-gray-100 text-gray-800\">Desconhecido</Badge>\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (amount: string) => {\r\n    const numeric = parseFloat(\r\n      amount\r\n        .replace(\"R$ \", \"\")\r\n        .replace(/\\./g, \"\")\r\n        .replace(\",\", \".\")\r\n    )\r\n\r\n    if (Number.isNaN(numeric)) {\r\n      return amount\r\n    }\r\n\r\n    return new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(numeric)\r\n  }\r\n\r\n  const handleProcessWithdrawal = async (\r\n    withdrawalId: number,\r\n    action: \"approve\" | \"reject\"\r\n  ) => {\r\n    let reason = \"\"\r\n    if (action === \"reject\") {\r\n      const input = window.prompt(\"Informe o motivo da recusa (opcional):\") ?? \"\"\r\n      reason = input\r\n    }\r\n\r\n    setProcessingWithdrawalId(withdrawalId)\r\n    try {\r\n      const response = await api.post<{\r\n        success: boolean\r\n        message?: string\r\n      }>(`/admin/payouts/${withdrawalId}/process`, {\r\n        action,\r\n        reason: reason || undefined,\r\n      })\r\n\r\n      if (!response.success) {\r\n        toast.error(response.message || \"Falha ao processar saque\")\r\n        return\r\n      }\r\n\r\n      toast.success(\r\n        response.message ||\r\n        (action === \"approve\"\r\n          ? \"Saque aprovado com sucesso\"\r\n          : \"Saque rejeitado com sucesso\")\r\n      )\r\n      fetchVerificationReport(currentPage)\r\n    } catch {\r\n      toast.error(\"Falha ao processar saque\")\r\n    } finally {\r\n      setProcessingWithdrawalId(null)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6\">\r\n      <div className=\"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold tracking-tight sm:text-3xl\">\r\n            Verificação de Saques\r\n          </h1>\r\n          <p className=\"mt-1 text-sm text-muted-foreground sm:text-base\">\r\n            Verifique se os fundos foram retirados corretamente para as contas bancárias\r\n            registradas.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border\">\r\n        <CardHeader className=\"pb-4\">\r\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n            <Calendar className=\"h-5 w-5 text-primary\" />\r\n            Filtros de Verificação\r\n          </CardTitle>\r\n          <CardDescription>\r\n            Configure os filtros para verificar saques específicos\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 gap-4 md:grid-cols-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"start_date\" className=\"text-sm font-medium\">\r\n                Data Inicial\r\n              </Label>\r\n              <Popover>\r\n                <PopoverTrigger asChild>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className={cn(\r\n                      \"w-full justify-start text-left font-normal\",\r\n                      !startDate && \"text-muted-foreground\"\r\n                    )}\r\n                  >\r\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                    {startDate ? format(startDate, \"PPP\", { locale: ptBR }) : \"Selecione uma data\"}\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n                  <CalendarComponent\r\n                    mode=\"single\"\r\n                    selected={startDate}\r\n                    onSelect={(date) => {\r\n                      setStartDate(date ?? undefined)\r\n                      setFilters({\r\n                        ...filters,\r\n                        start_date: date ? format(date, \"yyyy-MM-dd\") : \"\",\r\n                      })\r\n                    }}\r\n                    initialFocus\r\n                    locale={ptBR}\r\n                    className=\"rounded-md border\"\r\n                  />\r\n                </PopoverContent>\r\n              </Popover>\r\n              {startDate && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setStartDate(undefined)\r\n                    setFilters({ ...filters, start_date: \"\" })\r\n                  }}\r\n                  className=\"h-6 px-2 text-xs text-muted-foreground hover:text-foreground\"\r\n                >\r\n                  <X className=\"mr-1 h-3 w-3\" />\r\n                  Limpar\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"end_date\" className=\"text-sm font-medium\">\r\n                Data Final\r\n              </Label>\r\n              <Popover>\r\n                <PopoverTrigger asChild>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className={cn(\r\n                      \"w-full justify-start text-left font-normal\",\r\n                      !endDate && \"text-muted-foreground\"\r\n                    )}\r\n                  >\r\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                    {endDate ? format(endDate, \"PPP\", { locale: ptBR }) : \"Selecione uma data\"}\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n                  <CalendarComponent\r\n                    mode=\"single\"\r\n                    selected={endDate}\r\n                    onSelect={(date) => {\r\n                      setEndDate(date ?? undefined)\r\n                      setFilters({\r\n                        ...filters,\r\n                        end_date: date ? format(date, \"yyyy-MM-dd\") : \"\",\r\n                      })\r\n                    }}\r\n                    initialFocus\r\n                    locale={ptBR}\r\n                    className=\"rounded-md border\"\r\n                    disabled={(date) => (startDate ? date < startDate : false)}\r\n                  />\r\n                </PopoverContent>\r\n              </Popover>\r\n              {endDate && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setEndDate(undefined)\r\n                    setFilters({ ...filters, end_date: \"\" })\r\n                  }}\r\n                  className=\"h-6 px-2 text-xs text-muted-foreground hover:text-foreground\"\r\n                >\r\n                  <X className=\"mr-1 h-3 w-3\" />\r\n                  Limpar\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"status\">Status</Label>\r\n              <Select\r\n                value={filters.status}\r\n                onValueChange={(value) => setFilters({ ...filters, status: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Todos os status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">Todos</SelectItem>\r\n                  <SelectItem value=\"pending\">Pendente</SelectItem>\r\n                  <SelectItem value=\"processing\">Processando</SelectItem>\r\n                  <SelectItem value=\"completed\">Concluído</SelectItem>\r\n                  <SelectItem value=\"failed\">Falhou</SelectItem>\r\n                  <SelectItem value=\"cancelled\">Cancelado</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"method\">Método</Label>\r\n              <Select\r\n                value={filters.withdrawal_method}\r\n                onValueChange={(value) =>\r\n                  setFilters({ ...filters, withdrawal_method: value })\r\n                }\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Todos os métodos\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">Todos</SelectItem>\r\n                  <SelectItem value=\"bank_transfer\">Transferência Bancária</SelectItem>\r\n                  <SelectItem value=\"pagarme_bank_transfer\">Pagar.me</SelectItem>\r\n                  <SelectItem value=\"pix\">PIX</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                const today = new Date()\r\n                const sevenDaysAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)\r\n                setStartDate(sevenDaysAgo)\r\n                setEndDate(today)\r\n                setFilters({\r\n                  ...filters,\r\n                  start_date: format(sevenDaysAgo, \"yyyy-MM-dd\"),\r\n                  end_date: format(today, \"yyyy-MM-dd\"),\r\n                })\r\n                setCurrentPage(1)\r\n              }}\r\n              className=\"text-xs\"\r\n            >\r\n              Últimos 7 dias\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                const today = new Date()\r\n                const thirtyDaysAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000)\r\n                setStartDate(thirtyDaysAgo)\r\n                setEndDate(today)\r\n                setFilters({\r\n                  ...filters,\r\n                  start_date: format(thirtyDaysAgo, \"yyyy-MM-dd\"),\r\n                  end_date: format(today, \"yyyy-MM-dd\"),\r\n                })\r\n                setCurrentPage(1)\r\n              }}\r\n              className=\"text-xs\"\r\n            >\r\n              Últimos 30 dias\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                const today = new Date()\r\n                const firstDayOfMonth = new Date(today.getFullYear(), today.getMonth(), 1)\r\n                setStartDate(firstDayOfMonth)\r\n                setEndDate(today)\r\n                setFilters({\r\n                  ...filters,\r\n                  start_date: format(firstDayOfMonth, \"yyyy-MM-dd\"),\r\n                  end_date: format(today, \"yyyy-MM-dd\"),\r\n                })\r\n                setCurrentPage(1)\r\n              }}\r\n              className=\"text-xs\"\r\n            >\r\n              Este mês\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                setStartDate(undefined)\r\n                setEndDate(undefined)\r\n                setFilters({\r\n                  ...filters,\r\n                  start_date: \"\",\r\n                  end_date: \"\",\r\n                })\r\n                setCurrentPage(1)\r\n              }}\r\n              className=\"text-xs text-muted-foreground hover:text-foreground\"\r\n            >\r\n              Limpar datas\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between border-t pt-4\">\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {startDate && endDate && (\r\n                <span>\r\n                  Período:{\" \"}\r\n                  {format(startDate, \"dd/MM/yyyy\", { locale: ptBR })} -{\" \"}\r\n                  {format(endDate, \"dd/MM/yyyy\", { locale: ptBR })}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <Button\r\n              onClick={() => {\r\n                setCurrentPage(1)\r\n                fetchVerificationReport(1)\r\n              }}\r\n              disabled={loading}\r\n              className=\"bg-[#E91E63] px-6 py-2 text-white shadow-lg\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white\" />\r\n                  Carregando...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <CheckCircle className=\"mr-2 h-4 w-4\" />\r\n                  Aplicar filtros\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {report && (\r\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-4\">\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Total de Saques</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold\">\r\n                {report.summary.total_withdrawals}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Valor total: {formatCurrency(report.summary.total_amount.toString())}\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Verificados</CardTitle>\r\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-green-600\">\r\n                {report.summary.verification_passed}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {report.summary.total_withdrawals > 0\r\n                  ? (\r\n                    (report.summary.verification_passed /\r\n                      report.summary.total_withdrawals) *\r\n                    100\r\n                  ).toFixed(1)\r\n                  : \"0.0\"}\r\n                % do total\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Falhas</CardTitle>\r\n              <XCircle className=\"h-4 w-4 text-red-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-red-600\">\r\n                {report.summary.verification_failed}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {report.summary.total_withdrawals > 0\r\n                  ? (\r\n                    (report.summary.verification_failed /\r\n                      report.summary.total_withdrawals) *\r\n                    100\r\n                  ).toFixed(1)\r\n                  : \"0.0\"}\r\n                % do total\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Pendentes</CardTitle>\r\n              <Clock className=\"h-4 w-4 text-yellow-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-yellow-600\">\r\n                {report.summary.pending_verification}\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {report.summary.total_withdrawals > 0\r\n                  ? (\r\n                    (report.summary.pending_verification /\r\n                      report.summary.total_withdrawals) *\r\n                    100\r\n                  ).toFixed(1)\r\n                  : \"0.0\"}\r\n                % do total\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {report && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Saques</CardTitle>\r\n            <CardDescription>\r\n              Lista de saques com status de verificação\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b text-xs text-muted-foreground\">\r\n                    <th className=\"w-16 px-3 py-2 text-left\">ID</th>\r\n                    <th className=\"min-w-37.5 px-3 py-2 text-left\">Criador</th>\r\n                    <th className=\"w-24 px-3 py-2 text-left\">Valor</th>\r\n                    <th className=\"min-w-30 px-3 py-2 text-left\">Método</th>\r\n                    <th className=\"w-20 px-3 py-2 text-left\">Status</th>\r\n                    <th className=\"w-24 px-3 py-2 text-left\">Verificação</th>\r\n                    <th className=\"min-w-25 px-3 py-2 text-left\">Data</th>\r\n                    <th className=\"w-16 px-3 py-2 text-left\">Ações</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {report.withdrawals.map((withdrawal) => (\r\n                    <tr key={withdrawal.id} className=\"border-b last:border-0\">\r\n                      <td className=\"px-3 py-3 align-top\">#{withdrawal.id}</td>\r\n                      <td className=\"px-3 py-3 align-top\">\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"truncate font-medium\">\r\n                            {withdrawal.creator.name}\r\n                          </div>\r\n                          <div\r\n                            className=\"truncate text-xs text-muted-foreground\"\r\n                            title={withdrawal.creator.email}\r\n                          >\r\n                            {withdrawal.creator.email}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-3 py-3 align-top font-medium\">\r\n                        {withdrawal.amount}\r\n                      </td>\r\n                      <td className=\"max-w-40 px-3 py-3 align-top\">\r\n                        <div className=\"truncate\" title={withdrawal.withdrawal_method}>\r\n                          {withdrawal.withdrawal_method}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-3 py-3 align-top\">\r\n                        <Badge\r\n                          variant={\r\n                            withdrawal.status === \"completed\" ? \"default\" : \"secondary\"\r\n                          }\r\n                        >\r\n                          {translateWithdrawalStatus(withdrawal.status)}\r\n                        </Badge>\r\n                      </td>\r\n                      <td className=\"px-3 py-3 align-top\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {getStatusIcon(withdrawal.verification_status)}\r\n                          {getStatusBadge(withdrawal.verification_status)}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-3 py-3 align-top\">\r\n                        {withdrawal.processed_at ? (\r\n                          format(new Date(withdrawal.processed_at), \"dd/MM/yyyy HH:mm\", {\r\n                            locale: ptBR,\r\n                          })\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-3 py-3 align-top\">\r\n                        <Dialog>\r\n                          <DialogTrigger asChild>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => fetchDetailedVerification(withdrawal.id)}\r\n                            >\r\n                              <Eye className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </DialogTrigger>\r\n                          <DialogContent className=\"space-y-4 max-h-[80vh] max-w-4xl overflow-y-auto\">\r\n                            <DialogHeader>\r\n                              <DialogTitle>\r\n                                Detalhes da Verificação - Saque #{withdrawal.id}\r\n                              </DialogTitle>\r\n                              <DialogDescription>\r\n                                Verificação detalhada do saque e conta bancária\r\n                              </DialogDescription>\r\n                            </DialogHeader>\r\n                            {detailedLoading ? (\r\n                              <div className=\"flex items-center justify-center py-8\">\r\n                                <div className=\"text-center\">\r\n                                  <div className=\"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-primary\" />\r\n                                  <p className=\"mt-2 text-sm text-muted-foreground\">\r\n                                    Carregando detalhes...\r\n                                  </p>\r\n                                </div>\r\n                              </div>\r\n                            ) : selectedWithdrawal ? (\r\n                              <div className=\"space-y-6\">\r\n                                <Card>\r\n                                  <CardHeader>\r\n                                    <CardTitle>Detalhes do Saque</CardTitle>\r\n                                  </CardHeader>\r\n                                  <CardContent>\r\n                                    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Valor\r\n                                        </Label>\r\n                                        <p className=\"wrap-break-word text-lg font-bold\">\r\n                                          {selectedWithdrawal.withdrawal.amount}\r\n                                        </p>\r\n                                      </div>\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Método\r\n                                        </Label>\r\n                                        <p className=\"wrap-break-word\">\r\n                                          {selectedWithdrawal.withdrawal.withdrawal_method}\r\n                                        </p>\r\n                                      </div>\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Status\r\n                                        </Label>\r\n                                        <div>\r\n                                          <Badge>\r\n                                            {translateWithdrawalStatus(\r\n                                              selectedWithdrawal.withdrawal.status\r\n                                            )}\r\n                                          </Badge>\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"space-y-1 sm:col-span-2 lg:col-span-3\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          ID da Transação\r\n                                        </Label>\r\n                                        <p className=\"break-all rounded border bg-muted/50 p-2 font-mono text-sm\">\r\n                                          {selectedWithdrawal.withdrawal.transaction_id ||\r\n                                            \"N/A\"}\r\n                                        </p>\r\n                                      </div>\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Criado em\r\n                                        </Label>\r\n                                        <p className=\"wrap-break-word\">\r\n                                          {format(\r\n                                            new Date(\r\n                                              selectedWithdrawal.withdrawal.created_at\r\n                                            ),\r\n                                            \"dd/MM/yyyy HH:mm\",\r\n                                            { locale: ptBR }\r\n                                          )}\r\n                                        </p>\r\n                                      </div>\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Processado em\r\n                                        </Label>\r\n                                        <p className=\"wrap-break-word\">\r\n                                          {selectedWithdrawal.withdrawal.processed_at\r\n                                            ? format(\r\n                                              new Date(\r\n                                                selectedWithdrawal.withdrawal\r\n                                                  .processed_at\r\n                                              ),\r\n                                              \"dd/MM/yyyy HH:mm\",\r\n                                              { locale: ptBR }\r\n                                            )\r\n                                            : \"N/A\"}\r\n                                        </p>\r\n                                      </div>\r\n                                    </div>\r\n                                  </CardContent>\r\n                                </Card>\r\n\r\n                                <Card>\r\n                                  <CardHeader>\r\n                                    <CardTitle>Informações do Criador</CardTitle>\r\n                                  </CardHeader>\r\n                                  <CardContent>\r\n                                    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Nome\r\n                                        </Label>\r\n                                        <p className=\"wrap-break-word\">\r\n                                          {selectedWithdrawal.creator.name}\r\n                                        </p>\r\n                                      </div>\r\n                                      <div className=\"space-y-1\">\r\n                                        <Label className=\"text-sm font-medium\">\r\n                                          Email\r\n                                        </Label>\r\n                                        <p className=\"break-all rounded border bg-muted/50 p-2 font-mono text-sm\">\r\n                                          {selectedWithdrawal.creator.email}\r\n                                        </p>\r\n                                      </div>\r\n                                    </div>\r\n                                  </CardContent>\r\n                                </Card>\r\n\r\n                                <Card>\r\n                                  <CardHeader>\r\n                                    <CardTitle>Verificação da Conta Bancária</CardTitle>\r\n                                  </CardHeader>\r\n                                  <CardContent>\r\n                                    <div className=\"space-y-4\">\r\n                                      <div className=\"flex items-center gap-2\">\r\n                                        {selectedWithdrawal.bank_account_verification\r\n                                          .details_match ? (\r\n                                          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                        ) : (\r\n                                          <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                                        )}\r\n                                        <span className=\"font-medium\">\r\n                                          Detalhes bancários{\" \"}\r\n                                          {selectedWithdrawal.bank_account_verification\r\n                                            .details_match\r\n                                            ? \"coincidem\"\r\n                                            : \"não coincidem\"}\r\n                                        </span>\r\n                                      </div>\r\n\r\n                                      <Separator />\r\n\r\n                                      <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\r\n                                        <div>\r\n                                          <h4 className=\"mb-3 font-medium\">\r\n                                            Detalhes do Saque\r\n                                          </h4>\r\n                                          {selectedWithdrawal.bank_account_verification\r\n                                            .withdrawal_bank_details ? (\r\n                                            <div className=\"space-y-2 text-sm\">\r\n                                              <div>\r\n                                                <strong>Banco:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.bank_code\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Agência:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.agencia\r\n                                                }\r\n                                                -\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.agencia_dv\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Conta:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.conta\r\n                                                }\r\n                                                -\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.conta_dv\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>CPF:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.cpf\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Nome:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .withdrawal_bank_details.name\r\n                                                }\r\n                                              </div>\r\n                                            </div>\r\n                                          ) : (\r\n                                            <p className=\"text-muted-foreground\">\r\n                                              Nenhum detalhe bancário encontrado\r\n                                            </p>\r\n                                          )}\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                          <h4 className=\"mb-3 font-medium\">\r\n                                            Conta Atual\r\n                                          </h4>\r\n                                          {selectedWithdrawal.bank_account_verification\r\n                                            .current_bank_account ? (\r\n                                            <div className=\"space-y-2 text-sm\">\r\n                                              <div>\r\n                                                <strong>Banco:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.bank_code\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Agência:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.agencia\r\n                                                }\r\n                                                -\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.agencia_dv\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Conta:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.conta\r\n                                                }\r\n                                                -\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.conta_dv\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>CPF:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.cpf\r\n                                                }\r\n                                              </div>\r\n                                              <div>\r\n                                                <strong>Nome:</strong>{\" \"}\r\n                                                {\r\n                                                  selectedWithdrawal\r\n                                                    .bank_account_verification\r\n                                                    .current_bank_account.name\r\n                                                }\r\n                                              </div>\r\n                                            </div>\r\n                                          ) : (\r\n                                            <p className=\"text-muted-foreground\">\r\n                                              Nenhuma conta bancária registrada\r\n                                            </p>\r\n                                          )}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </CardContent>\r\n                                </Card>\r\n\r\n                                <Card>\r\n                                  <CardHeader>\r\n                                    <CardTitle>Resumo da Verificação</CardTitle>\r\n                                  </CardHeader>\r\n                                  <CardContent>\r\n                                    <div className=\"space-y-3\">\r\n                                      <div className=\"flex items-center justify-between\">\r\n                                        <span>Valor do saque correto</span>\r\n                                        {selectedWithdrawal.verification_summary\r\n                                          .withdrawal_amount_correct ? (\r\n                                          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                        ) : (\r\n                                          <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                                        )}\r\n                                      </div>\r\n                                      <div className=\"flex items-center justify-between\">\r\n                                        <span>Detalhes bancários consistentes</span>\r\n                                        {selectedWithdrawal.verification_summary\r\n                                          .bank_details_consistent ? (\r\n                                          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                        ) : (\r\n                                          <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                                        )}\r\n                                      </div>\r\n                                      <div className=\"flex items-center justify-between\">\r\n                                        <span>ID da transação válido</span>\r\n                                        {selectedWithdrawal.verification_summary\r\n                                          .transaction_id_valid ? (\r\n                                          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                        ) : (\r\n                                          <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                                        )}\r\n                                      </div>\r\n                                      <div className=\"flex items-center justify-between\">\r\n                                        <span>Tempo de processamento razoável</span>\r\n                                        {selectedWithdrawal.verification_summary\r\n                                          .processing_time_reasonable ? (\r\n                                          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n                                        ) : (\r\n                                          <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                                        )}\r\n                                      </div>\r\n                                      <Separator />\r\n                                      <div className=\"flex items-center justify-between\">\r\n                                        <span className=\"font-medium\">Status geral</span>\r\n                                        {getStatusBadge(\r\n                                          selectedWithdrawal.verification_summary\r\n                                            .overall_verification_status\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  </CardContent>\r\n                                </Card>\r\n                              </div>\r\n                            ) : null}\r\n                            <div className=\"flex flex-wrap gap-2 pt-2\">\r\n                              {(withdrawal.status === \"pending\" ||\r\n                                withdrawal.status === \"processing\") && (\r\n                                  <>\r\n                                    <Button\r\n                                      size=\"sm\"\r\n                                      disabled={\r\n                                        processingWithdrawalId === withdrawal.id\r\n                                      }\r\n                                      onClick={() =>\r\n                                        handleProcessWithdrawal(\r\n                                          withdrawal.id,\r\n                                          \"approve\"\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      Aprovar saque\r\n                                    </Button>\r\n                                    <Button\r\n                                      size=\"sm\"\r\n                                      variant=\"destructive\"\r\n                                      disabled={\r\n                                        processingWithdrawalId === withdrawal.id\r\n                                      }\r\n                                      onClick={() =>\r\n                                        handleProcessWithdrawal(\r\n                                          withdrawal.id,\r\n                                          \"reject\"\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      Rejeitar saque\r\n                                    </Button>\r\n                                  </>\r\n                                )}\r\n                            </div>\r\n                          </DialogContent>\r\n                        </Dialog>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"mt-4 flex flex-col items-center justify-between gap-3 border-t pt-4 text-sm text-muted-foreground sm:flex-row\">\r\n              <div>\r\n                Página {report.pagination.current_page} de{\" \"}\r\n                {report.pagination.last_page} •{\" \"}\r\n                {report.pagination.total} registros\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={\r\n                    loading || report.pagination.current_page <= 1\r\n                  }\r\n                  onClick={() =>\r\n                    handlePageChange(report.pagination.current_page - 1)\r\n                  }\r\n                >\r\n                  Anterior\r\n                </Button>\r\n                <div className=\"flex items-center gap-1\">\r\n                  {Array.from(\r\n                    {\r\n                      length: Math.min(5, report.pagination.last_page),\r\n                    },\r\n                    (_, index) => {\r\n                      let pageNumber\r\n                      if (report.pagination.last_page <= 5) {\r\n                        pageNumber = index + 1\r\n                      } else if (currentPage <= 3) {\r\n                        pageNumber = index + 1\r\n                      } else if (\r\n                        currentPage >= report.pagination.last_page - 2\r\n                      ) {\r\n                        pageNumber =\r\n                          report.pagination.last_page - 4 + index\r\n                      } else {\r\n                        pageNumber = currentPage - 2 + index\r\n                      }\r\n\r\n                      return (\r\n                        <Button\r\n                          key={pageNumber}\r\n                          variant={\r\n                            pageNumber === currentPage\r\n                              ? \"default\"\r\n                              : \"outline\"\r\n                          }\r\n                          size=\"sm\"\r\n                          disabled={loading}\r\n                          onClick={() => handlePageChange(pageNumber)}\r\n                        >\r\n                          {pageNumber}\r\n                        </Button>\r\n                      )\r\n                    }\r\n                  )}\r\n                </div>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={\r\n                    loading ||\r\n                    report.pagination.current_page >=\r\n                    report.pagination.last_page\r\n                  }\r\n                  onClick={() =>\r\n                    handlePageChange(report.pagination.current_page + 1)\r\n                  }\r\n                >\r\n                  Próxima\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {!report && !loading && (\r\n        <Card>\r\n          <CardContent className=\"flex items-center justify-center py-8\">\r\n            <div className=\"text-center\">\r\n              <AlertTriangle className=\"mx-auto mb-2 h-8 w-8 text-muted-foreground\" />\r\n              <p className=\"text-muted-foreground\">\r\n                Nenhum dado de verificação encontrado\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function WithdrawalVerificationPage() {\r\n  return <WithdrawalVerificationContent />\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\auth\\google\\callback\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":175,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6570,6573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6570,6573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Suspense, useEffect, useState } from \"react\"\r\nimport { useRouter, useSearchParams } from \"next/navigation\"\r\nimport { Loader2, CheckCircle, XCircle, User as UserIcon, Briefcase, ArrowLeft } from \"lucide-react\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/presentation/components/ui/card\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Input } from \"@/presentation/components/ui/input\"\r\nimport { Label } from \"@/presentation/components/ui/label\"\r\nimport { toast } from \"sonner\"\r\nimport { handleGoogleCallbackRequest, completeGoogleRegistration } from \"@/infrastructure/api/google-auth\"\r\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\r\nimport type { AxiosError } from \"axios\"\r\nimport Image from \"next/image\"\r\n\r\nexport default function GoogleOAuthCallbackPage() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"min-h-screen bg-muted flex items-center justify-center p-4\">\r\n          <Card className=\"w-full max-w-md\">\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle className=\"text-2xl font-bold\">Fazendo seu login...</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-center space-y-4\">\r\n              <div className=\"flex flex-col items-center space-y-4\">\r\n                <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\r\n                <p className=\"text-muted-foreground\">Aguarde enquanto completamos seu login...</p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      }\r\n    >\r\n      <GoogleOAuthCallbackInner />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nconst processedCodes = new Set<string>()\r\n\r\nfunction GoogleOAuthCallbackInner() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const { login } = useAuth()\r\n  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\" | \"role_selection\">(\"loading\")\r\n  const [error, setError] = useState(\"\")\r\n  \r\n  // Role Selection State\r\n  const [registrationId, setRegistrationId] = useState<string | null>(null)\r\n  const [googleUser, setGoogleUser] = useState<{name: string, email: string, avatar: string} | null>(null)\r\n  const [isRegistering, setIsRegistering] = useState(false)\r\n  \r\n  // Step 2: Details\r\n  const [selectedRole, setSelectedRole] = useState<\"creator\" | \"brand\" | null>(null)\r\n  const [whatsapp, setWhatsapp] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const code = searchParams.get(\"code\")\r\n    const oauthError = searchParams.get(\"error\")\r\n\r\n    if (!code && !oauthError) {\r\n      return\r\n    }\r\n\r\n    if (code && processedCodes.has(code)) {\r\n        return\r\n    }\r\n\r\n    if (code) {\r\n        processedCodes.add(code)\r\n    }\r\n    \r\n    const handleCallback = async () => {\r\n      try {\r\n        setStatus(\"loading\")\r\n\r\n        if (oauthError) {\r\n          const known =\r\n            oauthError === \"access_denied\"\r\n              ? \"Acesso negado pelo Google\"\r\n              : oauthError === \"invalid_request\"\r\n              ? \"Requisição inválida (verifique client_id e escopos)\"\r\n              : `Erro OAuth: ${oauthError}`\r\n          throw new Error(known)\r\n        }\r\n\r\n        const role = sessionStorage.getItem(\"google_oauth_role\") as \"creator\" | \"brand\" | null\r\n        const isStudent = sessionStorage.getItem(\"google_oauth_is_student\") === \"true\"\r\n\r\n        const response = await handleGoogleCallbackRequest(code!, role || undefined, isStudent)\r\n\r\n        sessionStorage.removeItem(\"google_oauth_role\")\r\n        sessionStorage.removeItem(\"google_oauth_is_student\")\r\n\r\n        // Check for Role Selection Action\r\n        if (response.success && response.action === 'role_selection' && response.registration_id) {\r\n             setRegistrationId(response.registration_id)\r\n             if (response.google_user) setGoogleUser(response.google_user)\r\n             setStatus(\"role_selection\")\r\n             return\r\n        }\r\n\r\n        if (!response?.token || !response?.user) {\r\n          throw new Error(\"Resposta inválida do servidor\")\r\n        }\r\n        await login(response.token, response.user)\r\n\r\n        setStatus(\"success\")\r\n\r\n        if ((response.user.role as string) === \"student\") {\r\n          toast.success(\"Conta de aluno criada! Complete a verificação para obter acesso gratuito.\")\r\n          router.push(\"/dashboard/student-verify\")\r\n          return\r\n        }\r\n\r\n        const isNewUser = !response.user.has_premium && response.user.role === \"creator\"\r\n\r\n        if (isNewUser) {\r\n          toast.success(\"Conta criada com sucesso!\")\r\n        } else {\r\n          toast.success(\"Login realizado com sucesso com Google!\")\r\n        }\r\n\r\n        router.push(\"/dashboard\")\r\n      } catch (err: unknown) {\r\n        const axiosError = err as AxiosError<{ message?: string; error?: string }>\r\n        \r\n        // Ignore \"invalid_grant\" if we already succeeded (race condition artifact)\r\n        if (axiosError.response?.data?.error === 'invalid_grant' || \r\n            axiosError.message?.includes('invalid_grant')) {\r\n             console.warn(\"Ignored invalid_grant error likely due to double submission\")\r\n             return\r\n        }\r\n\r\n        const message = axiosError.response?.data?.message || axiosError.message || \"Falha na autenticação Google OAuth\"\r\n        setError(message)\r\n        setStatus(\"error\")\r\n        toast.error(message)\r\n      } finally {\r\n        // We do NOT remove from processedCodes to prevent re-execution on same page session\r\n      }\r\n    }\r\n\r\n    handleCallback()\r\n  }, [searchParams, router, login])\r\n\r\n  const handleSelectRole = (role: \"creator\" | \"brand\") => {\r\n      setSelectedRole(role)\r\n  }\r\n\r\n  const handleBack = () => {\r\n      setSelectedRole(null)\r\n      setWhatsapp(\"\")\r\n  }\r\n\r\n  const handleConfirm = async () => {\r\n      if (!registrationId || !selectedRole) return\r\n      \r\n      const cleanWhatsapp = whatsapp.replace(/\\D/g, \"\")\r\n      if (cleanWhatsapp.length < 10) {\r\n          toast.error(\"Por favor, insira um número de WhatsApp válido com DDD\")\r\n          return\r\n      }\r\n      \r\n      setIsRegistering(true)\r\n      try {\r\n          const response = await completeGoogleRegistration(registrationId, selectedRole, whatsapp)\r\n           if (!response?.token || !response?.user) {\r\n              throw new Error(\"Falha ao criar conta\")\r\n           }\r\n           await login(response.token, response.user)\r\n           toast.success(`Conta de ${selectedRole === 'creator' ? 'Criador' : 'Marca'} criada com sucesso!`)\r\n           router.push(\"/dashboard\")\r\n      } catch (err: any) {\r\n          const msg = err.response?.data?.message || \"Erro ao finalizar cadastro\"\r\n          toast.error(msg)\r\n          setError(msg)\r\n      } finally {\r\n          setIsRegistering(false)\r\n      }\r\n  }\r\n\r\n  const handleRetry = () => {\r\n    router.push(\"/login\")\r\n  }\r\n\r\n  const handleGoHome = () => {\r\n    router.push(\"/\")\r\n  }\r\n\r\n  if (status === \"role_selection\") {\r\n      return (\r\n        <div className=\"min-h-screen bg-muted flex items-center justify-center p-4\">\r\n          <Card className=\"w-full max-w-lg shadow-xl\">\r\n            <CardHeader className=\"text-center space-y-4\">\r\n                {googleUser?.avatar && (\r\n                    <div className=\"mx-auto w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md\">\r\n                        <Image src={googleUser.avatar} alt=\"Avatar\" width={80} height={80} />\r\n                    </div>\r\n                )}\r\n              <CardTitle className=\"text-2xl font-bold\">Quase lá, {googleUser?.name?.split(' ')[0]}!</CardTitle>\r\n              <CardDescription className=\"text-base\">\r\n                {selectedRole \r\n                    ? `Finalize seu perfil de ${selectedRole === 'creator' ? 'Criador' : 'Marca'}`\r\n                    : \"Como você deseja utilizar a Nexa?\"\r\n                }\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n                {!selectedRole ? (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <button \r\n                            onClick={() => handleSelectRole('creator')}\r\n                            disabled={isRegistering}\r\n                            className=\"flex flex-col items-center justify-center p-6 space-y-4 rounded-xl border-2 border-transparent bg-secondary/50 hover:bg-secondary hover:border-pink-500 hover:shadow-lg transition-all group\"\r\n                        >\r\n                            <div className=\"p-4 rounded-full bg-pink-100 dark:bg-pink-900/20 group-hover:scale-110 transition-transform\">\r\n                                <UserIcon className=\"w-8 h-8 text-pink-500\" />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h3 className=\"font-bold text-lg\">Sou Criador</h3>\r\n                                <p className=\"text-xs text-muted-foreground mt-1\">Quero encontrar campanhas e monetizar meu conteúdo</p>\r\n                            </div>\r\n                        </button>\r\n\r\n                        <button \r\n                            onClick={() => handleSelectRole('brand')}\r\n                            disabled={isRegistering}\r\n                            className=\"flex flex-col items-center justify-center p-6 space-y-4 rounded-xl border-2 border-transparent bg-secondary/50 hover:bg-secondary hover:border-purple-500 hover:shadow-lg transition-all group\"\r\n                        >\r\n                            <div className=\"p-4 rounded-full bg-purple-100 dark:bg-purple-900/20 group-hover:scale-110 transition-transform\">\r\n                                <Briefcase className=\"w-8 h-8 text-purple-500\" />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h3 className=\"font-bold text-lg\">Sou Marca</h3>\r\n                                <p className=\"text-xs text-muted-foreground mt-1\">Quero contratar criadores para divulgar meus produtos</p>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center gap-2 p-4 bg-primary/10 rounded-lg text-primary mb-4\">\r\n                             {selectedRole === 'creator' ? <UserIcon className=\"w-5 h-5\" /> : <Briefcase className=\"w-5 h-5\" />}\r\n                             <span className=\"font-medium\">Você escolheu: {selectedRole === 'creator' ? 'Criador' : 'Marca'}</span>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"whatsapp\">WhatsApp</Label>\r\n                            <Input \r\n                                id=\"whatsapp\"\r\n                                placeholder=\"(11) 99999-9999\"\r\n                                value={whatsapp}\r\n                                onChange={(e) => setWhatsapp(e.target.value)}\r\n                            />\r\n                            <p className=\"text-xs text-muted-foreground\">Necessário para comunicação sobre campanhas.</p>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-col gap-3 pt-4\">\r\n                            <Button onClick={handleConfirm} disabled={isRegistering} className=\"w-full\">\r\n                                {isRegistering ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\r\n                                {isRegistering ? \"Criando conta...\" : \"Confirmar e Criar Conta\"}\r\n                            </Button>\r\n                            <Button onClick={handleBack} variant=\"ghost\" disabled={isRegistering} className=\"w-full\">\r\n                                <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                                Voltar e escolher outro perfil\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-muted flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-md\">\r\n        <CardHeader className=\"text-center\">\r\n          <CardTitle className=\"text-2xl font-bold\">\r\n            {status === \"loading\" && \"Fazendo seu login...\"}\r\n            {status === \"success\" && \"Sucesso!\"}\r\n            {status === \"error\" && \"Falha na Autenticação\"}\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"text-center space-y-4\">\r\n          {status === \"loading\" && (\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\r\n              <p className=\"text-muted-foreground\">\r\n                Aguarde enquanto completamos seu login...\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {status === \"success\" && (\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              <CheckCircle className=\"h-12 w-12 text-green-500\" />\r\n              <p className=\"text-muted-foreground\">\r\n                Login realizado com sucesso com Google!\r\n              </p>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Redirecionando para seu painel...\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {status === \"error\" && (\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              <XCircle className=\"h-12 w-12 text-red-500\" />\r\n              <p className=\"text-muted-foreground\">\r\n                {error}\r\n              </p>\r\n              <div className=\"flex space-x-2 justify-center\">\r\n                <Button onClick={handleRetry} variant=\"outline\">\r\n                  Tentar Novamente\r\n                </Button>\r\n                <Button onClick={handleGoHome}>\r\n                  Ir para Início\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\docs\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":853,"column":27,"nodeType":"JSXOpeningElement","endLine":857,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\guides\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":118,"column":15,"nodeType":"JSXOpeningElement","endLine":123,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\privacy-policy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\app\\terms-of-use\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\apply-to-campaign.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\create-campaign.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\delete-bank-info.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\delete-portfolio-item.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-bank-info.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-campaign-by-id.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-creator-balance.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-portfolio-stats.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-portfolio.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-withdrawal-methods.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\get-withdrawals.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\list-campaigns.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\list-pending-campaigns.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\login.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\register-bank.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\register-brand.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\register-creator.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\reorder-portfolio-items.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\request-withdrawal.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\update-bank-info.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\update-portfolio-item.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\update-portfolio-profile.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\update-profile.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\application\\use-cases\\upload-portfolio-media.use-case.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\application.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\campaign.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\chat.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\contract.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\financial.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\guide.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\milestone.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\notification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\portfolio.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\entities\\user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\application-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\auth-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\campaign-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\campaign-timeline-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\chat-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\contract-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\financial-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\guide-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\notification-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\payment-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\portfolio-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\domain\\repositories\\stripe-repository.interface.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\api\\__tests__\\google-auth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\api\\axios-adapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\api\\google-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\application-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\auth-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\brand-profile-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\campaign-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\campaign-timeline-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\chat-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\contract-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\financial-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\guide-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\notification-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\payment-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\portfolio-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\stripe-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\repositories\\terms-repository.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\infrastructure\\services\\echo-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\lib\\niches.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\lib\\stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\auth\\__tests__\\google-oauth-button.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\auth\\auth-guard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\auth\\google-oauth-button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\brand\\edit-brand-profile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\brand\\financial\\brand-transactions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\campaigns\\apply-button.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Checkbox' is defined but never used.","line":39,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2985,2988],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2985,2988],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":117,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4148,4151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4148,4151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckIcon' is defined but never used.","line":403,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":403,"endColumn":19}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { Loader2, Plus, X, ArrowRight, ArrowLeft, Check } from \"lucide-react\"\n\nimport { Button } from \"@/presentation/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/presentation/components/ui/dialog\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n  FormDescription,\n} from \"@/presentation/components/ui/form\"\nimport { Input } from \"@/presentation/components/ui/input\"\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\nimport { ApplyToCampaignUseCase } from \"@/application/use-cases/apply-to-campaign.use-case\"\nimport { ApiCampaignRepository } from \"@/infrastructure/repositories/campaign-repository\"\nimport { ApiTermsRepository } from \"@/infrastructure/repositories/terms-repository\"\nimport { api } from \"@/infrastructure/api/axios-adapter\"\nimport { Campaign } from \"@/domain/entities/campaign\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/presentation/components/ui/alert\"\nimport { toast } from \"sonner\"\nimport { useAuth } from \"@/presentation/contexts/auth-provider\"\nimport type { AxiosError } from \"axios\"\nimport { Checkbox } from \"@/presentation/components/ui/checkbox\"\nimport { Badge } from \"@/presentation/components/ui/badge\"\nimport { TermsModal } from \"@/presentation/components/terms/terms-modal\"\nimport { TERMS_CONTENT } from \"@/presentation/components/terms/terms-content\"\n\nconst campaignRepository = new ApiCampaignRepository(api)\nconst applyToCampaignUseCase = new ApplyToCampaignUseCase(campaignRepository)\nconst termsRepository = new ApiTermsRepository(api)\n\nexport const applicationSchema = z.object({\n  proposal: z.string().min(20, \"A proposta deve ter pelo menos 20 caracteres\"),\n  budget: z.coerce.number().min(1, \"O orçamento deve ser maior que zero\"),\n  delivery_days: z.coerce.number().int(\"O prazo deve ser um número inteiro\").min(1, \"O prazo deve ser de pelo menos 1 dia\"),\n  portfolio_links: z.array(z.string().url(\"URL inválida\")).min(1, \"Adicione pelo menos um link ao portfólio para se candidatar.\"),\n})\n\nexport type ApplicationFormValues = z.infer<typeof applicationSchema>\n\ninterface ApplyButtonProps {\n  campaign: Campaign\n  onSuccess?: () => void\n}\n\nexport function ApplyButton({ campaign, onSuccess }: ApplyButtonProps) {\n  const { user, refreshUser } = useAuth()\n  const [open, setOpen] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [step, setStep] = useState(1)\n  const [newLink, setNewLink] = useState(\"\")\n  const [showTerms, setShowTerms] = useState(false)\n  const [termsAccepted, setTermsAccepted] = useState(false)\n\n  const form = useForm<ApplicationFormValues>({\n    resolver: zodResolver(applicationSchema) as any,\n    defaultValues: {\n      proposal: \"\",\n      budget: campaign.budget,\n      delivery_days: 7,\n      portfolio_links: [],\n    },\n  })\n\n  // Check terms acceptance on mount\n  useEffect(() => {\n    termsRepository.check(['creator_application']).then(status => {\n        setTermsAccepted(status.creator_application)\n    })\n  }, [])\n\n  if (!user || user.role !== \"creator\") {\n    return null\n  }\n\n  const userPortfolioLinks = user.portfolio?.project_links || []\n\n  const onSubmit = async (data: ApplicationFormValues) => {\n    setLoading(true)\n    setError(null)\n    try {\n      await applyToCampaignUseCase.execute(campaign.id, data)\n      toast.success(\"Aplicação enviada com sucesso!\")\n      setOpen(false)\n      if (onSuccess) onSuccess()\n    } catch (err: unknown) {\n        console.error(err)\n        const axiosError = err as AxiosError<{ message?: string; error?: string }>\n        setError(\n          axiosError.response?.data?.message ||\n            axiosError.response?.data?.error ||\n            axiosError.message ||\n            \"Falha ao enviar aplicação.\"\n        )\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const onInvalid = (errors: any) => {\n        console.log(\"Form errors:\", errors)\n        if (errors.portfolio_links) {\n            if (Array.isArray(errors.portfolio_links)) {\n                 toast.error(\"Alguns links do portfólio são inválidos.\")\n            } else {\n                 toast.error(errors.portfolio_links.message || \"Adicione pelo menos um link ao seu portfólio.\")\n            }\n        } else {\n            toast.error(\"Verifique os campos do formulário.\")\n        }\n    }\n\n    const handleNextStep = async () => {\n    const isValid = await form.trigger([\"proposal\", \"budget\", \"delivery_days\"])\n    if (isValid) {\n      setStep(2)\n    } else {\n        const errors = form.formState.errors;\n        if (errors.proposal) toast.error(errors.proposal.message);\n        else if (errors.budget) toast.error(errors.budget.message);\n        else if (errors.delivery_days) toast.error(errors.delivery_days.message);\n        else toast.error(\"Por favor, preencha os campos obrigatórios corretamente.\");\n    }\n  }\n\n  const handlePrevStep = () => {\n    setStep(1)\n  }\n\n  const addLink = () => {\n    const result = z.string().url().safeParse(newLink)\n    if (newLink && result.success) {\n      const currentLinks = form.getValues(\"portfolio_links\")\n      form.setValue(\"portfolio_links\", [...currentLinks, newLink], { shouldValidate: true })\n      setNewLink(\"\")\n    } else if (newLink) {\n        toast.error(\"URL inválida. Certifique-se de incluir http:// ou https://\")\n    }\n  }\n\n  const removeLink = (index: number) => {\n    const currentLinks = form.getValues(\"portfolio_links\")\n    form.setValue(\"portfolio_links\", currentLinks.filter((_, i) => i !== index), { shouldValidate: true })\n  }\n\n  const togglePortfolioLink = (url: string) => {\n    const currentLinks = form.getValues(\"portfolio_links\")\n    if (currentLinks.includes(url)) {\n      form.setValue(\"portfolio_links\", currentLinks.filter(l => l !== url), { shouldValidate: true })\n    } else {\n      form.setValue(\"portfolio_links\", [...currentLinks, url], { shouldValidate: true })\n    }\n  }\n\n  const handleOpenChange = (isOpen: boolean) => {\n      if (isOpen) {\n          refreshUser() // Always refresh user data when opening the application dialog\n          if (!termsAccepted) {\n              setShowTerms(true)\n          } else {\n              setOpen(true)\n          }\n      } else {\n          setOpen(isOpen)\n          if (!isOpen) setStep(1)\n      }\n  }\n\n  const handleTermsAccept = async () => {\n      await termsRepository.accept('creator_application')\n      setTermsAccepted(true)\n      setShowTerms(false)\n      setOpen(true)\n  }\n\n  if (campaign.has_applied) {\n      return (\n          <Button size=\"lg\" variant=\"secondary\" className=\"w-full md:w-auto\" disabled>\n              Inscrito\n          </Button>\n      )\n  }\n\n  return (\n    <>\n        <TermsModal \n            open={showTerms} \n            onOpenChange={setShowTerms}\n            title={TERMS_CONTENT.creator_application.title}\n            content={TERMS_CONTENT.creator_application.content}\n            onAccept={handleTermsAccept}\n        />\n\n        <Dialog open={open} onOpenChange={handleOpenChange}>\n        <DialogTrigger asChild>\n            <Button size=\"lg\" className=\"w-full md:w-auto\">\n            Candidatar-se à Campanha\n            </Button>\n        </DialogTrigger>\n        <DialogContent className=\"sm:max-w-150\">\n            <DialogHeader>\n            <DialogTitle>Nova Proposta - Passo {step} de 2</DialogTitle>\n            <DialogDescription>\n                Envie sua proposta para {campaign.brand?.name}.\n            </DialogDescription>\n            </DialogHeader>\n            <Form {...form}>\n            <form \n                onSubmit={(e) => {\n                    if (step === 1) {\n                        e.preventDefault()\n                        handleNextStep()\n                    } else {\n                        form.handleSubmit(onSubmit, onInvalid)(e)\n                    }\n                }} \n                className=\"space-y-4\"\n            >\n                \n                {step === 1 && (\n                    <>\n                        <FormField\n                        control={form.control}\n                        name=\"proposal\"\n                        render={({ field }) => (\n                            <FormItem>\n                            <FormLabel>Sua Proposta</FormLabel>\n                            <FormControl>\n                                <Textarea \n                                    placeholder=\"Descreva como você pretende divulgar o produto, sua experiência relevante e como pode ajudar a marca...\" \n                                    className=\"resize-none h-32\"\n                                    {...field} \n                                />\n                            </FormControl>\n                            <FormDescription>\n                                Explique por que você é o criador ideal para esta campanha.\n                            </FormDescription>\n                            <FormMessage />\n                            </FormItem>\n                        )}\n                        />\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <FormField\n                            control={form.control}\n                            name=\"budget\"\n                            render={({ field }) => (\n                                <FormItem>\n                                <FormLabel>Valor da Proposta (R$)</FormLabel>\n                                <FormControl>\n                                    <Input \n                                        type=\"number\" \n                                        step=\"0.01\" \n                                        placeholder=\"0.00\"\n                                        {...field} \n                                        onChange={(e) => {\n                                            const val = e.target.value.replace(',', '.');\n                                            field.onChange(val);\n                                        }} \n                                    />\n                                </FormControl>\n                                <FormMessage />\n                                </FormItem>\n                            )}\n                            />\n                            <FormField\n                            control={form.control}\n                            name=\"delivery_days\"\n                            render={({ field }) => (\n                                <FormItem>\n                                <FormLabel>Prazo de Entrega (Dias)</FormLabel>\n                                <FormControl>\n                                    <Input \n                                        type=\"number\" \n                                        placeholder=\"7\"\n                                        {...field} \n                                        onChange={(e) => field.onChange(e.target.value)} \n                                    />\n                                </FormControl>\n                                <FormMessage />\n                                </FormItem>\n                            )}\n                            />\n                        </div>\n                    </>\n                )}\n\n                {step === 2 && (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 text-sm text-blue-700 dark:text-blue-300\">\n                            <strong>Aviso:</strong> Você deve selecionar pelo menos um link do seu portfólio para enviar a proposta.\n                        </div>\n                        <div>\n                            <h4 className=\"text-sm font-medium mb-3\">Links do seu Portfólio (Obrigatório)</h4>\n                            {userPortfolioLinks.length > 0 ? (\n                                <div className=\"flex flex-wrap gap-2\">\n                                    {userPortfolioLinks.map((link, i) => {\n                                        const isSelected = form.watch(\"portfolio_links\").includes(link.url)\n                                        return (\n                                            <Badge \n                                                key={i} \n                                                variant={isSelected ? \"default\" : \"outline\"}\n                                                className=\"cursor-pointer hover:bg-primary/90 transition-colors py-1 px-3\"\n                                                onClick={() => togglePortfolioLink(link.url)}\n                                            >\n                                                {link.title || link.url}\n                                                {isSelected && <Check className=\"ml-1 h-3 w-3\" />}\n                                            </Badge>\n                                        )\n                                    })}\n                                </div>\n                            ) : (\n                                <p className=\"text-sm text-muted-foreground\">Nenhum link cadastrado no seu perfil.</p>\n                            )}\n                        </div>\n\n                        <div className=\"space-y-3\">\n                            <h4 className=\"text-sm font-medium\">Adicionar outro link</h4>\n                            <div className=\"flex gap-2\">\n                                <Input \n                                    placeholder=\"https://...\" \n                                    value={newLink} \n                                    onChange={(e) => setNewLink(e.target.value)}\n                                />\n                                <Button type=\"button\" variant=\"secondary\" onClick={addLink} size=\"icon\">\n                                    <Plus className=\"h-4 w-4\" />\n                                </Button>\n                            </div>\n                            {form.formState.errors.portfolio_links && (\n                                <p className=\"text-sm font-medium text-destructive\">\n                                    {form.formState.errors.portfolio_links.message}\n                                </p>\n                            )}\n                            <div className=\"space-y-2\">\n                                {form.watch(\"portfolio_links\").map((link, index) => (\n                                    <div key={index} className=\"flex items-center justify-between bg-muted p-2 rounded-md text-sm\">\n                                        <span className=\"truncate max-w-[90%]\">{link}</span>\n                                        <Button \n                                            type=\"button\" \n                                            variant=\"ghost\" \n                                            size=\"icon\" \n                                            className=\"h-6 w-6\" \n                                            onClick={() => removeLink(index)}\n                                        >\n                                            <X className=\"h-3 w-3\" />\n                                        </Button>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {error && (\n                    <Alert variant=\"destructive\">\n                        <AlertTitle>Erro</AlertTitle>\n                        <AlertDescription>{error}</AlertDescription>\n                    </Alert>\n                )}\n\n                <DialogFooter className=\"flex justify-between sm:justify-between\">\n                    {step === 2 ? (\n                        <Button type=\"button\" variant=\"outline\" onClick={handlePrevStep}>\n                            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Voltar\n                        </Button>\n                    ) : <div />}\n                    \n                    {step === 1 ? (\n                        <Button type=\"button\" onClick={handleNextStep}>\n                            Próximo <ArrowRight className=\"ml-2 h-4 w-4\" />\n                        </Button>\n                    ) : (\n                        <Button type=\"submit\" disabled={loading}>\n                            {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                            Enviar Proposta\n                        </Button>\n                    )}\n                </DialogFooter>\n            </form>\n            </Form>\n        </DialogContent>\n        </Dialog>\n    </>\n  )\n}\n\nfunction CheckIcon(props: React.SVGProps<SVGSVGElement>) {\n    return (\n      <svg\n        {...props}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <polyline points=\"20 6 9 17 4 12\" />\n      </svg>\n    )\n  }\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\campaigns\\campaign-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\campaigns\\campaign-timeline-sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\campaigns\\review-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2191,2194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2191,2194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":118,"column":47,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3935,3984],"text":"\r\n                        Como foi trabalhar em &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3935,3984],"text":"\r\n                        Como foi trabalhar em &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3935,3984],"text":"\r\n                        Como foi trabalhar em &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3935,3984],"text":"\r\n                        Como foi trabalhar em &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":118,"column":103,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4039,4063],"text":"&quot;?\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4039,4063],"text":"&ldquo;?\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4039,4063],"text":"&#34;?\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4039,4063],"text":"&rdquo;?\r\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport React, { useState } from \"react\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/presentation/components/ui/dialog\"\r\nimport { Button } from \"@/presentation/components/ui/button\"\r\nimport { Label } from \"@/presentation/components/ui/label\"\r\nimport { Textarea } from \"@/presentation/components/ui/textarea\"\r\nimport { Checkbox } from \"@/presentation/components/ui/checkbox\"\r\nimport { Star, RefreshCw } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\nimport { api } from \"@/infrastructure/api/axios-adapter\"\r\nimport { Contract } from \"@/domain/entities/contract\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface ReviewModalProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    contract: Contract\r\n    onReviewSubmitted: () => void\r\n}\r\n\r\nexport default function ReviewModal({\r\n    isOpen,\r\n    onClose,\r\n    contract,\r\n    onReviewSubmitted,\r\n}: ReviewModalProps) {\r\n    const [rating, setRating] = useState(5)\r\n    const [comment, setComment] = useState(\"\")\r\n    const [ratingCategories, setRatingCategories] = useState({\r\n        communication: 5,\r\n        quality: 5,\r\n        timeliness: 5,\r\n        professionalism: 5,\r\n    })\r\n    const [isPublic, setIsPublic] = useState(true)\r\n    const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n    const handleSubmit = async () => {\r\n        if (rating < 1) {\r\n            toast.error(\"Por favor, selecione uma avaliação\")\r\n            return\r\n        }\r\n\r\n        setIsSubmitting(true)\r\n\r\n        try {\r\n            const response = await api.post<{ success: boolean; message?: string }>(`/contracts/${contract.id}/review`, {\r\n                rating,\r\n                comment: comment.trim() || undefined,\r\n                rating_categories: ratingCategories,\r\n                is_public: isPublic,\r\n            })\r\n\r\n            if (response.success) {\r\n                toast.success(\"Avaliação enviada com sucesso!\")\r\n                onReviewSubmitted()\r\n                onClose()\r\n            } else {\r\n                throw new Error(response.message || \"Erro ao enviar avaliação\")\r\n            }\r\n        } catch (error: any) {\r\n            console.error(\"Error submitting review:\", error)\r\n            toast.error(error.response?.data?.message || \"Erro ao enviar avaliação\")\r\n        } finally {\r\n            setIsSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const renderStars = (\r\n        value: number,\r\n        onChange: (value: number) => void,\r\n        size: \"sm\" | \"md\" | \"lg\" = \"md\"\r\n    ) => {\r\n        const sizeClasses = {\r\n            sm: \"h-4 w-4\",\r\n            md: \"h-5 w-5\",\r\n            lg: \"h-6 w-6\",\r\n        }\r\n\r\n        return (\r\n            <div className=\"flex items-center gap-1\">\r\n                {[1, 2, 3, 4, 5].map((star) => (\r\n                    <button\r\n                        key={star}\r\n                        type=\"button\"\r\n                        onClick={() => onChange(star)}\r\n                        className=\"p-1 hover:scale-110 transition-transform\"\r\n                    >\r\n                        <Star\r\n                            className={cn(\r\n                                sizeClasses[size],\r\n                                star <= value ? \"text-yellow-500 fill-current\" : \"text-muted border-muted-foreground/20\"\r\n                            )}\r\n                        />\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={(open) => !isSubmitting && !open && onClose()}>\r\n            <DialogContent className=\"sm:max-w-lg\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"flex items-center gap-2\">\r\n                        <Star className=\"w-5 h-5 text-yellow-500\" />\r\n                        Avaliar Parceria\r\n                    </DialogTitle>\r\n                    <DialogDescription>\r\n                        Como foi trabalhar em \"<span className=\"font-semibold\">{contract.title}</span>\"?\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-6 py-4\">\r\n                    <div className=\"space-y-3\">\r\n                        <Label className=\"text-base font-semibold\">Avaliação Geral</Label>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            {renderStars(rating, setRating, \"lg\")}\r\n                            <span className=\"text-lg font-semibold\">{rating}/5</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label className=\"text-sm\">Comunicação</Label>\r\n                            {renderStars(ratingCategories.communication, (val) => setRatingCategories(p => ({ ...p, communication: val })), \"sm\")}\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label className=\"text-sm\">Qualidade</Label>\r\n                            {renderStars(ratingCategories.quality, (val) => setRatingCategories(p => ({ ...p, quality: val })), \"sm\")}\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label className=\"text-sm\">Pontualidade</Label>\r\n                            {renderStars(ratingCategories.timeliness, (val) => setRatingCategories(p => ({ ...p, timeliness: val })), \"sm\")}\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label className=\"text-sm\">Profissionalismo</Label>\r\n                            {renderStars(ratingCategories.professionalism, (val) => setRatingCategories(p => ({ ...p, professionalism: val })), \"sm\")}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-3\">\r\n                        <Label htmlFor=\"comment\">Comentário (opcional)</Label>\r\n                        <Textarea\r\n                            id=\"comment\"\r\n                            value={comment}\r\n                            onChange={(e) => setComment(e.target.value)}\r\n                            placeholder=\"Compartilhe sua experiência...\"\r\n                            rows={3}\r\n                            maxLength={1000}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <Checkbox\r\n                                id=\"public-review\"\r\n                                checked={isPublic}\r\n                                onCheckedChange={(checked) => setIsPublic(checked as boolean)}\r\n                            />\r\n                            <Label htmlFor=\"public-review\" className=\"text-sm cursor-pointer\">\r\n                                Tornar esta avaliação pública\r\n                            </Label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        onClick={onClose}\r\n                        disabled={isSubmitting}\r\n                    >\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button\r\n                        onClick={handleSubmit}\r\n                        disabled={isSubmitting}\r\n                        className=\"bg-primary hover:bg-primary/90\"\r\n                    >\r\n                        {isSubmitting ? (\r\n                            <>\r\n                                <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Enviando...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                Enviar Avaliação\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\creator\\edit-profile.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'imagePreview'. Either include it or remove the dependency array.","line":90,"column":6,"nodeType":"ArrayExpression","endLine":90,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [imagePreview, initialProfile]","fix":{"range":[3438,3454],"text":"[imagePreview, initialProfile]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\creator\\financial\\bank-registration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\creator\\financial\\financial-view.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\creator\\financial\\withdrawal-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\creator\\portfolio\\portfolio-view.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":353,"column":37,"nodeType":"JSXOpeningElement","endLine":357,"endColumn":39,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":535,"column":45,"nodeType":"JSXOpeningElement","endLine":535,"endColumn":129,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":575,"column":33,"nodeType":"JSXOpeningElement","endLine":579,"endColumn":35,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\application-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\brand-dashboard.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activeTab' is assigned a value but never used.","line":25,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\campaign-stats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\contract-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\contract-list.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\creator-dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\dashboard\\my-applications-list.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\financial\\transaction-history.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[832,835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[832,835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pagination' is assigned a value but never used.","line":52,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":52,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1322,1325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1322,1325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1821,1824],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1821,1824],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":136,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":136,"endColumn":54}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/presentation/components/ui/card';\nimport { Button } from '@/presentation/components/ui/button';\nimport { Badge } from '@/presentation/components/ui/badge';\nimport { toast } from 'sonner';\nimport { useAuth } from '@/presentation/contexts/auth-provider';\nimport { api } from '@/infrastructure/api/axios-adapter';\nimport { \n  CreditCard, \n  Calendar, \n  DollarSign, \n  CheckCircle, \n  XCircle, \n  Clock, \n  Download,\n  RefreshCw,\n  Eye,\n  Copy\n} from 'lucide-react';\n\ninterface Transaction {\n  id: number;\n  pagarme_transaction_id: string;\n  status: string;\n  amount: string;\n  payment_method: string;\n  card_brand?: string;\n  card_last4?: string;\n  card_holder_name: string;\n  payment_data: any;\n  paid_at: string;\n  expires_at: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface TransactionHistoryResponse {\n  transactions: Transaction[];\n  pagination: {\n    current_page: number;\n    last_page: number;\n    per_page: number;\n    total: number;\n  };\n}\n\nexport default function TransactionHistory() {\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState<any>(null);\n  const [selectedTransaction, setSelectedTransaction] = useState<Transaction | null>(null);\n  const { user } = useAuth();\n\n  useEffect(() => {\n    if (user) {\n      loadTransactions();\n    }\n  }, [user]);\n\n  const loadTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get<TransactionHistoryResponse>('/payment/transactions');\n      \n      setTransactions(response.transactions);\n      setPagination(response.pagination);\n    } catch (error: any) {\n      console.error('TransactionHistory: API call failed:', error);\n      toast.error(\"Erro\", {\n        description: \"Falha ao carregar histórico de transações\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRefresh = () => {\n    if (user) {\n      loadTransactions();\n    }\n  };\n\n  const formatCurrency = (amount: string) => {\n    const value = parseFloat(amount) / 100; // Convert from cents to reais\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(value);\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    return new Date(dateString).toLocaleDateString('pt-BR', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'paid':\n        return (\n          <Badge className=\"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200\">\n            <CheckCircle className=\"w-3 h-3 mr-1\" />\n            Pago\n          </Badge>\n        );\n      case 'failed':\n        return (\n          <Badge className=\"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200\">\n            <XCircle className=\"w-3 h-3 mr-1\" />\n            Falhou\n          </Badge>\n        );\n      case 'pending':\n        return (\n          <Badge className=\"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200\">\n            <Clock className=\"w-3 h-3 mr-1\" />\n            Pendente\n          </Badge>\n        );\n      default:\n        return (\n          <Badge className=\"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n            {status}\n          </Badge>\n        );\n    }\n  };\n\n  const getPaymentMethodIcon = (method: string, brand?: string) => {\n    if (method === 'credit_card') {\n      return <CreditCard className=\"w-4 h-4\" />;\n    }\n    return <DollarSign className=\"w-4 h-4\" />;\n  };\n\n  const copyToClipboard = (text: string, label: string) => {\n    navigator.clipboard.writeText(text);\n    toast.success(\"Copiado!\", {\n      description: `${label} copiado para a área de transferência`,\n    });\n  };\n\n  const downloadReceipt = (transaction: Transaction) => {\n    // Create a simple receipt text\n    const receipt = `\nNEXA UGC - Recibo de Pagamento\n==============================\n\nID da Transação: ${transaction.pagarme_transaction_id}\nData: ${formatDate(transaction.created_at)}\nValor: ${formatCurrency(transaction.amount)}\nStatus: ${transaction.status.toUpperCase()}\nMétodo de Pagamento: ${transaction.payment_method.toUpperCase()}\nCartão: ${transaction.card_brand?.toUpperCase()} ****${transaction.card_last4}\nTitular: ${transaction.card_holder_name}\n\nAssinatura Premium: 30 dias\nVálido até: ${formatDate(transaction.expires_at)}\n\nObrigado pela sua assinatura!\n    `.trim();\n\n    const blob = new Blob([receipt], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `nexa-recibo-${transaction.pagarme_transaction_id}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    toast.success(\"Recibo Baixado\", {\n      description: \"O recibo de pagamento foi baixado\",\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-100\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">Histórico de Transações</h1>\n          <p className=\"text-muted-foreground\">\n            Visualize todas as suas transações de pagamento e histórico de assinatura\n          </p>\n        </div>\n        <Button onClick={handleRefresh} variant=\"outline\" size=\"sm\">\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\n          Atualizar\n        </Button>\n      </div>\n\n      {/* Summary Card */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <DollarSign className=\"w-5 h-5\" />\n            Resumo de Pagamentos\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-foreground\">\n                {transactions.length}\n              </div>\n              <div className=\"text-sm text-muted-foreground\">Total de Transações</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-green-600\">\n                {transactions.filter(t => t.status === 'paid').length}\n              </div>\n              <div className=\"text-sm text-muted-foreground\">Pagamentos Realizados</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-foreground\">\n                {formatCurrency(transactions.filter(t => t.status === 'paid').reduce((sum, t) => sum + parseFloat(t.amount), 0).toString())}\n              </div>\n              <div className=\"text-sm text-muted-foreground\">Valor Total</div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Transactions List */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-lg font-semibold text-foreground\">Transações Recentes</h2>\n        \n        {transactions.length === 0 ? (\n          <Card>\n            <CardContent className=\"flex flex-col items-center justify-center py-8\">\n              <CreditCard className=\"w-12 h-12 text-muted-foreground mb-4\" />\n              <p className=\"text-muted-foreground text-center\">\n                Nenhuma transação encontrada. Seu histórico de pagamentos aparecerá aqui.\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          transactions.map((transaction) => (\n            <Card key={transaction.id} className=\"hover:shadow-md transition-shadow\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-3\">\n                    {getPaymentMethodIcon(transaction.payment_method, transaction.card_brand)}\n                    <div>\n                      <div className=\"font-semibold text-foreground\">\n                        {formatCurrency(transaction.amount)}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        {transaction.card_brand?.toUpperCase()} ****{transaction.card_last4}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {getStatusBadge(transaction.status)}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => setSelectedTransaction(transaction)}\n                    >\n                      <Eye className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-muted-foreground\">Data:</span>\n                    <span className=\"ml-2 text-foreground\">\n                      {formatDate(transaction.created_at)}\n                    </span>\n                  </div>\n                  <div>\n                    <span className=\"text-muted-foreground\">Titular:</span>\n                    <span className=\"ml-2 text-foreground\">\n                      {transaction.card_holder_name}\n                    </span>\n                  </div>\n                  <div>\n                    <span className=\"text-muted-foreground\">ID da Transação:</span>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      <span className=\"text-foreground font-mono text-xs\">\n                        {transaction.pagarme_transaction_id}\n                      </span>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => copyToClipboard(transaction.pagarme_transaction_id, 'ID da Transação')}\n                      >\n                        <Copy className=\"w-3 h-3\" />\n                      </Button>\n                    </div>\n                  </div>\n                  <div>\n                    <span className=\"text-muted-foreground\">Válido até:</span>\n                    <span className=\"ml-2 text-foreground\">\n                      {formatDate(transaction.expires_at)}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end gap-2 mt-4 pt-4 border-t\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => downloadReceipt(transaction)}\n                  >\n                    <Download className=\"w-4 h-4 mr-2\" />\n                    Baixar Recibo\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        )}\n      </div>\n\n      {/* Transaction Details Modal */}\n      {selectedTransaction && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <Card className=\"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Detalhes da Transação</CardTitle>\n              <CardDescription>\n                Informações detalhadas sobre este pagamento\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Valor</label>\n                  <div className=\"text-lg font-semibold text-foreground\">\n                    {formatCurrency(selectedTransaction.amount)}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Status</label>\n                  <div className=\"mt-1\">\n                    {getStatusBadge(selectedTransaction.status)}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">ID da Transação</label>\n                  <div className=\"text-sm font-mono text-foreground\">\n                    {selectedTransaction.pagarme_transaction_id}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Método de Pagamento</label>\n                  <div className=\"text-foreground\">\n                    {selectedTransaction.payment_method.toUpperCase()}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Bandeira do Cartão</label>\n                  <div className=\"text-foreground\">\n                    {selectedTransaction.card_brand?.toUpperCase() || 'N/A'}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Últimos 4 Dígitos</label>\n                  <div className=\"text-foreground\">\n                    ****{selectedTransaction.card_last4}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Titular do Cartão</label>\n                  <div className=\"text-foreground\">\n                    {selectedTransaction.card_holder_name}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Pago em</label>\n                  <div className=\"text-foreground\">\n                    {formatDate(selectedTransaction.paid_at)}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Criado em</label>\n                  <div className=\"text-foreground\">\n                    {formatDate(selectedTransaction.created_at)}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Expira em</label>\n                  <div className=\"text-foreground\">\n                    {formatDate(selectedTransaction.expires_at)}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-2 pt-4\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setSelectedTransaction(null)}\n                >\n                  Fechar\n                </Button>\n                <Button\n                  onClick={() => downloadReceipt(selectedTransaction)}\n                >\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Baixar Recibo\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\benefits.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\faq.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\final-cta.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\how-it-works.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\pricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\landing\\why-nexa.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\notification-bell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\stripe\\stripe-connect-onboarding.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\terms\\terms-content.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\terms\\terms-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\theme-toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\__tests__\\button.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":6,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":6,"endColumn":28,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[146,224],"text":"type InputProps = React.InputHTMLAttributes<HTMLInputElement>"},"desc":"Replace empty interface with a type alias."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\phone-input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":6,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":6,"endColumn":31,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[146,233],"text":"type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>"},"desc":"Replace empty interface with a type alias."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\contexts\\auth-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\contexts\\chat-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\contexts\\echo-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\contexts\\notification-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\artur\\Documents\\GitHub\\Nexa\\frontend\\src\\presentation\\contexts\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]